<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>main &mdash; R-View Tool v1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=76e2d817"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../docs_home.html" class="icon icon-home">
            R-View Tool
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">R-View Tool</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../docs_home.html">R-View Tool</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../docs_home.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Module code</a></li>
      <li class="breadcrumb-item active">main</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for main</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">copy</span>
<span class="kn">import</span> <span class="nn">ctypes</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">threading</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">wraps</span>

<span class="kn">import</span> <span class="nn">customtkinter</span> <span class="k">as</span> <span class="nn">ctk</span>
<span class="kn">import</span> <span class="nn">psutil</span>
<span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span><span class="p">,</span> <span class="n">ImageTk</span>
<span class="kn">from</span> <span class="nn">customtkinter</span> <span class="kn">import</span> <span class="n">filedialog</span>

<span class="kn">from</span> <span class="nn">file_handler</span> <span class="kn">import</span> <span class="n">FileHandler</span>
<span class="c1"># -Custom Classes--</span>
<span class="kn">from</span> <span class="nn">graphics_manager</span> <span class="kn">import</span> <span class="n">GraphicsManager</span><span class="p">,</span> <span class="n">OverlayGraphicsManager</span>
<span class="kn">from</span> <span class="nn">image_processor</span> <span class="kn">import</span> <span class="n">ImageProcessor</span>
<span class="kn">from</span> <span class="nn">keybinds</span> <span class="kn">import</span> <span class="n">KeyBinds</span><span class="p">,</span> <span class="n">CanvasKeybinds</span><span class="p">,</span> <span class="n">OverlayKeyBinds</span>
<span class="kn">from</span> <span class="nn">outliner</span> <span class="kn">import</span> <span class="n">Outliner</span>
<span class="kn">from</span> <span class="nn">tools</span> <span class="kn">import</span> <span class="n">Tools</span><span class="p">,</span> <span class="n">TextInsertWindow</span>


<span class="c1"># Icons used in the app were downloaded from https://icons8.com/.</span>

<span class="c1"># ---------------Top Level Windows------------------------#</span>
<div class="viewcode-block" id="FileLoadWindow">
<a class="viewcode-back" href="../main.html#main.FileLoadWindow">[docs]</a>
<span class="k">class</span> <span class="nc">FileLoadWindow</span><span class="p">(</span><span class="n">ctk</span><span class="o">.</span><span class="n">CTkToplevel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      Toplevel window that handles loading and verifying of Images and Project files.</span>
<span class="sd">       &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Args:</span>
<span class="sd">            app: main ctk.CTK app</span>
<span class="sd">            *args:</span>
<span class="sd">            **kwargs:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">app</span> <span class="o">=</span> <span class="n">app</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="mi">720</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">winfo_screenwidth</span><span class="p">()</span> <span class="o">*</span> <span class="mf">0.335</span><span class="p">))</span>
        <span class="n">height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">-</span> <span class="mi">40</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">screen_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">winfo_screenwidth</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">screen_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">screen_width</span> <span class="o">*</span> <span class="mf">0.5625</span>  <span class="c1"># 16:9 ratio</span>

        <span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">screen_width</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="n">y</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">screen_height</span> <span class="o">-</span> <span class="n">height</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="si">}</span><span class="s2">x</span><span class="si">{</span><span class="n">height</span><span class="si">}</span><span class="s2">+</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">+</span><span class="si">{</span><span class="n">y</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Load Window&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resizable</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#282828&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;win&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">201</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">iconbitmap</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;sources&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;logo.ico&quot;</span><span class="p">)))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">201</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">iconbitmap</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;@sources&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;logo.xbm&quot;</span><span class="p">)))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">file_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_names</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">corrupted_file_names</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_string</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">project_file_path</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">project_status</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_protocol</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># for the Dropdown menu</span>
        <span class="n">sequence_search_modes</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Auto&quot;</span><span class="p">,</span> <span class="s2">&quot;Normal (_001, -001, file001)&quot;</span><span class="p">,</span> <span class="s2">&quot;Pot Player (_015959.999.jpg)&quot;</span><span class="p">,</span>
                                 <span class="s2">&quot;VLC Player (vlcsnap-01_59_59...)&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sequence_search_mode</span> <span class="o">=</span> <span class="s2">&quot;auto&quot;</span>

        <span class="n">title_image</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkImage</span><span class="p">(</span><span class="n">light_image</span><span class="o">=</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;sources&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;rview_title.png&quot;</span><span class="p">)),</span>
                                   <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_rel_width</span><span class="p">(</span><span class="mf">.537</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_rel_width</span><span class="p">(</span><span class="mf">.063</span><span class="p">)))</span>

        <span class="n">image_label</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="n">title_image</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">image_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;we&quot;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="p">)</span>

        <span class="n">version_lbl</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;v 1.0&quot;</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;transparent&quot;</span><span class="p">)</span>
        <span class="n">version_lbl</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">in_</span><span class="o">=</span><span class="n">image_label</span><span class="p">,</span> <span class="n">relx</span><span class="o">=</span><span class="mf">.8</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;ne&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">open_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Open Images&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">browse_images</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">130</span><span class="p">,</span>
                                      <span class="n">height</span><span class="o">=</span><span class="mi">35</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">18</span><span class="p">),</span> <span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;#EFEFEF&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">load_project_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Load Project&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">browse_project</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">120</span><span class="p">,</span>
                                              <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#6C6C6C&quot;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">35</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">17</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">clear_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Clear&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">clear_file_list</span><span class="p">,</span>
                                       <span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span>
                                       <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">18</span><span class="p">),</span> <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#d2190d&quot;</span><span class="p">,</span>
                                       <span class="n">hover_color</span><span class="o">=</span><span class="s2">&quot;#6a0c06&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">file_list_box</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkTextbox</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">*</span> <span class="mf">0.833</span><span class="p">),</span>
                                            <span class="n">corner_radius</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#1f1f1f&quot;</span><span class="p">,</span>
                                            <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">wrap</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">,</span>
                                            <span class="n">exportselection</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_list_box</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_list_box</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;ns&#39;</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">open_btn</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">in_</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file_list_box</span><span class="p">,</span> <span class="n">relx</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;sw&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">clear_btn</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">in_</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file_list_box</span><span class="p">,</span> <span class="n">relx</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">.99</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;ne&quot;</span><span class="p">,</span> <span class="n">bordermode</span><span class="o">=</span><span class="s2">&quot;outside&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">load_project_btn</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">in_</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file_list_box</span><span class="p">,</span> <span class="n">relx</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.02</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;se&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">count_lbl</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Total files: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">file_list</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                                      <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;transparent&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">18</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">count_lbl</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">in_</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file_list_box</span><span class="p">,</span> <span class="n">relx</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;nw&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">sequence_search_combobox</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkComboBox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="n">sequence_search_modes</span><span class="p">,</span> <span class="n">dropdown_fg_color</span><span class="o">=</span><span class="s2">&quot;#383838&quot;</span><span class="p">,</span>
                                                        <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s2">&quot;readonly&quot;</span><span class="p">,</span> <span class="n">dropdown_font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span>
                                                        <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_rel_width</span><span class="p">(</span><span class="mf">.3</span><span class="p">)),</span>
                                                        <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">set_sequence_search_mode</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">sequence_search_combobox</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">in_</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file_list_box</span><span class="p">,</span> <span class="n">relx</span><span class="o">=</span><span class="mf">.5</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="n">bordermode</span><span class="o">=</span><span class="s2">&quot;outside&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sequence_search_combobox</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;Sequence Search (Auto)&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">file_load_progressbar</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkProgressBar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="s2">&quot;horizontal&quot;</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#282828&quot;</span><span class="p">,</span>
                                                        <span class="n">progress_color</span><span class="o">=</span><span class="s2">&quot;#227AFF&quot;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">corner_radius</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_load_progressbar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_load_progressbar</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;s&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">main_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Load&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">call_load_files</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">,</span>
                                      <span class="n">width</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_rel_width</span><span class="p">(</span><span class="mf">0.288</span><span class="p">)),</span>
                                      <span class="n">height</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_rel_width</span><span class="p">(</span><span class="mf">0.076</span><span class="p">)),</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">25</span><span class="p">),</span> <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#3651D4&quot;</span><span class="p">,</span>
                                      <span class="n">hover_color</span><span class="o">=</span><span class="s2">&quot;#343F74&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;n&quot;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">path_override_frame</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkFrame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#1D3159&quot;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">*</span> <span class="mf">0.833</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">path_override_frame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">path_override_frame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">path_override_frame</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">path_override_frame</span><span class="o">.</span><span class="n">grid_propagate</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

        <span class="n">path_override_label</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path_override_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Path to the Images:&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">))</span>
        <span class="n">path_override_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;e&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">path_override_entry_var</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">path_override_entry</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkEntry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path_override_frame</span><span class="p">,</span>
                                                <span class="n">width</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">*</span> <span class="mf">0.43</span><span class="p">),</span> <span class="n">height</span><span class="o">=</span><span class="mi">35</span><span class="p">,</span>
                                                <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#C7C7C7&quot;</span><span class="p">,</span>
                                                <span class="n">placeholder_text_color</span><span class="o">=</span><span class="s2">&quot;#363636&quot;</span><span class="p">,</span>
                                                <span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;Black&quot;</span><span class="p">,</span> <span class="n">exportselection</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                                <span class="n">textvariable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">path_override_entry_var</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">14</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">path_override_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">path_override_entry_var</span><span class="o">.</span><span class="n">trace_add</span><span class="p">(</span><span class="s2">&quot;write&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">folder_override_entrybox_updated</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">pick_override_path_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path_override_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Pick&quot;</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#c43737&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span>
                                                    <span class="n">hover_color</span><span class="o">=</span><span class="s2">&quot;#632020&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pick_override_path_btn_handler</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pick_override_path_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

        <span class="n">ignore_images_label</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path_override_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Ignore Missing Images:&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">))</span>
        <span class="n">ignore_images_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;e&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">ignore_images_checkbox</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkCheckBox</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path_override_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ignore_images_checkbox</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">21</span><span class="p">,</span> <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ignore_images_checkbox</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">)</span>

        <span class="n">ignore_images_toolip</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path_override_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;(Generates blanks in the provided path.)&quot;</span><span class="p">,</span>
                                            <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">14</span><span class="p">))</span>
        <span class="n">ignore_images_toolip</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">in_</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ignore_images_checkbox</span><span class="p">,</span> <span class="n">relx</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;nw&quot;</span><span class="p">)</span>

        <span class="c1"># Closing the window kills the App.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">protocol</span><span class="p">(</span><span class="s2">&quot;WM_DELETE_WINDOW&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">kill_app</span><span class="p">)</span>

<div class="viewcode-block" id="FileLoadWindow.pick_override_path_btn_handler">
<a class="viewcode-back" href="../main.html#main.FileLoadWindow.pick_override_path_btn_handler">[docs]</a>
    <span class="k">def</span> <span class="nf">pick_override_path_btn_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">override_folder_path</span> <span class="o">=</span> <span class="n">filedialog</span><span class="o">.</span><span class="n">askdirectory</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select images folder.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">override_folder_path</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">path_override_entry_var</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">override_folder_path</span><span class="p">)</span></div>


<div class="viewcode-block" id="FileLoadWindow.get_rel_width">
<a class="viewcode-back" href="../main.html#main.FileLoadWindow.get_rel_width">[docs]</a>
    <span class="k">def</span> <span class="nf">get_rel_width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">times</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method that returns a relative width of the window times a value.</span>

<span class="sd">        Args:</span>
<span class="sd">            times(float): A value that multiplies the window width.</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: Resulting float value.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">rel_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">*</span> <span class="n">times</span>
        <span class="k">return</span> <span class="n">rel_width</span></div>


<div class="viewcode-block" id="FileLoadWindow.set_sequence_search_mode">
<a class="viewcode-back" href="../main.html#main.FileLoadWindow.set_sequence_search_mode">[docs]</a>
    <span class="k">def</span> <span class="nf">set_sequence_search_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">choice</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Called on selecting a search mode from the dropdown menu in the FileLoad window.</span>
<span class="sd">        Sets the sequence search mode to the selected mode.</span>

<span class="sd">        Args:</span>
<span class="sd">            choice:Sequence search mode to extract the sequence pattern from the filenames. Deafault &quot;auto&quot;.</span>

<span class="sd">        Returns:</span>
<span class="sd">                None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Normal (_001, -001, file001)= Normal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sequence_search_mode</span> <span class="o">=</span> <span class="n">choice</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span></div>


<div class="viewcode-block" id="FileLoadWindow.browse_images">
<a class="viewcode-back" href="../main.html#main.FileLoadWindow.browse_images">[docs]</a>
    <span class="k">def</span> <span class="nf">browse_images</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Browse and load Images and sets the current_protocol to &quot;images&quot;.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">disable_buttons</span><span class="p">()</span>
        <span class="c1"># opened_files = filedialog.askopenfilenames(title=&quot;Select Files&quot;,</span>
        <span class="c1"># filetypes=([(&quot;Image Files&quot;,&quot;*.bmp;*.gif;*.icns;*.ico;*.im;*.jpeg;*.jpg;*.jfif;*.jpeg2000;*.png;*.ppm;*.tga;*.tif;*.tiff;*.webp&quot;)]))</span>

        <span class="n">opened_files</span> <span class="o">=</span> <span class="n">filedialog</span><span class="o">.</span><span class="n">askopenfilenames</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select Files&quot;</span><span class="p">,</span>
                                                   <span class="n">filetypes</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;Image Files&quot;</span><span class="p">,</span>
                                                               <span class="s2">&quot;.bmp .BMP .gif .GIF .icns .ICNS .ico .ICO .im .IM .jpeg .JPEG .jpg .JPG .jfif .JFIF .jpeg2000 .JPEG2000 .png .PNG .ppm .PPM .tga .TGA .tif .TIF .tiff .TIFF .webp .WEBP&quot;</span><span class="p">),</span>
                                                              <span class="p">(</span><span class="s2">&quot;All Files&quot;</span><span class="p">,</span> <span class="s2">&quot;*.*&quot;</span><span class="p">)])</span>

        <span class="k">if</span> <span class="n">opened_files</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_list</span><span class="p">:</span>
            <span class="c1"># If the user used the file load window to load an image, change protocol from project to image.</span>
            <span class="k">if</span> <span class="n">opened_files</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">change_protocol</span><span class="p">(</span><span class="s2">&quot;images&quot;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">opened_files</span><span class="p">:</span>
                    <span class="n">extracted_filename</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span>
                    <span class="k">if</span> <span class="n">file</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_list</span><span class="p">:</span>
                        <span class="c1"># validating images.</span>
                        <span class="n">valid_image</span> <span class="o">=</span> <span class="n">FileHandler</span><span class="o">.</span><span class="n">validate_image</span><span class="p">(</span><span class="n">image</span><span class="o">=</span><span class="n">file</span><span class="p">)</span>
                        <span class="k">if</span> <span class="n">valid_image</span><span class="p">:</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">file_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">extracted_filename</span><span class="p">)</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">file_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
                        <span class="k">elif</span> <span class="n">extracted_filename</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">corrupted_file_names</span><span class="p">:</span>
                            <span class="c1"># Storing the corrupted filenames.</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">corrupted_file_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">extracted_filename</span><span class="p">)</span>

            <span class="n">file_list_string</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_list</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">corrupted_file_names</span><span class="p">:</span>
                <span class="n">file_list_string</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">file_names</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">One or more files failed to load:</span><span class="se">\n\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">corrupted_file_names</span><span class="p">)</span>

            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_list</span><span class="p">:</span>
                <span class="n">file_list_string</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">file_names</span><span class="p">)</span>

            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">corrupted_file_names</span><span class="p">:</span>
                <span class="n">file_list_string</span> <span class="o">=</span> <span class="s2">&quot;One or more files failed to load:</span><span class="se">\n\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">corrupted_file_names</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">change_protocol</span><span class="p">(</span><span class="s2">&quot;fail&quot;</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">file_string</span> <span class="o">=</span> <span class="n">file_list_string</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_file_list_box</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file_string</span><span class="p">,</span> <span class="n">count</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">file_list</span><span class="p">))</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_protocol</span> <span class="o">==</span> <span class="s2">&quot;images&quot;</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_protocol</span> <span class="o">==</span> <span class="s2">&quot;project&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">enable_buttons</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">enable_input_buttons</span><span class="p">()</span></div>


<div class="viewcode-block" id="FileLoadWindow.browse_project">
<a class="viewcode-back" href="../main.html#main.FileLoadWindow.browse_project">[docs]</a>
    <span class="k">def</span> <span class="nf">browse_project</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Browse and load a saved project file and sets the current_protocol to &quot;project&quot;.</span>

<span class="sd">        Returns:</span>
<span class="sd">                None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">disable_buttons</span><span class="p">()</span>
        <span class="n">opened_file</span> <span class="o">=</span> <span class="n">filedialog</span><span class="o">.</span><span class="n">askopenfilename</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select File&quot;</span><span class="p">,</span> <span class="n">filetypes</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;RView&quot;</span><span class="p">,</span> <span class="s2">&quot;*.rvp&quot;</span><span class="p">)])</span>
        <span class="k">if</span> <span class="n">opened_file</span><span class="p">:</span>
            <span class="c1"># If the user used the file load window to load a project, change protocol from image to project.</span>
            <span class="n">project_file_validated</span> <span class="o">=</span> <span class="n">FileHandler</span><span class="o">.</span><span class="n">validate_project_file</span><span class="p">(</span><span class="n">opened_file</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">project_file_validated</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">change_protocol</span><span class="p">(</span><span class="s2">&quot;project&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">project_status</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">project_file_path</span> <span class="o">=</span> <span class="n">opened_file</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">update_file_list_box</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="s2">&quot;Validating Project file...</span><span class="se">\n\n</span><span class="s2">Project successfully loaded.&quot;</span><span class="p">,</span>
                                          <span class="n">count</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>  <span class="c1"># project validation failed.</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">change_protocol</span><span class="p">(</span><span class="s2">&quot;fail&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">update_file_list_box</span><span class="p">(</span>
                    <span class="n">string</span><span class="o">=</span><span class="s2">&quot;Validating Project file...</span><span class="se">\n\n</span><span class="s2">Project loading failed.</span><span class="se">\n\n</span><span class="s2">Reason: Missing source files or Corrupted save.&quot;</span><span class="p">,</span>
                    <span class="n">count</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_protocol</span> <span class="o">==</span> <span class="s2">&quot;images&quot;</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_protocol</span> <span class="o">==</span> <span class="s2">&quot;project&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">enable_buttons</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">enable_input_buttons</span><span class="p">()</span></div>


<div class="viewcode-block" id="FileLoadWindow.call_load_files">
<a class="viewcode-back" href="../main.html#main.FileLoadWindow.call_load_files">[docs]</a>
    <span class="k">def</span> <span class="nf">call_load_files</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Loads images or project and calls the load_images method on App.</span>

<span class="sd">        Returns:</span>
<span class="sd">                None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_protocol</span> <span class="o">==</span> <span class="s2">&quot;images&quot;</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">load_images</span><span class="p">()</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>  <span class="c1"># Failed to load the image even after full validation.</span>
                <span class="n">error_message</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;The following error occurred:</span><span class="se">\n\n</span><span class="si">{}</span><span class="s1">&#39;&#39;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">clear_file_list</span><span class="p">()</span>
                <span class="c1"># shows the error message on the file_list_box</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">update_file_list_box</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="n">error_message</span><span class="p">,</span> <span class="n">count</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">file_list_box</span><span class="o">.</span><span class="n">see</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>

        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_protocol</span> <span class="o">==</span> <span class="s2">&quot;project&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ignore_images_checkbox</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
                <span class="n">ignore_missing_images</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">ignore_missing_images</span> <span class="o">=</span> <span class="kc">False</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">images_folder_path</span> <span class="o">:=</span> <span class="bp">self</span><span class="o">.</span><span class="n">path_override_entry</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>  <span class="c1"># Passing the new folderpath to the images.</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">update_file_list_box</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="s2">&quot;Retrying....</span><span class="se">\n</span><span class="s2">Fetching images...&quot;</span><span class="p">,</span> <span class="n">count</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">load_project</span><span class="p">(</span><span class="n">project_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">project_file_path</span><span class="p">,</span>
                                          <span class="n">images_folder_override_path</span><span class="o">=</span><span class="n">images_folder_path</span><span class="p">,</span>
                                          <span class="n">ignore_missing_images</span><span class="o">=</span><span class="n">ignore_missing_images</span><span class="p">)</span>

                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">load_project</span><span class="p">(</span><span class="n">project_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">project_file_path</span><span class="p">)</span>

            <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">path_override_entry</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">path_override_entry</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#EEA2A2&quot;</span><span class="p">)</span>  <span class="c1"># a red color</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">update_file_list_box</span><span class="p">()</span>
                <span class="n">error_message</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;The following error occurred:</span><span class="se">\n\n</span><span class="s2">One or more Image files missing.</span><span class="se">\n</span><span class="s2">Provide a valid path to the images folder.&quot;</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">update_file_list_box</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="n">error_message</span><span class="p">,</span> <span class="n">count</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">file_list_box</span><span class="o">.</span><span class="n">see</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">path_override_frame</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">in_</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file_list_box</span><span class="p">,</span> <span class="n">relx</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;sw&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">enable_buttons</span><span class="p">()</span>
            <span class="c1">#</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>  <span class="c1"># Failed to load the project even after full validation.</span>

                <span class="n">error_message</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;The following error occurred:</span><span class="se">\n\n</span><span class="s2">Corrupted Save.</span><span class="se">\n</span><span class="s2">Try loading the project again. </span><span class="se">\n</span><span class="s2">Error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">clear_file_list</span><span class="p">()</span>
                <span class="c1"># shows the error message on the file_list_box</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">update_file_list_box</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="n">error_message</span><span class="p">,</span> <span class="n">count</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">file_list_box</span><span class="o">.</span><span class="n">see</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span></div>


<div class="viewcode-block" id="FileLoadWindow.folder_override_entrybox_updated">
<a class="viewcode-back" href="../main.html#main.FileLoadWindow.folder_override_entrybox_updated">[docs]</a>
    <span class="k">def</span> <span class="nf">folder_override_entrybox_updated</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Called when path_override_entry box is updated with a value. If the entry box is empty disable the ignore_missing_image checkbox.</span>

<span class="sd">        Args:</span>
<span class="sd">            *args:</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">entry_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">path_override_entry_var</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">entry_value</span><span class="p">:</span>  <span class="c1"># Check if the entry box is not empty</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ignore_images_checkbox</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ignore_images_checkbox</span><span class="o">.</span><span class="n">deselect</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ignore_images_checkbox</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="FileLoadWindow.change_protocol">
<a class="viewcode-back" href="../main.html#main.FileLoadWindow.change_protocol">[docs]</a>
    <span class="k">def</span> <span class="nf">change_protocol</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_protocol</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Change the protocol between &quot;images&quot; , &quot;project&quot; or &quot;fail&quot;.</span>

<span class="sd">        Args:</span>
<span class="sd">            new_protocol (str): Current protocol to use.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">path_override_frame</span><span class="o">.</span><span class="n">place_forget</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">path_override_entry</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;end&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">new_protocol</span> <span class="o">==</span> <span class="s2">&quot;project&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">file_list</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">file_names</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">corrupted_file_names</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">file_string</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">current_protocol</span> <span class="o">=</span> <span class="s2">&quot;project&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">enable_buttons</span><span class="p">()</span>

        <span class="k">elif</span> <span class="n">new_protocol</span> <span class="o">==</span> <span class="s2">&quot;images&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">project_status</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">project_file_path</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">current_protocol</span> <span class="o">=</span> <span class="s2">&quot;images&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">enable_buttons</span><span class="p">()</span>

        <span class="k">elif</span> <span class="n">new_protocol</span> <span class="o">==</span> <span class="s2">&quot;fail&quot;</span><span class="p">:</span>  <span class="c1"># Reset everything on fail.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">file_list</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">file_names</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">corrupted_file_names</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">file_string</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">project_status</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">project_file_path</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">current_protocol</span> <span class="o">=</span> <span class="s2">&quot;fail&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">enable_buttons</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">main_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="FileLoadWindow.update_file_list_box">
<a class="viewcode-back" href="../main.html#main.FileLoadWindow.update_file_list_box">[docs]</a>
    <span class="k">def</span> <span class="nf">update_file_list_box</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">string</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">count</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Updates the textbox on the file load window.</span>

<span class="sd">        Args:</span>
<span class="sd">            string (str): Text to display</span>
<span class="sd">            count (int): Count of files loaded.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_list_box</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_list_box</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;0.0&quot;</span><span class="p">,</span> <span class="s2">&quot;end&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_list_box</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s2">&quot;0.0&quot;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_list_box</span><span class="o">.</span><span class="n">see</span><span class="p">(</span><span class="s2">&quot;end&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">count_lbl</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Total files: </span><span class="si">{</span><span class="n">count</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_list_box</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="FileLoadWindow.enable_buttons">
<a class="viewcode-back" href="../main.html#main.FileLoadWindow.enable_buttons">[docs]</a>
    <span class="k">def</span> <span class="nf">enable_buttons</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Enables all buttons on the FileLoad window.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">main_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clear_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">,</span> <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">load_project_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">open_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="FileLoadWindow.disable_buttons">
<a class="viewcode-back" href="../main.html#main.FileLoadWindow.disable_buttons">[docs]</a>
    <span class="k">def</span> <span class="nf">disable_buttons</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">         Disables all buttons on the FileLoad window.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">main_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clear_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">load_project_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">open_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="FileLoadWindow.enable_input_buttons">
<a class="viewcode-back" href="../main.html#main.FileLoadWindow.enable_input_buttons">[docs]</a>
    <span class="k">def</span> <span class="nf">enable_input_buttons</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">          Enables all input buttons on the FileLoad window.</span>

<span class="sd">         Returns:</span>
<span class="sd">             None</span>
<span class="sd">         &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">load_project_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">open_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="FileLoadWindow.clear_file_list">
<a class="viewcode-back" href="../main.html#main.FileLoadWindow.clear_file_list">[docs]</a>
    <span class="k">def</span> <span class="nf">clear_file_list</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Clears all variables and resets the FileLoad window to initial state.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">path_override_frame</span><span class="o">.</span><span class="n">place_forget</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">path_override_entry</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;end&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_names</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">corrupted_file_names</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_string</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">project_file_path</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">project_status</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_protocol</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_file_list_box</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">disable_buttons</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enable_input_buttons</span><span class="p">()</span></div>


<div class="viewcode-block" id="FileLoadWindow.update_file_window_progressbar">
<a class="viewcode-back" href="../main.html#main.FileLoadWindow.update_file_window_progressbar">[docs]</a>
    <span class="k">def</span> <span class="nf">update_file_window_progressbar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">progress</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">progress_color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Updates the file_load_progressbar.</span>

<span class="sd">        Args:</span>
<span class="sd">            progress (float):A float of range 0 to 1.0 with 1.0 filling the progressbar 100%.</span>
<span class="sd">            progress_color (str):A hex color value for the progression color in the progressbar.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">progress</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">progress</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">progress_color</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">file_load_progressbar</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">progress_color</span><span class="o">=</span><span class="n">progress_color</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_load_progressbar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">progress</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_load_progressbar</span><span class="o">.</span><span class="n">update_idletasks</span><span class="p">()</span></div>


<div class="viewcode-block" id="FileLoadWindow.kill_app">
<a class="viewcode-back" href="../main.html#main.FileLoadWindow.kill_app">[docs]</a>
    <span class="k">def</span> <span class="nf">kill_app</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Kills the main app.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">kill_app</span><span class="p">()</span></div>
</div>



<div class="viewcode-block" id="UserSettingsWindow">
<a class="viewcode-back" href="../main.html#main.UserSettingsWindow">[docs]</a>
<span class="k">class</span> <span class="nc">UserSettingsWindow</span><span class="p">(</span><span class="n">ctk</span><span class="o">.</span><span class="n">CTkToplevel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Toplevel window that handles user settings of the app.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">app</span> <span class="o">=</span> <span class="n">app</span>
        <span class="n">width</span> <span class="o">=</span> <span class="mi">250</span>
        <span class="n">height</span> <span class="o">=</span> <span class="mi">200</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">screen_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">winfo_screenwidth</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">screen_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">screen_width</span> <span class="o">*</span> <span class="mf">0.5625</span>  <span class="c1"># clamps window to 16:9 ratio.</span>
        <span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">screen_width</span> <span class="o">-</span> <span class="n">width</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="n">y</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">screen_height</span> <span class="o">-</span> <span class="n">height</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>

        <span class="n">MAIN_COLOR</span> <span class="o">=</span> <span class="s2">&quot;#28333E&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;User Settings&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">fg_color</span><span class="o">=</span><span class="n">MAIN_COLOR</span><span class="p">)</span>  <span class="c1"># Darkish blue</span>
        <span class="c1"># 200 ms solves the bug with iconbitmap on toplevel windows.</span>
        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;win&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">201</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">iconbitmap</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;sources&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;logo.ico&quot;</span><span class="p">)))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">201</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">iconbitmap</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;@sources&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;logo.xbm&quot;</span><span class="p">)))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">width</span><span class="si">}</span><span class="s2">x</span><span class="si">{</span><span class="n">height</span><span class="si">}</span><span class="s2">+</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">+</span><span class="si">{</span><span class="n">y</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resizable</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="n">menu_label</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;User Settings&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial Bold&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">))</span>
        <span class="n">menu_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="p">)</span>

        <span class="c1"># ========Check Boxes=====================================</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">reset_user_settings_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Reset&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">reset_user_settings</span><span class="p">,</span>
                                                     <span class="n">width</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span>
                                                     <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#931C14&quot;</span><span class="p">,</span> <span class="n">hover_color</span><span class="o">=</span><span class="s2">&quot;#4E1414&quot;</span><span class="p">,</span> <span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;#D2D2D2&quot;</span><span class="p">,</span>
                                                     <span class="n">corner_radius</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reset_user_settings_btn</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">dropdown_frame</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkFrame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="n">MAIN_COLOR</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dropdown_frame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dropdown_frame</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dropdown_frame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;news&quot;</span><span class="p">)</span>

        <span class="n">canvas_color_label</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dropdown_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Canvas Color:&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">canvas_color_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas_color_dropdown</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkOptionMenu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dropdown_frame</span><span class="p">,</span>
                                                       <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Default&quot;</span><span class="p">,</span> <span class="s2">&quot;Black&quot;</span><span class="p">,</span> <span class="s2">&quot;Grey&quot;</span><span class="p">,</span> <span class="s2">&quot;White&quot;</span><span class="p">],</span>
                                                       <span class="n">width</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas_color_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas_color_dropdown</span><span class="o">.</span><span class="n">set</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">user_settings</span><span class="p">[</span><span class="s2">&quot;canvas_color&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">capitalize</span><span class="p">())</span>

        <span class="n">selection_color_label</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dropdown_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Selection Color:&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">selection_color_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selection_color_dropdown</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkOptionMenu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dropdown_frame</span><span class="p">,</span>
                                                          <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Blue&quot;</span><span class="p">,</span> <span class="s2">&quot;Pink&quot;</span><span class="p">,</span> <span class="s2">&quot;Red&quot;</span><span class="p">,</span> <span class="s2">&quot;Green&quot;</span><span class="p">],</span>
                                                          <span class="n">width</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selection_color_dropdown</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selection_color_dropdown</span><span class="o">.</span><span class="n">set</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">user_settings</span><span class="p">[</span><span class="s2">&quot;selection_color&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">capitalize</span><span class="p">())</span>

        <span class="n">highlight_opacity_label</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dropdown_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Highlight Opacity:&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span>
                                               <span class="n">width</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">highlight_opacity_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">highlight_opacity_slider_value_label</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                                                 <span class="n">text</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">user_settings</span><span class="p">[</span><span class="s2">&quot;highlight_opacity&quot;</span><span class="p">],</span>
                                                                 <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">highlight_opacity_slider</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkSlider</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dropdown_frame</span><span class="p">,</span>
                                                      <span class="n">from_</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">99</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">width</span> <span class="o">*</span> <span class="mf">0.4</span><span class="p">),</span>
                                                      <span class="n">number_of_steps</span><span class="o">=</span><span class="mi">98</span><span class="p">,</span>
                                                      <span class="n">command</span><span class="o">=</span><span class="k">lambda</span>
                                                      <span class="n">event</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">highlight_opacity_slider_value_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span>
                                                      <span class="n">text</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">event</span><span class="p">)))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">highlight_opacity_slider_value_label</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">in_</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">highlight_opacity_slider</span><span class="p">,</span> <span class="n">relx</span><span class="o">=</span><span class="mf">.8</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;sw&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">highlight_opacity_slider</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">user_settings</span><span class="p">[</span><span class="s2">&quot;highlight_opacity&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">highlight_opacity_slider</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

        <span class="c1"># ================Output ==================================</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">save_user_settings_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Save Settings&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">save_user_settings</span><span class="p">,</span>
                                                    <span class="n">width</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">35</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial bold&quot;</span><span class="p">,</span> <span class="mi">17</span><span class="p">),</span>
                                                    <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#3568B5&quot;</span><span class="p">,</span> <span class="n">hover_color</span><span class="o">=</span><span class="s2">&quot;#213D67&quot;</span><span class="p">,</span> <span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">save_user_settings_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<div class="viewcode-block" id="UserSettingsWindow.save_user_settings">
<a class="viewcode-back" href="../main.html#main.UserSettingsWindow.save_user_settings">[docs]</a>
    <span class="k">def</span> <span class="nf">save_user_settings</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calls the save_user_settings on main app and Kills the toplevelwindow.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">canvas_color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas_color_dropdown</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="n">selection_color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selection_color_dropdown</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="n">highlight_opacity</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">highlight_opacity_slider</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">user_settings</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;canvas_color&quot;</span><span class="p">:</span> <span class="n">canvas_color</span><span class="p">,</span>
                                  <span class="s2">&quot;selection_color&quot;</span><span class="p">:</span> <span class="n">selection_color</span><span class="p">,</span>
                                  <span class="s2">&quot;highlight_opacity&quot;</span><span class="p">:</span> <span class="n">highlight_opacity</span><span class="p">,</span>
                                  <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">update_user_settings</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span></div>


<div class="viewcode-block" id="UserSettingsWindow.reset_user_settings">
<a class="viewcode-back" href="../main.html#main.UserSettingsWindow.reset_user_settings">[docs]</a>
    <span class="k">def</span> <span class="nf">reset_user_settings</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Replaces the user settings.json file with a new file with default values.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">load_user_settings</span><span class="p">(</span><span class="n">reset</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span></div>
</div>



<div class="viewcode-block" id="RenderMenu">
<a class="viewcode-back" href="../main.html#main.RenderMenu">[docs]</a>
<span class="k">class</span> <span class="nc">RenderMenu</span><span class="p">(</span><span class="n">ctk</span><span class="o">.</span><span class="n">CTkToplevel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Toplevel window that handles the render settings and starting the render.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">,</span> <span class="n">batch</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">         Args:</span>
<span class="sd">             app: main ctk.CTK app</span>
<span class="sd">             batch (bool): Mode to render the images, True adds all queued images to render. False renders the current image in view.</span>
<span class="sd">             **kwargs:</span>
<span class="sd">         &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">app</span> <span class="o">=</span> <span class="n">app</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_batch</span> <span class="o">=</span> <span class="n">batch</span>

        <span class="n">width</span> <span class="o">=</span> <span class="mi">350</span>
        <span class="n">height</span> <span class="o">=</span> <span class="mi">350</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">screen_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">winfo_screenwidth</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">screen_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">screen_width</span> <span class="o">*</span> <span class="mf">0.5625</span>  <span class="c1"># clamps window to 16:9 ratio.</span>
        <span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">screen_width</span> <span class="o">-</span> <span class="n">width</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="n">y</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">screen_height</span> <span class="o">-</span> <span class="n">height</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>

        <span class="n">main_color</span> <span class="o">=</span> <span class="s2">&quot;#263142&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Render Menu&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">fg_color</span><span class="o">=</span><span class="n">main_color</span><span class="p">)</span>  <span class="c1"># Darkish blue</span>
        <span class="c1"># 200 ms solves the bug with iconbitmap on toplevel windows.</span>
        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;win&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">201</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">iconbitmap</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;sources&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;logo.ico&quot;</span><span class="p">)))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">201</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">iconbitmap</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;@sources&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;logo.xbm&quot;</span><span class="p">)))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">width</span><span class="si">}</span><span class="s2">x</span><span class="si">{</span><span class="n">height</span><span class="si">}</span><span class="s2">+</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">+</span><span class="si">{</span><span class="n">y</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resizable</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="n">menu_label</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Render Settings&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial Bold&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">))</span>
        <span class="n">menu_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="p">)</span>

        <span class="c1"># ========Check Boxes=====================================</span>
        <span class="n">checkbox_border</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkbox_frame</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkFrame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="n">main_color</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkbox_frame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkbox_frame</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkbox_frame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;news&quot;</span><span class="p">)</span>

        <span class="n">render_overlay_label</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">checkbox_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Render Overlay:&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">))</span>
        <span class="n">render_overlay_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">render_overlay_checkbox</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkCheckBox</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">checkbox_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">onvalue</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">offvalue</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                                       <span class="n">border_width</span><span class="o">=</span><span class="n">checkbox_border</span><span class="p">,</span>
                                                       <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">render_overlay_checkbox_handler</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">render_overlay</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">render_overlay_checkbox</span><span class="o">.</span><span class="n">select</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">render_overlay_checkbox</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">overlay_trim_label</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">checkbox_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Trim:&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">overlay_trim_label</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">in_</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">render_overlay_checkbox</span><span class="p">,</span> <span class="n">relx</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;nw&quot;</span><span class="p">,</span>
                                      <span class="n">bordermode</span><span class="o">=</span><span class="s2">&quot;outside&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">overlay_trim_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">trim_overlay_checkbox</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkCheckBox</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">checkbox_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">onvalue</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">offvalue</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                                     <span class="n">border_width</span><span class="o">=</span><span class="n">checkbox_border</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                                     <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">overlay_trim_checkbox_handler</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">trim_overlay_checkbox</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">in_</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">overlay_trim_label</span><span class="p">,</span> <span class="n">relx</span><span class="o">=</span><span class="mf">1.2</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;nw&quot;</span><span class="p">,</span>
                                         <span class="n">bordermode</span><span class="o">=</span><span class="s2">&quot;outside&quot;</span><span class="p">,</span> <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">trim_overlay_checkbox</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">render_overlay</span><span class="p">:</span>  <span class="c1"># Populating with values.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">overlay_trim_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;#DADADA&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">trim_overlay_checkbox</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#1F6AA5&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">trim_overlay</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">trim_overlay_checkbox</span><span class="o">.</span><span class="n">select</span><span class="p">()</span>

        <span class="n">sequence_code_label</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">checkbox_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Sequence Code:&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">sequence_code_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sequence_code_checkbox</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkCheckBox</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">checkbox_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">onvalue</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">offvalue</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                                      <span class="n">border_width</span><span class="o">=</span><span class="n">checkbox_border</span><span class="p">,</span>
                                                      <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sequence_code_checkbox_handler</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">render_sequence_code</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sequence_code_checkbox</span><span class="o">.</span><span class="n">select</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sequence_code_checkbox</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">sequence_code_position_dropdown</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkOptionMenu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">checkbox_frame</span><span class="p">,</span>
                                                                 <span class="n">values</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Top-Left&quot;</span><span class="p">,</span> <span class="s2">&quot;Top-Right&quot;</span><span class="p">,</span> <span class="s2">&quot;Bottom-Left&quot;</span><span class="p">,</span>
                                                                         <span class="s2">&quot;Bottom-Right&quot;</span><span class="p">],</span>
                                                                 <span class="n">width</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
                                                                 <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sequence_code_position_dropdown_handler</span><span class="p">,</span>
                                                                 <span class="n">height</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sequence_code_position_dropdown</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">in_</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">sequence_code_checkbox</span><span class="p">,</span> <span class="n">relx</span><span class="o">=</span><span class="mf">2.7</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>
                                                   <span class="n">bordermode</span><span class="o">=</span><span class="s2">&quot;outside&quot;</span><span class="p">,</span> <span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">render_sequence_code</span><span class="p">:</span>
            <span class="n">current_position</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">sequence_code_render_position</span>
            <span class="k">if</span> <span class="n">current_position</span> <span class="o">==</span> <span class="s2">&quot;ne&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">sequence_code_position_dropdown</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;Top-Right&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">current_position</span> <span class="o">==</span> <span class="s2">&quot;sw&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">sequence_code_position_dropdown</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;Bottom-Left&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">current_position</span> <span class="o">==</span> <span class="s2">&quot;se&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">sequence_code_position_dropdown</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;Bottom-Left&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">sequence_code_position_dropdown</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;Top-Left&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sequence_code_position_dropdown</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">)</span>

        <span class="n">anti_alias_label</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">checkbox_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Enable Anti-alias:&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">))</span>
        <span class="n">anti_alias_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">anti_alias_checkbox</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkCheckBox</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">checkbox_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">onvalue</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">offvalue</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                                   <span class="n">border_width</span><span class="o">=</span><span class="n">checkbox_border</span><span class="p">,</span>
                                                   <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">anti_alias_checkbox_handler</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">anti_alias_output</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">anti_alias_checkbox</span><span class="o">.</span><span class="n">select</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">anti_alias_checkbox</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_batch</span><span class="p">:</span>
            <span class="n">include_blank_label</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">checkbox_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Include Blanks:&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">))</span>
            <span class="n">include_blank_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">include_blanks_checkbox</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkCheckBox</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">checkbox_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">onvalue</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">offvalue</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                                           <span class="n">border_width</span><span class="o">=</span><span class="n">checkbox_border</span><span class="p">,</span>
                                                           <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">include_blanks_checkbox_handler</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">include_blanks</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">include_blanks_checkbox</span><span class="o">.</span><span class="n">select</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">include_blanks_checkbox</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

        <span class="n">jpeg_quality_label</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">checkbox_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;JPEG Quality:&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">))</span>
        <span class="n">jpeg_quality_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">jpeg_quality_slider</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkSlider</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">checkbox_frame</span><span class="p">,</span> <span class="n">from_</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">width</span> <span class="o">*</span> <span class="mf">0.4</span><span class="p">),</span>
                                                 <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">jpeg_quality_slider_event_handler</span><span class="p">,</span>
                                                 <span class="n">number_of_steps</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">jpeg_quality_slider</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">jpeg_quality_slider_value_label</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">checkbox_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">jpeg_quality</span><span class="p">,</span>
                                                            <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial Bold&quot;</span><span class="p">,</span> <span class="mi">12</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">jpeg_quality_slider_value_label</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">in_</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">jpeg_quality_slider</span><span class="p">,</span> <span class="n">relx</span><span class="o">=</span><span class="mf">1.1</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>
                                                   <span class="n">bordermode</span><span class="o">=</span><span class="s2">&quot;outside&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">jpeg_quality_slider</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">jpeg_quality</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">jpeg_quality_slider_event_handler</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">jpeg_quality</span><span class="p">)</span>

        <span class="n">png_compression_label</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">checkbox_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;PNG Compression:&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">))</span>
        <span class="n">png_compression_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;e&#39;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">png_compression_slider</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkSlider</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">checkbox_frame</span><span class="p">,</span> <span class="n">from_</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">width</span> <span class="o">*</span> <span class="mf">0.4</span><span class="p">),</span>
                                                    <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">png_compression_slider_event_handler</span><span class="p">,</span>
                                                    <span class="n">number_of_steps</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">png_compression_slider</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">png_compression_slider</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">png_compression</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">png_compression_slider_value_label</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">checkbox_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">png_compression</span><span class="p">,</span>
                                                               <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial Bold&quot;</span><span class="p">,</span> <span class="mi">12</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">png_compression_slider_value_label</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">in_</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">png_compression_slider</span><span class="p">,</span> <span class="n">relx</span><span class="o">=</span><span class="mf">1.1</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
                                                      <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>
                                                      <span class="n">bordermode</span><span class="o">=</span><span class="s2">&quot;outside&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">png_compression_slider_event_handler</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">png_compression</span><span class="p">)</span>

        <span class="c1"># ================Output ==================================</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_frame</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkFrame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="n">main_color</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_frame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_frame</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_frame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;news&quot;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

        <span class="n">output_path_label</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Output Path:&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">14</span><span class="p">))</span>
        <span class="n">output_path_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;e&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">output_path_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Pick Path&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pick_path</span><span class="p">,</span>
                                             <span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">,</span>
                                             <span class="n">width</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span>
                                             <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#d2190d&quot;</span><span class="p">,</span> <span class="n">hover_color</span><span class="o">=</span><span class="s2">&quot;#6a0c06&quot;</span><span class="p">,</span> <span class="n">corner_radius</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_path_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">40</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">output_path_textbox</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkTextbox</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">output_frame</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">corner_radius</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
                                                  <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#D9D9D9&quot;</span><span class="p">,</span> <span class="n">wrap</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;Arial&#39;</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span>
                                                  <span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">output_path_textbox</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_path_textbox</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s2">&quot;0.0&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">output_path</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">output_path</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">output_path_textbox</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#b7ffb0&quot;</span><span class="p">)</span>  <span class="c1"># A shade of green if file output path exists.</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">render_progressbar</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkProgressBar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_frame</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="s2">&quot;horizontal&quot;</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="n">main_color</span><span class="p">,</span>
                                                     <span class="n">progress_color</span><span class="o">=</span><span class="n">main_color</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">render_progressbar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">render_progressbar</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">render_images_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Render Images&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">start_render</span><span class="p">,</span>
                                               <span class="n">width</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">35</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial bold&quot;</span><span class="p">,</span> <span class="mi">17</span><span class="p">),</span>
                                               <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#3568B5&quot;</span><span class="p">,</span> <span class="n">hover_color</span><span class="o">=</span><span class="s2">&quot;#213D67&quot;</span><span class="p">,</span> <span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">render_images_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_batch</span><span class="p">:</span>  <span class="c1"># If not batch configure the render button to batch False.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">render_images_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Render Image&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">render_images_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_render</span><span class="p">(</span><span class="n">batch</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">protocol</span><span class="p">(</span><span class="s2">&quot;WM_DELETE_WINDOW&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">kill_window</span><span class="p">)</span>

<div class="viewcode-block" id="RenderMenu.render_overlay_checkbox_handler">
<a class="viewcode-back" href="../main.html#main.RenderMenu.render_overlay_checkbox_handler">[docs]</a>
    <span class="k">def</span> <span class="nf">render_overlay_checkbox_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Called on toggling the render_overlay_checkbox.</span>
<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">render_overlay_checkbox</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">render_overlay</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">overlay_trim_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;#DADADA&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">trim_overlay_checkbox</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#1F6AA5&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">render_overlay</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">overlay_trim_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">trim_overlay_checkbox</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="RenderMenu.overlay_trim_checkbox_handler">
<a class="viewcode-back" href="../main.html#main.RenderMenu.overlay_trim_checkbox_handler">[docs]</a>
    <span class="k">def</span> <span class="nf">overlay_trim_checkbox_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Called on toggling the trim_overlay_checkbox.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">trim_overlay_checkbox</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">trim_overlay</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">trim_overlay</span> <span class="o">=</span> <span class="kc">False</span></div>


<div class="viewcode-block" id="RenderMenu.sequence_code_checkbox_handler">
<a class="viewcode-back" href="../main.html#main.RenderMenu.sequence_code_checkbox_handler">[docs]</a>
    <span class="k">def</span> <span class="nf">sequence_code_checkbox_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sequence_code_checkbox</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">render_sequence_code</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sequence_code_position_dropdown</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">render_sequence_code</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sequence_code_position_dropdown</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="RenderMenu.sequence_code_position_dropdown_handler">
<a class="viewcode-back" href="../main.html#main.RenderMenu.sequence_code_position_dropdown_handler">[docs]</a>
    <span class="k">def</span> <span class="nf">sequence_code_position_dropdown_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">choice</span><span class="p">):</span>
        <span class="n">choice</span> <span class="o">=</span> <span class="n">choice</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;top-right&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">sequence_code_render_position</span> <span class="o">=</span> <span class="s2">&quot;ne&quot;</span>
        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;bottom-left&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">sequence_code_render_position</span> <span class="o">=</span> <span class="s2">&quot;sw&quot;</span>
        <span class="k">elif</span> <span class="n">choice</span> <span class="o">==</span> <span class="s2">&quot;bottom-right&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">sequence_code_render_position</span> <span class="o">=</span> <span class="s2">&quot;se&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">sequence_code_render_position</span> <span class="o">=</span> <span class="s2">&quot;nw&quot;</span></div>


<div class="viewcode-block" id="RenderMenu.anti_alias_checkbox_handler">
<a class="viewcode-back" href="../main.html#main.RenderMenu.anti_alias_checkbox_handler">[docs]</a>
    <span class="k">def</span> <span class="nf">anti_alias_checkbox_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">anti_alias_checkbox</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">anti_alias_output</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">anti_alias_output</span> <span class="o">=</span> <span class="kc">False</span></div>


<div class="viewcode-block" id="RenderMenu.include_blanks_checkbox_handler">
<a class="viewcode-back" href="../main.html#main.RenderMenu.include_blanks_checkbox_handler">[docs]</a>
    <span class="k">def</span> <span class="nf">include_blanks_checkbox_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">include_blanks_checkbox</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">include_blanks</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">include_blanks</span> <span class="o">=</span> <span class="kc">False</span></div>


<div class="viewcode-block" id="RenderMenu.jpeg_quality_slider_event_handler">
<a class="viewcode-back" href="../main.html#main.RenderMenu.jpeg_quality_slider_event_handler">[docs]</a>
    <span class="k">def</span> <span class="nf">jpeg_quality_slider_event_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Called on updating the jpeg_quality_slider.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">jpeg_quality</span> <span class="o">=</span> <span class="n">value</span>

        <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="mi">75</span><span class="p">:</span>
            <span class="n">text_color</span> <span class="o">=</span> <span class="s2">&quot;white&quot;</span>
        <span class="k">elif</span> <span class="mi">75</span> <span class="o">&lt;</span> <span class="n">value</span> <span class="o">&lt;=</span> <span class="mi">85</span><span class="p">:</span>
            <span class="n">text_color</span> <span class="o">=</span> <span class="s2">&quot;#BCFFD7&quot;</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="o">&gt;</span> <span class="mi">85</span><span class="p">:</span>
            <span class="n">text_color</span> <span class="o">=</span> <span class="s2">&quot;#9BFF99&quot;</span>
        <span class="k">elif</span> <span class="mi">75</span> <span class="o">&gt;</span> <span class="n">value</span> <span class="o">&gt;=</span> <span class="mi">50</span><span class="p">:</span>
            <span class="n">text_color</span> <span class="o">=</span> <span class="s2">&quot;#FFE5B1&quot;</span>
        <span class="k">elif</span> <span class="mi">50</span> <span class="o">&gt;</span> <span class="n">value</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">text_color</span> <span class="o">=</span> <span class="s2">&quot;#FF8D4E&quot;</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">text_color</span> <span class="o">=</span> <span class="s2">&quot;red&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">text_color</span> <span class="o">=</span> <span class="s2">&quot;white&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">jpeg_quality_slider_value_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">),</span> <span class="n">text_color</span><span class="o">=</span><span class="n">text_color</span><span class="p">)</span></div>


<div class="viewcode-block" id="RenderMenu.png_compression_slider_event_handler">
<a class="viewcode-back" href="../main.html#main.RenderMenu.png_compression_slider_event_handler">[docs]</a>
    <span class="k">def</span> <span class="nf">png_compression_slider_event_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">png_compression</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">if</span> <span class="n">value</span> <span class="o">&lt;=</span> <span class="mi">3</span><span class="p">:</span>
            <span class="n">text_color</span> <span class="o">=</span> <span class="s2">&quot;white&quot;</span>
        <span class="k">elif</span> <span class="mi">3</span> <span class="o">&lt;</span> <span class="n">value</span> <span class="o">&lt;=</span> <span class="mi">6</span><span class="p">:</span>
            <span class="n">text_color</span> <span class="o">=</span> <span class="s2">&quot;orange&quot;</span>
        <span class="k">elif</span> <span class="n">value</span> <span class="o">&gt;</span> <span class="mi">6</span><span class="p">:</span>
            <span class="n">text_color</span> <span class="o">=</span> <span class="s2">&quot;red&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">text_color</span> <span class="o">=</span> <span class="s2">&quot;white&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">png_compression_slider_value_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text_color</span><span class="o">=</span><span class="n">text_color</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">value</span><span class="p">)</span></div>


<div class="viewcode-block" id="RenderMenu.pick_path">
<a class="viewcode-back" href="../main.html#main.RenderMenu.pick_path">[docs]</a>
    <span class="k">def</span> <span class="nf">pick_path</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Opens a filedialog.askdirectory window for the user to set a folder path for the output images.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">output_path_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">output_path</span> <span class="o">=</span> <span class="n">filedialog</span><span class="o">.</span><span class="n">askdirectory</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
        <span class="c1"># self.deiconify()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">output_path</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">output_path</span> <span class="o">=</span> <span class="s2">&quot;images&quot;</span>

        <span class="c1"># Clears the path_textbox and inserts the chosen filepath.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_path_textbox</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;0.0&quot;</span><span class="p">,</span> <span class="s2">&quot;end&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_path_textbox</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s2">&quot;0.0&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">output_path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_path_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="RenderMenu.start_render">
<a class="viewcode-back" href="../main.html#main.RenderMenu.start_render">[docs]</a>
    <span class="k">def</span> <span class="nf">start_render</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">batch</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Starts the render process by calling the render_images method from ImageProcessor.</span>

<span class="sd">        Args:</span>
<span class="sd">            batch(bool):True sets the mode to batch and adds all images in queue to render.False renders the current image in view. Default True</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">output_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_path_textbox</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;end&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">output_path</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">output_path_textbox</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#b7ffb0&quot;</span><span class="p">,</span> <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">render_progressbar</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">progress_color</span><span class="o">=</span><span class="s2">&quot;#008F39&quot;</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#6D7684&quot;</span><span class="p">)</span>  <span class="c1"># dark green</span>

            <span class="c1"># Using threading for rendering images to prevent GUI freeze during the processing.</span>
            <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">image_processor</span><span class="o">.</span><span class="n">render_images</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;batch&#39;</span><span class="p">:</span> <span class="n">batch</span><span class="p">},</span>
                             <span class="n">daemon</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># On invalid folder path, change path_textbox to red.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">output_path_textbox</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#ff7575&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="RenderMenu.update_progress_bar">
<a class="viewcode-back" href="../main.html#main.RenderMenu.update_progress_bar">[docs]</a>
    <span class="k">def</span> <span class="nf">update_progress_bar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">progress</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">status</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Updates the render_progressbar widget on the RenderMenu window based on the files processed.</span>

<span class="sd">        Args:</span>
<span class="sd">            progress (float):A value between 0-1.</span>
<span class="sd">            status (bool): True indicates a success transfer, False indicates a failed render.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">status</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">render_progressbar</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">progress_color</span><span class="o">=</span><span class="s2">&quot;#008F39&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">render_progressbar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">progress</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">progress</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="c1"># on completion setting the progress bar to a bright green.</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">render_progressbar</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">progress_color</span><span class="o">=</span><span class="s2">&quot;#00FE66&quot;</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">render_progressbar</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">render_progressbar</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">progress_color</span><span class="o">=</span><span class="s2">&quot;#E20000&quot;</span><span class="p">)</span>  <span class="c1"># red</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">update_idletasks</span><span class="p">()</span></div>


<div class="viewcode-block" id="RenderMenu.kill_window">
<a class="viewcode-back" href="../main.html#main.RenderMenu.kill_window">[docs]</a>
    <span class="k">def</span> <span class="nf">kill_window</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Kills the RenderMenu toplevel window.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># If window was killed during render, display a render interrupted message.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">render_progressbar</span><span class="o">.</span><span class="n">get</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">error_prompt</span><span class="o">.</span><span class="n">display_error_prompt</span><span class="p">(</span><span class="n">error_msg</span><span class="o">=</span><span class="s2">&quot;Render Interrupted!&quot;</span><span class="p">,</span> <span class="n">priority</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span></div>
</div>



<div class="viewcode-block" id="ExitPrompt">
<a class="viewcode-back" href="../main.html#main.ExitPrompt">[docs]</a>
<span class="k">class</span> <span class="nc">ExitPrompt</span><span class="p">(</span><span class="n">ctk</span><span class="o">.</span><span class="n">CTkToplevel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Toplevel window that handles the exit prompt.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="n">width</span> <span class="o">=</span> <span class="mi">200</span>
        <span class="n">height</span> <span class="o">=</span> <span class="mi">200</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">app</span> <span class="o">=</span> <span class="n">app</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">screen_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">winfo_screenwidth</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">screen_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">screen_width</span> <span class="o">*</span> <span class="mf">0.5625</span>
        <span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">screen_width</span> <span class="o">-</span> <span class="n">width</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="n">y</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">screen_height</span> <span class="o">-</span> <span class="n">height</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Quit?&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;win&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">201</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">iconbitmap</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;sources&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;logo.ico&quot;</span><span class="p">)))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">201</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">iconbitmap</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;@sources&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;logo.xbm&quot;</span><span class="p">)))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">width</span><span class="si">}</span><span class="s2">x</span><span class="si">{</span><span class="n">height</span><span class="si">}</span><span class="s2">+</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">+</span><span class="si">{</span><span class="n">y</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resizable</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="n">btn_pady</span> <span class="o">=</span> <span class="mi">10</span>
        <span class="n">btn_width</span> <span class="o">=</span> <span class="mi">120</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">save_exit_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Save &amp; Exit&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">save_and_exit</span><span class="p">,</span>
                                           <span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">,</span>
                                           <span class="n">width</span><span class="o">=</span><span class="n">btn_width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial bold&quot;</span><span class="p">,</span> <span class="mi">17</span><span class="p">),</span>
                                           <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#3568B5&quot;</span><span class="p">,</span> <span class="n">hover_color</span><span class="o">=</span><span class="s2">&quot;#213D67&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">save_exit_btn</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="n">btn_pady</span><span class="p">))</span>

        <span class="c1"># Calls the function that calls a function in the main window that kills the window.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">exit_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Exit&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">exit_main_app</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">,</span>
                                      <span class="n">width</span><span class="o">=</span><span class="n">btn_width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial bold&quot;</span><span class="p">,</span> <span class="mi">17</span><span class="p">),</span>
                                      <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#d2190d&quot;</span><span class="p">,</span> <span class="n">hover_color</span><span class="o">=</span><span class="s2">&quot;#6a0c06&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">exit_btn</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">pady</span><span class="o">=</span><span class="n">btn_pady</span><span class="p">)</span>

        <span class="c1"># Destroys the exit prompt window.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cancel_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Cancel&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">destroy</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">,</span>
                                        <span class="n">width</span><span class="o">=</span><span class="n">btn_width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial bold&quot;</span><span class="p">,</span> <span class="mi">17</span><span class="p">),</span>
                                        <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#7e7d82&quot;</span><span class="p">,</span> <span class="n">hover_color</span><span class="o">=</span><span class="s2">&quot;#58575a&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cancel_btn</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">pady</span><span class="o">=</span><span class="n">btn_pady</span><span class="p">)</span>

<div class="viewcode-block" id="ExitPrompt.save_and_exit">
<a class="viewcode-back" href="../main.html#main.ExitPrompt.save_and_exit">[docs]</a>
    <span class="k">def</span> <span class="nf">save_and_exit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">          Calls the save_data method on the App class and kills the program on valid save.</span>

<span class="sd">          Returns:</span>
<span class="sd">              None</span>

<span class="sd">          &quot;&quot;&quot;</span>

        <span class="c1"># Returns True on valid save.</span>
        <span class="n">saved</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">save_data</span><span class="p">(</span><span class="n">from_exit_prompt</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">saved</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">kill_app</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">saved</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">error_prompt</span><span class="o">.</span><span class="n">display_error_prompt</span><span class="p">(</span><span class="n">error_msg</span><span class="o">=</span><span class="s2">&quot;Project Failed to save&quot;</span><span class="p">,</span> <span class="n">priority</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></div>


<div class="viewcode-block" id="ExitPrompt.exit_main_app">
<a class="viewcode-back" href="../main.html#main.ExitPrompt.exit_main_app">[docs]</a>
    <span class="k">def</span> <span class="nf">exit_main_app</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Kills the main App.</span>

<span class="sd">        Returns:</span>
<span class="sd">                None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">kill_app</span><span class="p">()</span></div>
</div>



<span class="c1"># ------------Pop Up Widget------------------#</span>
<div class="viewcode-block" id="ErrorPrompt">
<a class="viewcode-back" href="../main.html#main.ErrorPrompt">[docs]</a>
<span class="k">class</span> <span class="nc">ErrorPrompt</span><span class="p">(</span><span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A ctk button repurposed to be an Error Popup within the image frame.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">master</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">master</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">error_prompt_in_display</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="c1"># Hides the pop-up on mouse hover.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;Enter&gt;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">hide_error_prompt</span><span class="p">)</span>

<div class="viewcode-block" id="ErrorPrompt.display_error_prompt">
<a class="viewcode-back" href="../main.html#main.ErrorPrompt.display_error_prompt">[docs]</a>
    <span class="k">def</span> <span class="nf">display_error_prompt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">error_msg</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">priority</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Displays the error prompt window with the error message.</span>

<span class="sd">        Args:</span>
<span class="sd">            error_msg (str): The error message to display.</span>
<span class="sd">            priority (int): Integer values of 1,2,3 representing the priority of the error. 1=red,3=green. Default 2=Orange.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">priority</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">prompt_col</span> <span class="o">=</span> <span class="s2">&quot;red&quot;</span>
        <span class="k">elif</span> <span class="n">priority</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">prompt_col</span> <span class="o">=</span> <span class="s2">&quot;#D46702&quot;</span>  <span class="c1"># orange</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">prompt_col</span> <span class="o">=</span> <span class="s2">&quot;#007822&quot;</span>  <span class="c1"># dark green</span>
        <span class="n">height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">winfo_height</span><span class="p">()</span> <span class="o">*</span> <span class="mf">0.05</span>

        <span class="n">rely_value</span> <span class="o">=</span> <span class="o">-</span><span class="n">height</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">winfo_height</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">y_pos</span> <span class="o">=</span> <span class="n">rely_value</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">error_msg</span><span class="p">,</span>
                       <span class="n">width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">winfo_width</span><span class="p">(),</span> <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">,</span>
                       <span class="n">fg_color</span><span class="o">=</span><span class="n">prompt_col</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial Bold&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span> <span class="n">bg_color</span><span class="o">=</span><span class="n">prompt_col</span><span class="p">,</span>
                       <span class="n">corner_radius</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">hover</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">animate_error_prompt</span><span class="p">()</span></div>


<div class="viewcode-block" id="ErrorPrompt.animate_error_prompt">
<a class="viewcode-back" href="../main.html#main.ErrorPrompt.animate_error_prompt">[docs]</a>
    <span class="k">def</span> <span class="nf">animate_error_prompt</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method that slightly animates the error prompt entering and leaving the image_frame.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">y_pos</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y_pos</span> <span class="o">+=</span> <span class="mf">0.01</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_pos</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">animate_error_prompt</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">y_pos</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error_prompt_in_display</span> <span class="o">=</span> <span class="kc">True</span></div>


<div class="viewcode-block" id="ErrorPrompt.hide_error_prompt">
<a class="viewcode-back" href="../main.html#main.ErrorPrompt.hide_error_prompt">[docs]</a>
    <span class="k">def</span> <span class="nf">hide_error_prompt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">animate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Hides the error prompt popup.</span>

<span class="sd">        Args:</span>
<span class="sd">            event (optional): Tkinter mouse hover event.</span>
<span class="sd">            animate (bool): True hides the popup with an animation, False instantly hides the popup. Default True.</span>

<span class="sd">        Returns:</span>
<span class="sd">                None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">animate</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">y_pos</span> <span class="o">+=</span> <span class="o">-</span><span class="mf">0.01</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">y_pos</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_pos</span> <span class="o">&gt;=</span> <span class="o">-</span><span class="mf">0.05</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">hide_error_prompt</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">place_forget</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">error_prompt_in_display</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">place_forget</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error_prompt_in_display</span> <span class="o">=</span> <span class="kc">False</span></div>
</div>



<span class="c1"># ====----Main app Window-------=======-#</span>

<div class="viewcode-block" id="App">
<a class="viewcode-back" href="../main.html#main.App">[docs]</a>
<span class="k">class</span> <span class="nc">App</span><span class="p">(</span><span class="n">ctk</span><span class="o">.</span><span class="n">CTk</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Master window of the program.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="c1"># dark mode</span>
        <span class="n">ctk</span><span class="o">.</span><span class="n">set_appearance_mode</span><span class="p">(</span><span class="s2">&quot;dark&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">image_data</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">project_data</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">settings_data</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">graphics_data</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">proxy_data</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">loaded_graphics_data</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># Used for loading project.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user_settings</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user_settings_window</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># ----------Render Output Options---------</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">render_menu</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">render_overlay</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">trim_overlay</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">render_sequence_code</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sequence_code_render_position</span> <span class="o">=</span> <span class="s2">&quot;nw&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">anti_alias_output</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">include_blanks</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">jpeg_quality</span> <span class="o">=</span> <span class="mi">75</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">png_compression</span> <span class="o">=</span> <span class="mi">3</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">output_path</span> <span class="o">=</span> <span class="s2">&quot;images&quot;</span>
        <span class="c1"># --------------------------------------</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">images</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># List of image filepaths</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_index</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># 0 important for loading files</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">available_index</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">previous_image_index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_viewed_image_index</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_hovered_btn_index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>

        <span class="c1"># -----------Widget Colors-------------</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">default_col</span> <span class="o">=</span> <span class="s2">&quot;#242424&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">index_queue_col</span> <span class="o">=</span> <span class="s2">&quot;#1F57AB&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">index_queue_txt_col</span> <span class="o">=</span> <span class="s2">&quot;#EBEBEB&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">index_removed_col</span> <span class="o">=</span> <span class="s2">&quot;#585A5B&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">index_removed_txt_col</span> <span class="o">=</span> <span class="s2">&quot;#A1A1A1&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">index_queue_comment_col</span> <span class="o">=</span> <span class="s2">&quot;#279258&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">index_queue_comment_txt_col</span> <span class="o">=</span> <span class="s2">&quot;white&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">index_queue_comment_remove_col</span> <span class="o">=</span> <span class="s2">&quot;#496F5A&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">index_selected_col</span> <span class="o">=</span> <span class="s2">&quot;#1696F2&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">index_selected_txt_col</span> <span class="o">=</span> <span class="s2">&quot;white&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">queue_switch_enabled_col</span> <span class="o">=</span> <span class="s2">&quot;#27EE16&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">queue_switch_disabled_col</span> <span class="o">=</span> <span class="s2">&quot;#D5D9DE&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">TOP_BUTTON_FG</span> <span class="o">=</span> <span class="s2">&quot;#39473F&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">TOP_BUTTON_FG_ACTIVE</span> <span class="o">=</span> <span class="s2">&quot;#3C8231&quot;</span>
        <span class="c1"># =======================================================</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">pid</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getpid</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">overlay_canvas</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">overlay_canvas_visible</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">outliner</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tools_panel</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">scale_factor</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">maximized_frame_size</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">windowed_frame_size</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">maximized_canvas_size</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">windowed_canvas_size</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">maximized_mode</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">display_mode</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">viewport_resample</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">NEAREST</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">zoomed_ld_img</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">previous_display_mode</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lock_zoom</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="c1">####################################################################################</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">screen_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">winfo_screenwidth</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">screen_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">screen_width</span> <span class="o">*</span> <span class="mf">0.5625</span>  <span class="c1"># reciprocal of the aspect ratio 16:9</span>
        <span class="c1"># Initial window size will be /1.5  of the screen display size.</span>
        <span class="n">width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">screen_width</span> <span class="o">//</span> <span class="mf">1.5</span><span class="p">)</span>
        <span class="n">height</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">screen_height</span> <span class="o">//</span> <span class="mf">1.5</span><span class="p">)</span>

        <span class="n">x</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">screen_width</span> <span class="o">-</span> <span class="n">width</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="n">y</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">screen_height</span> <span class="o">-</span> <span class="n">height</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;R-View Tool&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;win&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iconbitmap</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;sources&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;logo.ico&quot;</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">iconbitmap</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;@sources&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;logo.xbm&quot;</span><span class="p">))</span>

        <span class="c1"># To center the initial window.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">width</span><span class="si">}</span><span class="s2">x</span><span class="si">{</span><span class="n">height</span><span class="si">}</span><span class="s2">+</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">+</span><span class="si">{</span><span class="n">y</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">minsize</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>
        <span class="c1"># self.maxsize(width,height)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">initial_size</span> <span class="o">=</span> <span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">file_load_window</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">exit_prompt</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="c1"># Calls the Exit Prompt window on closing(x) the window.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">protocol</span><span class="p">(</span><span class="s2">&quot;WM_DELETE_WINDOW&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">close_all</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">withdraw</span><span class="p">()</span>  <span class="c1"># Hides the main window on startup.</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">open_file_window</span><span class="p">()</span>

<div class="viewcode-block" id="App.load_user_settings">
<a class="viewcode-back" href="../main.html#main.App.load_user_settings">[docs]</a>
    <span class="k">def</span> <span class="nf">load_user_settings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">reset</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Loads the user settings from the settings.json file.</span>

<span class="sd">        Args:</span>
<span class="sd">            reset (bool): If True, replaces the settings.json with a new file with default user settings.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_path</span> <span class="o">=</span> <span class="s2">&quot;settings.json&quot;</span>

        <span class="k">def</span> <span class="nf">create_new_user_settings_file</span><span class="p">():</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Creates a new settings.json file with default values.</span>
<span class="sd">            Returns:</span>
<span class="sd">                None</span>

<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">default_settings</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;canvas_color&quot;</span><span class="p">:</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span>
                                <span class="s2">&quot;selection_color&quot;</span><span class="p">:</span> <span class="s2">&quot;cyan&quot;</span><span class="p">,</span>
                                <span class="s2">&quot;highlight_opacity&quot;</span><span class="p">:</span> <span class="mi">30</span><span class="p">}</span>

            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
                <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">default_settings</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">reset</span><span class="p">:</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
                    <span class="n">json_file</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
                    <span class="c1"># Validating the user settings file.</span>
                    <span class="k">if</span> <span class="n">FileHandler</span><span class="o">.</span><span class="n">validate_user_settings_file</span><span class="p">(</span><span class="n">json_data</span><span class="o">=</span><span class="n">json_file</span><span class="p">):</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">user_settings</span> <span class="o">=</span> <span class="n">json_file</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">raise</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span>

        <span class="k">except</span><span class="p">:</span>  <span class="c1"># In case of error create a new settings.json.</span>
            <span class="n">create_new_user_settings_file</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">load_user_settings</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_user_settings</span><span class="p">()</span></div>


<div class="viewcode-block" id="App.update_user_settings">
<a class="viewcode-back" href="../main.html#main.App.update_user_settings">[docs]</a>
    <span class="k">def</span> <span class="nf">update_user_settings</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts values from the user settings json file into variables.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">canvas_color</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">user_settings</span><span class="p">[</span><span class="s2">&quot;canvas_color&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">canvas_color</span> <span class="o">==</span> <span class="s2">&quot;default&quot;</span><span class="p">:</span>
            <span class="n">canvas_color</span> <span class="o">=</span> <span class="s2">&quot;#242424&quot;</span>  <span class="c1"># dark slate</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">background</span><span class="o">=</span><span class="n">canvas_color</span><span class="p">)</span>

        <span class="n">selection_color</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">user_settings</span><span class="p">[</span><span class="s2">&quot;selection_color&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="c1"># Assigning a bright color.</span>
        <span class="k">if</span> <span class="n">selection_color</span> <span class="o">==</span> <span class="s2">&quot;blue&quot;</span><span class="p">:</span>
            <span class="n">selection_color</span> <span class="o">=</span> <span class="s2">&quot;#00BFFF&quot;</span>
        <span class="k">elif</span> <span class="n">selection_color</span> <span class="o">==</span> <span class="s2">&quot;pink&quot;</span><span class="p">:</span>
            <span class="n">selection_color</span> <span class="o">=</span> <span class="s2">&quot;#FF1B88&quot;</span>
        <span class="k">elif</span> <span class="n">selection_color</span> <span class="o">==</span> <span class="s2">&quot;green&quot;</span><span class="p">:</span>
            <span class="n">selection_color</span> <span class="o">=</span> <span class="s2">&quot;#1BFF24&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">selection_color</span> <span class="o">=</span> <span class="n">selection_color</span>

        <span class="n">file_path</span> <span class="o">=</span> <span class="s2">&quot;settings.json&quot;</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>  <span class="c1"># writing the new settings to disc</span>
            <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">user_settings</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

        <span class="c1"># Updates the canvas to reflect the changes made.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_image_canvas</span><span class="p">()</span></div>


<div class="viewcode-block" id="App.main_layout">
<a class="viewcode-back" href="../main.html#main.App.main_layout">[docs]</a>
    <span class="k">def</span> <span class="nf">main_layout</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creating the UI for the App.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">current_state</span> <span class="o">=</span> <span class="s2">&quot;x&quot;</span>  <span class="c1"># Windowed mode</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">old_state</span> <span class="o">=</span> <span class="s2">&quot;m&quot;</span>  <span class="c1"># Maximized window</span>

        <span class="c1">#### Color switch to visualize the frame layouts. Only for debug purpose.###################</span>
        <span class="k">if</span> <span class="mi">1</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">red_col</span> <span class="o">=</span> <span class="s2">&quot;red&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blue_col</span> <span class="o">=</span> <span class="s2">&quot;blue&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">green_col</span> <span class="o">=</span> <span class="s2">&quot;green&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">yellow_col</span> <span class="o">=</span> <span class="s2">&quot;yellow&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">orange_col</span> <span class="o">=</span> <span class="s2">&quot;orange&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">purple_col</span> <span class="o">=</span> <span class="s2">&quot;purple&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pink_col</span> <span class="o">=</span> <span class="s2">&quot;pink&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">brown_col</span> <span class="o">=</span> <span class="s2">&quot;brown&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">white_col</span> <span class="o">=</span> <span class="s2">&quot;white&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">black_col</span> <span class="o">=</span> <span class="s2">&quot;black&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">gray_col</span> <span class="o">=</span> <span class="s2">&quot;gray&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">light_gray_col</span> <span class="o">=</span> <span class="s2">&quot;light gray&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dark_gray_col</span> <span class="o">=</span> <span class="s2">&quot;dark gray&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lavender_col</span> <span class="o">=</span> <span class="s2">&quot;lavender&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">violet_col</span> <span class="o">=</span> <span class="s2">&quot;violet&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">indigo_col</span> <span class="o">=</span> <span class="s2">&quot;indigo&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">maroon_col</span> <span class="o">=</span> <span class="s2">&quot;maroon&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">olive_col</span> <span class="o">=</span> <span class="s2">&quot;olive&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">navy_col</span> <span class="o">=</span> <span class="s2">&quot;navy&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">teal_col</span> <span class="o">=</span> <span class="s2">&quot;teal&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">aquamarine_col</span> <span class="o">=</span> <span class="s2">&quot;aquamarine&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">turquoise_col</span> <span class="o">=</span> <span class="s2">&quot;turquoise&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">gold_col</span> <span class="o">=</span> <span class="s2">&quot;gold&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">silver_col</span> <span class="o">=</span> <span class="s2">&quot;silver&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">khaki_col</span> <span class="o">=</span> <span class="s2">&quot;khaki&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">coral_col</span> <span class="o">=</span> <span class="s2">&quot;coral&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">red_col</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_col</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blue_col</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_col</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">green_col</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_col</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">yellow_col</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_col</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">orange_col</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_col</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">purple_col</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_col</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pink_col</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_col</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">brown_col</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_col</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">white_col</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_col</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">black_col</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_col</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">gray_col</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_col</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">light_gray_col</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_col</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dark_gray_col</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_col</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lavender_col</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_col</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">violet_col</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_col</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">indigo_col</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_col</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">maroon_col</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_col</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">olive_col</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_col</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">navy_col</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_col</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">teal_col</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_col</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">aquamarine_col</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_col</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">turquoise_col</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_col</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">gold_col</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_col</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">silver_col</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_col</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">khaki_col</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_col</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">coral_col</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_col</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">default_col_dark</span> <span class="o">=</span> <span class="s2">&quot;#171616&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">top_frame_main</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkFrame</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">silver_col</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
        <span class="c1"># self.top_frame_main.pack_propagate(False)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">top_frame_main</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">top_frame_main</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">top_frame_main</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">top_frame_main</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;nsew&quot;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">top_frame_left</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkFrame</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">top_frame_main</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">blue_col</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">top_frame_left</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">top_frame_right</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkFrame</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">top_frame_main</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">green_col</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">top_frame_right</span><span class="o">.</span><span class="n">pack_propagate</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">top_frame_right</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">)</span>

        <span class="n">title_image</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkImage</span><span class="p">(</span><span class="n">light_image</span><span class="o">=</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;sources&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;rview_title.png&quot;</span><span class="p">)),</span>
                                   <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">330</span><span class="p">,</span> <span class="mi">35</span><span class="p">))</span>
        <span class="n">image_label</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">top_frame_left</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="n">title_image</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">image_label</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

        <span class="n">settings_btn_ld_img</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkImage</span><span class="p">(</span><span class="n">light_image</span><span class="o">=</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;sources&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;settings.png&quot;</span><span class="p">)))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">user_settings_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">top_frame_left</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="n">settings_btn_ld_img</span><span class="p">,</span>
                                               <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#253A59&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">open_user_settings_window</span><span class="p">,</span>
                                               <span class="n">height</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user_settings_btn</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cel_slider_frame</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">top_frame_left</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">brown_col</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">120</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cel_slider_frame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;s&quot;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cel_slider_frame</span><span class="o">.</span><span class="n">grid_propagate</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cel_slider_frame</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cel_slider_frame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cel_opacity_slider_text</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cel_slider_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Cel Opacity:&quot;</span><span class="p">,</span>
                                                    <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial Bold&quot;</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span> <span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cel_opacity_slider_text</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">in_</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cel_slider_frame</span><span class="p">,</span> <span class="n">relx</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.33</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cel_opacity_slider_value_label</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cel_slider_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;50&quot;</span><span class="p">,</span>
                                                           <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial Bold&quot;</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span> <span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cel_opacity_slider_value_label</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">in_</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cel_slider_frame</span><span class="p">,</span> <span class="n">relx</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.33</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cel_opacity_slider</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkSlider</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cel_slider_frame</span><span class="p">,</span> <span class="n">from_</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
                                                <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cel_opacity_slider_event_handler</span><span class="p">,</span>
                                                <span class="n">number_of_steps</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cel_opacity_slider</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;s&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">hide_annotations_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">top_frame_left</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Annotations: ON&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial Bold&quot;</span><span class="p">,</span> <span class="mi">14</span><span class="p">),</span>
                                                  <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">handle_hide_annotations_btn</span><span class="p">,</span>
                                                  <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">TOP_BUTTON_FG_ACTIVE</span><span class="p">,</span>
                                                  <span class="n">border_width</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">35</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">140</span><span class="p">,</span> <span class="n">hover</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hide_annotations_btn</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;s&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">hq_view_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">top_frame_left</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;HQ View: OFF&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial Bold&quot;</span><span class="p">,</span> <span class="mi">14</span><span class="p">),</span>
                                         <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">handle_hq_view_btn</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">35</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">120</span><span class="p">,</span> <span class="n">hover</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                         <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">TOP_BUTTON_FG</span><span class="p">,</span>
                                         <span class="n">border_width</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hq_view_btn</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;s&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">actual_scale_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">top_frame_left</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Actual Scale: OFF&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial Bold&quot;</span><span class="p">,</span> <span class="mi">14</span><span class="p">),</span>
                                              <span class="n">height</span><span class="o">=</span><span class="mi">35</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">TOP_BUTTON_FG</span><span class="p">,</span> <span class="n">hover</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                              <span class="n">border_width</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">handle_actual_scale_btn</span><span class="p">,</span>
                                              <span class="n">hover_color</span><span class="o">=</span><span class="s2">&quot;#6A6A6A&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">actual_scale_btn</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;s&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">lock_ld_img</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkImage</span><span class="p">(</span><span class="n">light_image</span><span class="o">=</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;sources&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;padlock_locked.png&quot;</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">unlock_ld_img</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkImage</span><span class="p">(</span>
            <span class="n">light_image</span><span class="o">=</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;sources&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;padlock_unlocked.png&quot;</span><span class="p">)))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">lock_zoom_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">top_frame_left</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Zoom:&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial Bold&quot;</span><span class="p">,</span> <span class="mi">14</span><span class="p">),</span>
                                           <span class="n">height</span><span class="o">=</span><span class="mi">35</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">TOP_BUTTON_FG</span><span class="p">,</span> <span class="n">hover</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                           <span class="n">border_width</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">handle_lock_zoom_btn</span><span class="p">,</span> <span class="n">hover_color</span><span class="o">=</span><span class="s2">&quot;#6A6A6A&quot;</span><span class="p">,</span>
                                           <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">unlock_ld_img</span><span class="p">,</span> <span class="n">compound</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">,</span> <span class="n">border_spacing</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lock_zoom_btn</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;s&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">globe_active_ld_img</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkImage</span><span class="p">(</span>
            <span class="n">light_image</span><span class="o">=</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;sources&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;globe_icon.png&quot;</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">globe_disabled_ld_img</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkImage</span><span class="p">(</span>
            <span class="n">light_image</span><span class="o">=</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;sources&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;globe_icon_disabled.png&quot;</span><span class="p">)))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">overlay_canvas_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">top_frame_right</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Overlay&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial Bold&quot;</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span>
                                                <span class="n">height</span><span class="o">=</span><span class="mi">55</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#3e6160&quot;</span><span class="p">,</span> <span class="n">hover</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                                <span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;#BFBFBF&quot;</span><span class="p">,</span>
                                                <span class="n">border_width</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">toggle_overlay_canvas</span><span class="p">,</span>
                                                <span class="n">hover_color</span><span class="o">=</span><span class="s2">&quot;#2F4D9C&quot;</span><span class="p">,</span>
                                                <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">globe_disabled_ld_img</span><span class="p">,</span> <span class="n">compound</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">overlay_canvas_btn</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;bottom&quot;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;s&quot;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">mid_frame_main</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkFrame</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">orange_col</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid_frame_main</span><span class="o">.</span><span class="n">grid_propagate</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid_frame_main</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid_frame_main</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid_frame_main</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid_frame_main</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;news&quot;</span><span class="p">)</span>

        <span class="c1"># outliner panel</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid_frame1</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkFrame</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">mid_frame_main</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pink_col</span><span class="p">)</span>  <span class="c1"># yellow</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid_frame1</span><span class="o">.</span><span class="n">grid_propagate</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid_frame1</span><span class="o">.</span><span class="n">pack_propagate</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid_frame1</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid_frame1</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid_frame1</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;ew&quot;</span><span class="p">,</span> <span class="p">)</span>

        <span class="c1"># Image Frame</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid_frame2</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkFrame</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">mid_frame_main</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">purple_col</span><span class="p">)</span>
        <span class="c1"># self.mid_frame2.grid_propagate(True)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid_frame2</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid_frame2</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid_frame2</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;ew&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">mid_frame3</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkFrame</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">mid_frame_main</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">indigo_col</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid_frame3</span><span class="o">.</span><span class="n">pack_propagate</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mid_frame3</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;ew&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">image_frame</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkFrame</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">mid_frame2</span><span class="p">,</span> <span class="n">bg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lavender_col</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">976</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">549</span><span class="p">,</span>
                                        <span class="n">corner_radius</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_frame</span><span class="o">.</span><span class="n">pack_propagate</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_frame</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_frame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_frame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">image_frame_width</span> <span class="o">=</span> <span class="mi">976</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_frame_height</span> <span class="o">=</span> <span class="mi">549</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">image_frame_width_maxed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_rel_width</span><span class="p">(</span><span class="mf">.767</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_frame_height_maxed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_rel_height</span><span class="p">(</span><span class="mf">.767</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">image_frame_width_windowed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_rel_width</span><span class="p">(</span><span class="mf">.5083</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_frame_height_windowed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_rel_height</span><span class="p">(</span><span class="mf">.5083</span><span class="p">)</span>

        <span class="c1"># Grabs the current image from the list of loaded images.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_image</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkImage</span><span class="p">(</span><span class="n">light_image</span><span class="o">=</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">images</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">image_index</span><span class="p">]))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_label</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#404040&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">bottom_frame_main</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkFrame</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">green_col</span><span class="p">,</span>
                                              <span class="n">height</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">screen_height</span> <span class="o">*</span> <span class="mf">.10</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">bottom_frame_main</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;news&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bottom_frame_main</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bottom_frame_main</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bottom_frame_main</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bottom_frame_main</span><span class="o">.</span><span class="n">grid_propagate</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">bottom_sub_frame1</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkFrame</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bottom_frame_main</span><span class="p">,</span>
                                              <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">brown_col</span><span class="p">,</span>
                                              <span class="n">height</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_rel_height</span><span class="p">(</span><span class="mf">0.101</span><span class="p">))</span>  <span class="c1"># ,height=110,width=312)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bottom_sub_frame1</span><span class="o">.</span><span class="n">grid_propagate</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bottom_sub_frame1</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bottom_sub_frame1</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bottom_sub_frame1</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bottom_sub_frame1</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;we&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">bottom_sub_frame2</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkFrame</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bottom_frame_main</span><span class="p">,</span>
                                              <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_col_dark</span><span class="p">,</span>
                                              <span class="n">height</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_rel_height</span><span class="p">(</span><span class="mf">0.101</span><span class="p">),</span>
                                              <span class="n">width</span><span class="o">=</span><span class="mi">620</span><span class="p">,</span> <span class="p">)</span>  <span class="c1"># height=110,width=654 ) # Yellow</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">bottom_sub_frame2</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bottom_sub_frame2</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bottom_sub_frame2</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bottom_sub_frame2</span><span class="o">.</span><span class="n">grid_propagate</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bottom_sub_frame2</span><span class="o">.</span><span class="n">pack_propagate</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bottom_sub_frame2</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;news&quot;</span><span class="p">)</span>

        <span class="c1"># -------------Image Tools Frame-----------------------------</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_tools_frame</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkFrame</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bottom_sub_frame2</span><span class="p">,</span>
                                              <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_col_dark</span><span class="p">,</span>
                                              <span class="n">height</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_rel_height</span><span class="p">(</span>
                                                  <span class="mf">0.0540</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mi">620</span><span class="p">,</span> <span class="p">)</span>  <span class="c1"># .0556  height=60,width=654)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">image_tools_frame</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_tools_frame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_tools_frame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">image_tools_frame</span><span class="o">.</span><span class="n">pack_propagate</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_tools_frame</span><span class="o">.</span><span class="n">grid_propagate</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_tools_frame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">)</span>

        <span class="c1"># ------------Tools and buttons-----------------------------</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">bottom_sub_frame2_1</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkFrame</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bottom_sub_frame2</span><span class="p">,</span>
                                                <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">blue_col</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">620</span><span class="p">)</span>  <span class="c1"># ,width=654)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bottom_sub_frame2_1</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;top&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bottom_sub_frame2_1</span><span class="o">.</span><span class="n">grid_propagate</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bottom_sub_frame2_1</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bottom_sub_frame2_1</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bottom_sub_frame2_1</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">export_current_btn_frame</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkFrame</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bottom_sub_frame2_1</span><span class="p">,</span>
                                                     <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">yellow_col</span><span class="p">,</span>
                                                     <span class="n">width</span><span class="o">=</span><span class="mi">150</span><span class="p">)</span>  <span class="c1"># ,width=654)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">export_current_btn_frame</span><span class="o">.</span><span class="n">grid_propagate</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">export_current_btn_frame</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">export_current_btn_frame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">export_current_btn_frame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">export_current_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">export_current_btn_frame</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#4086EF&quot;</span><span class="p">,</span>
                                                <span class="n">hover_color</span><span class="o">=</span><span class="s2">&quot;#656565&quot;</span><span class="p">,</span>
                                                <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;#FFFFFF&quot;</span><span class="p">,</span> <span class="n">border_spacing</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                                <span class="n">width</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Render Current&quot;</span><span class="p">,</span>
                                                <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_render_menu</span><span class="p">(</span><span class="n">batch</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">export_current_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

        <span class="c1"># ------Media navigation buttons-----------</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">media_buttons_frame</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkFrame</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bottom_sub_frame2_1</span><span class="p">,</span>
                                                <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">indigo_col</span><span class="p">,</span>
                                                <span class="p">)</span>  <span class="c1"># ,width=654)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">media_buttons_frame</span><span class="o">.</span><span class="n">grid_propagate</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">media_buttons_frame</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">media_buttons_frame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">media_buttons_frame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;we&quot;</span><span class="p">)</span>

        <span class="n">BUTTON_HEIGHT</span> <span class="o">=</span> <span class="mi">35</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">first_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">media_buttons_frame</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#D9D9D9&quot;</span><span class="p">,</span> <span class="n">hover_color</span><span class="o">=</span><span class="s2">&quot;#656565&quot;</span><span class="p">,</span>
                                       <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial bold&quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;#474747&quot;</span><span class="p">,</span> <span class="n">border_spacing</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                       <span class="n">width</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">BUTTON_HEIGHT</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&lt;&lt;&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_first_img</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">first_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">prev_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">media_buttons_frame</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#D9D9D9&quot;</span><span class="p">,</span> <span class="n">hover_color</span><span class="o">=</span><span class="s2">&quot;#656565&quot;</span><span class="p">,</span>
                                      <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial bold&quot;</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;#474747&quot;</span><span class="p">,</span> <span class="n">border_spacing</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                      <span class="n">width</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">BUTTON_HEIGHT</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&lt;&quot;</span><span class="p">,</span>
                                      <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_previous_img</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prev_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;e&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">current_frame_label</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">media_buttons_frame</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">44</span><span class="p">,</span>
                                                <span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">image_index</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial bold&quot;</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span>
                                                <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;transparent&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_frame_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">next_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">media_buttons_frame</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#D9D9D9&quot;</span><span class="p">,</span> <span class="n">hover_color</span><span class="o">=</span><span class="s2">&quot;#656565&quot;</span><span class="p">,</span>
                                      <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial bold&quot;</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;#474747&quot;</span><span class="p">,</span> <span class="n">border_spacing</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                      <span class="n">width</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">BUTTON_HEIGHT</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&gt;&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_next_img</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">next_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">last_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">media_buttons_frame</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#D9D9D9&quot;</span><span class="p">,</span> <span class="n">hover_color</span><span class="o">=</span><span class="s2">&quot;#656565&quot;</span><span class="p">,</span>
                                      <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial bold&quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;#474747&quot;</span><span class="p">,</span> <span class="n">border_spacing</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                      <span class="n">width</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">BUTTON_HEIGHT</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&gt;&gt;&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_last_img</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">queue_switch_frame</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkFrame</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bottom_sub_frame2_1</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span>
                                               <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">violet_col</span><span class="p">)</span>  <span class="c1"># ,width=654)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">queue_switch_frame</span><span class="o">.</span><span class="n">grid_propagate</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">queue_switch_frame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">queue_switch_frame</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">queue_switch_frame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;e&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">queue_switch_label</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">queue_switch_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;In-queue:&quot;</span><span class="p">,</span>
                                               <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial Bold&quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">queue_switch_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;nse&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">queue_switch</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkSwitch</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">queue_switch_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">handle_queue</span><span class="p">,</span>
                                          <span class="n">width</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#5F6162&quot;</span><span class="p">,</span> <span class="n">progress_color</span><span class="o">=</span><span class="s2">&quot;#1A7313&quot;</span><span class="p">,</span> <span class="n">onvalue</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                          <span class="n">offvalue</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">switch_width</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">switch_height</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">button_length</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_queue_switch</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">queue_switch</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;nse&quot;</span><span class="p">)</span>

        <span class="c1"># --------Export buttons--------------</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">bottom_sub_frame3</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkFrame</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bottom_frame_main</span><span class="p">,</span>
                                              <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">aquamarine_col</span><span class="p">)</span>  <span class="c1"># height=110, width=312)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">bottom_sub_frame3</span><span class="o">.</span><span class="n">grid_propagate</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bottom_sub_frame3</span><span class="o">.</span><span class="n">pack_propagate</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bottom_sub_frame3</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;we&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">file_name_textbox</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkTextbox</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bottom_sub_frame1</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;transparent&quot;</span><span class="p">,</span>
                                                <span class="n">activate_scrollbars</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                                <span class="n">border_color</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">,</span>
                                                <span class="n">wrap</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">exportselection</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                                <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial Bold&quot;</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span> <span class="n">border_spacing</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_name_textbox</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;nwe&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_name_textbox</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">)</span>

        <span class="n">save_project_ld_img</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkImage</span><span class="p">(</span>
            <span class="n">light_image</span><span class="o">=</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;sources&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;tool_icons&quot;</span><span class="p">,</span> <span class="s2">&quot;save.png&quot;</span><span class="p">)),</span>
            <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">save_project_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bottom_sub_frame3</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="n">save_project_ld_img</span><span class="p">,</span>
                                              <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial Semibold&quot;</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span>
                                              <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#254E9F&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span>
                                              <span class="n">border_spacing</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">save_data</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">save_project_btn</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;s&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">pady</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">render_images_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bottom_sub_frame3</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Render Images&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial Bold&quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span>
                                               <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#195DC2&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">corner_radius</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
                                               <span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;#EFEFEF&quot;</span><span class="p">,</span>
                                               <span class="n">border_spacing</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">create_render_menu</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">render_images_btn</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;s&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>

        <span class="c1"># ------Creating Canvas, Overlay Canvasm  and Tools Panel---------</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_outliner</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">create_canvas</span><span class="p">()</span>
        <span class="c1"># Handles creating and displaying graphic items on the base canavas.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span> <span class="o">=</span> <span class="n">GraphicsManager</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">canvas</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">create_overlay_canvas</span><span class="p">()</span>
        <span class="c1"># Handles creating and displaying graphic items on the Overlay canavas.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">overlay_gm</span> <span class="o">=</span> <span class="n">OverlayGraphicsManager</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">canvas</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">overlay_canvas</span><span class="p">,</span> <span class="n">is_overlay</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">error_prompt</span> <span class="o">=</span> <span class="n">ErrorPrompt</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">image_processor</span> <span class="o">=</span> <span class="n">ImageProcessor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">canvas_gm</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="p">,</span> <span class="n">overlay_gm</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">overlay_gm</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tools_panel</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_tools</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">keybinds</span> <span class="o">=</span> <span class="n">KeyBinds</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas_keybinds</span> <span class="o">=</span> <span class="n">CanvasKeybinds</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">canvas</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="p">,</span> <span class="n">graphics_manager</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">overlay_keybinds</span> <span class="o">=</span> <span class="n">OverlayKeyBinds</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">canvas</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">overlay_canvas</span><span class="p">,</span> <span class="n">graphics_manager</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">overlay_gm</span><span class="p">)</span>

        <span class="c1"># self.on_resize(state=&quot;x&quot;) #Calls the window resize with initial state.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;Configure&gt;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">window_resize</span><span class="p">)</span>  <span class="c1"># Calls when window is moved or resized.</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">load_user_settings</span><span class="p">()</span>  <span class="c1"># Load the user settings.</span>

        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;win&#39;</span><span class="p">):</span>  <span class="c1"># Windows only feature</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wm_state</span><span class="p">(</span><span class="s2">&quot;zoomed&quot;</span><span class="p">)</span>  <span class="c1"># Setting the window to be maximized on startup.</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># self.attributes(&#39;-fullscreen&#39;, True)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wm_attributes</span><span class="p">(</span><span class="s2">&quot;-zoomed&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span></div>


<div class="viewcode-block" id="App.open_user_settings_window">
<a class="viewcode-back" href="../main.html#main.App.open_user_settings_window">[docs]</a>
    <span class="k">def</span> <span class="nf">open_user_settings_window</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates and displays the UserSettingWindow.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_settings_window</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">user_settings_window</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user_settings_window</span> <span class="o">=</span> <span class="n">UserSettingsWindow</span><span class="p">(</span><span class="n">app</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user_settings_window</span><span class="o">.</span><span class="n">attributes</span><span class="p">(</span><span class="s1">&#39;-topmost&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user_settings_window</span><span class="o">.</span><span class="n">wait_visibility</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user_settings_window</span><span class="o">.</span><span class="n">grab_set</span><span class="p">()</span></div>


    <span class="c1"># ------------------------------------------------------------</span>

<div class="viewcode-block" id="App.create_image_tools_panel">
<a class="viewcode-back" href="../main.html#main.App.create_image_tools_panel">[docs]</a>
    <span class="k">def</span> <span class="nf">create_image_tools_panel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creats the bottom tools panel for Image and Scale Controls.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">TOOL_BUTTON_WIDTH</span> <span class="o">=</span> <span class="mi">50</span>
        <span class="n">TOOL_BUTTON_FG</span> <span class="o">=</span> <span class="s2">&quot;#4A4A4A&quot;</span>
        <span class="n">TEXT_COL</span> <span class="o">=</span> <span class="s2">&quot;#D4D4D4&quot;</span>
        <span class="n">tool_button_hover</span> <span class="o">=</span> <span class="s2">&quot;#656565&quot;</span>
        <span class="n">TOOLS_FRAME_COL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_col</span>
        <span class="n">TOOL_HOVER</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">TOOL_ICON_SIZE</span> <span class="o">=</span> <span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>
        <span class="n">IMAGE_BUTTON_SIZE</span> <span class="o">=</span> <span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">image_import_ld_img</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkImage</span><span class="p">(</span>
            <span class="n">light_image</span><span class="o">=</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;sources&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;tool_icons&quot;</span><span class="p">,</span> <span class="s2">&quot;image_import.png&quot;</span><span class="p">)),</span>
            <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">IMAGE_BUTTON_SIZE</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_import_disabled_ld_img</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkImage</span><span class="p">(</span>
            <span class="n">light_image</span><span class="o">=</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;sources&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;tool_icons&quot;</span><span class="p">,</span> <span class="s2">&quot;image_import_disabled.png&quot;</span><span class="p">)),</span>
            <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">IMAGE_BUTTON_SIZE</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">image_import_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image_tools_frame</span><span class="p">,</span>
                                              <span class="n">fg_color</span><span class="o">=</span><span class="n">TOOL_BUTTON_FG</span><span class="p">,</span>
                                              <span class="n">hover_color</span><span class="o">=</span><span class="n">tool_button_hover</span><span class="p">,</span>
                                              <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial bold&quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span>
                                              <span class="n">text_color</span><span class="o">=</span><span class="n">TEXT_COL</span><span class="p">,</span>
                                              <span class="n">hover</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                              <span class="n">width</span><span class="o">=</span><span class="n">TOOL_BUTTON_WIDTH</span><span class="p">,</span>
                                              <span class="n">height</span><span class="o">=</span><span class="n">TOOL_BUTTON_WIDTH</span><span class="p">,</span>
                                              <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">import_overlay_image</span><span class="p">,</span>
                                              <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_import_ld_img</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">image_import_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;ew&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">scale_slider_frame</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image_tools_frame</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_col_dark</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale_slider_frame</span><span class="o">.</span><span class="n">grid_columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale_slider_frame</span><span class="o">.</span><span class="n">grid_rowconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale_slider_frame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;ns&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">scale_slider_top_frame</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scale_slider_frame</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_col_dark</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale_slider_top_frame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale_slider_top_frame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;new&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">scale_minus_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scale_slider_top_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#454545&quot;</span><span class="p">,</span>
                                             <span class="n">text_color</span><span class="o">=</span><span class="n">TEXT_COL</span><span class="p">,</span>
                                             <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial Bold&quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">corner_radius</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
                                             <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale_slider_event_handler</span><span class="p">(</span><span class="n">increment</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale_minus_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">scale_plus_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scale_slider_top_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;+&quot;</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#454545&quot;</span><span class="p">,</span>
                                            <span class="n">text_color</span><span class="o">=</span><span class="n">TEXT_COL</span><span class="p">,</span>
                                            <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial Bold&quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">corner_radius</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
                                            <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale_slider_event_handler</span><span class="p">(</span><span class="n">increment</span><span class="o">=</span><span class="s2">&quot;+&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale_plus_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;e&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">scale_slider_value_text</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scale_slider_top_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Scale:&quot;</span><span class="p">,</span>
                                                    <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial Bold&quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">text_color</span><span class="o">=</span><span class="n">TEXT_COL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale_slider_value_text</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">scale_slider_value_label</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scale_slider_top_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;1.0&quot;</span><span class="p">,</span>
                                                     <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial Bold&quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">text_color</span><span class="o">=</span><span class="n">TEXT_COL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale_slider_value_label</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mf">0.60</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.005</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">scale_slider</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkSlider</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scale_slider_frame</span><span class="p">,</span> <span class="n">from_</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                          <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">scale_slider_event_handler</span><span class="p">,</span>
                                          <span class="n">number_of_steps</span><span class="o">=</span><span class="mi">2000</span><span class="p">,</span> <span class="n">progress_color</span><span class="o">=</span><span class="s2">&quot;transparent&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale_slider</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;s&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">rotation_slider_frame</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image_tools_frame</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_col_dark</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rotation_slider_frame</span><span class="o">.</span><span class="n">grid_columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rotation_slider_frame</span><span class="o">.</span><span class="n">grid_rowconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rotation_slider_frame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;ns&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">rotation_slider_top_frame</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rotation_slider_frame</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_col_dark</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rotation_slider_top_frame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rotation_slider_top_frame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;new&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">rotation_minus_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rotation_slider_top_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#454545&quot;</span><span class="p">,</span>
                                                <span class="n">text_color</span><span class="o">=</span><span class="n">TEXT_COL</span><span class="p">,</span>
                                                <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial Bold&quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">corner_radius</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
                                                <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">rotation_slider_event_handler</span><span class="p">(</span><span class="n">increment</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rotation_minus_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">rotation_plus_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rotation_slider_top_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;+&quot;</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#454545&quot;</span><span class="p">,</span>
                                               <span class="n">text_color</span><span class="o">=</span><span class="n">TEXT_COL</span><span class="p">,</span>
                                               <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial Bold&quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">corner_radius</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
                                               <span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">rotation_slider_event_handler</span><span class="p">(</span><span class="n">increment</span><span class="o">=</span><span class="s2">&quot;+&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rotation_plus_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;e&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">rotation_slider_value_text</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rotation_slider_top_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Rotation:&quot;</span><span class="p">,</span>
                                                       <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial Bold&quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">text_color</span><span class="o">=</span><span class="n">TEXT_COL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rotation_slider_value_text</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">rotation_slider_value_label</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rotation_slider_top_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
                                                        <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial Bold&quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">text_color</span><span class="o">=</span><span class="n">TEXT_COL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rotation_slider_value_label</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mf">0.65</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.05</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">rotation_slider</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkSlider</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rotation_slider_frame</span><span class="p">,</span> <span class="n">from_</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">360</span><span class="p">,</span> <span class="n">number_of_steps</span><span class="o">=</span><span class="mi">361</span><span class="p">,</span>
                                             <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rotation_slider_event_handler</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rotation_slider</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rotation_slider</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">opacity_slider_frame</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image_tools_frame</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_col_dark</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opacity_slider_frame</span><span class="o">.</span><span class="n">grid_columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opacity_slider_frame</span><span class="o">.</span><span class="n">grid_rowconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opacity_slider_frame</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;ns&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">opacity_slider_value_text</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opacity_slider_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Image Opacity:&quot;</span><span class="p">,</span>
                                                      <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial Bold&quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">text_color</span><span class="o">=</span><span class="n">TEXT_COL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opacity_slider_value_text</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mf">0.08</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.005</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">opacity_slider_value_label</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opacity_slider_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;100&quot;</span><span class="p">,</span>
                                                       <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial Bold&quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">text_color</span><span class="o">=</span><span class="n">TEXT_COL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opacity_slider_value_label</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mf">0.78</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mf">0.005</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">opacity_slider</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkSlider</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">opacity_slider_frame</span><span class="p">,</span> <span class="n">from_</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
                                            <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">opacity_slider_event_handler</span><span class="p">,</span>
                                            <span class="n">number_of_steps</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opacity_slider</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;s&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">image_reset_ld_img</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkImage</span><span class="p">(</span>
            <span class="n">light_image</span><span class="o">=</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;sources&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;tool_icons&quot;</span><span class="p">,</span> <span class="s2">&quot;image_reset.png&quot;</span><span class="p">)),</span>
            <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">IMAGE_BUTTON_SIZE</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_reset_disabled_ld_img</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkImage</span><span class="p">(</span>
            <span class="n">light_image</span><span class="o">=</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;sources&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;tool_icons&quot;</span><span class="p">,</span> <span class="s2">&quot;image_reset_disabled.png&quot;</span><span class="p">)),</span>
            <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">IMAGE_BUTTON_SIZE</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">image_reset_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image_tools_frame</span><span class="p">,</span>
                                             <span class="n">fg_color</span><span class="o">=</span><span class="n">TOOL_BUTTON_FG</span><span class="p">,</span>
                                             <span class="n">hover_color</span><span class="o">=</span><span class="n">tool_button_hover</span><span class="p">,</span>
                                             <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial bold&quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span>
                                             <span class="n">text_color</span><span class="o">=</span><span class="n">TEXT_COL</span><span class="p">,</span> <span class="n">border_spacing</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                             <span class="n">hover</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                             <span class="n">width</span><span class="o">=</span><span class="n">TOOL_BUTTON_WIDTH</span><span class="p">,</span>
                                             <span class="n">height</span><span class="o">=</span><span class="n">TOOL_BUTTON_WIDTH</span><span class="p">,</span>
                                             <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">overlay_gm</span><span class="o">.</span><span class="n">reset_selected_image</span><span class="p">,</span>
                                             <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_reset_ld_img</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_reset_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;we&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">toggle_image_tools_buttons</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toggle_image_tools_sliders</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span></div>


<div class="viewcode-block" id="App.cel_opacity_slider_event_handler">
<a class="viewcode-back" href="../main.html#main.App.cel_opacity_slider_event_handler">[docs]</a>
    <span class="k">def</span> <span class="nf">cel_opacity_slider_event_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Called on value update from the opacity_slider, Changes the opacity of the cel.</span>

<span class="sd">        Args:</span>
<span class="sd">            value: Range from 0 to 1.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">value</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cel_opacity_slider_value_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">opacity_value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">/</span> <span class="mi">100</span><span class="p">)</span> <span class="o">*</span> <span class="mi">255</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">overlay_cel_ld_image</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;RGBA&quot;</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame_width_maxed</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_frame_height_maxed</span><span class="p">),</span>
                                              <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="n">opacity_value</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">overlay_cel_tk</span> <span class="o">=</span> <span class="n">ImageTk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">overlay_cel_ld_image</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">overlay_canvas</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">overlay_canvas_cel_image</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">overlay_cel_tk</span><span class="p">)</span></div>

        <span class="c1"># self.toggle_overlay_canvas(override=True,BG_ALPHA=value)</span>

<div class="viewcode-block" id="App.rotation_slider_event_handler">
<a class="viewcode-back" href="../main.html#main.App.rotation_slider_event_handler">[docs]</a>
    <span class="k">def</span> <span class="nf">rotation_slider_event_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">increment</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Rotates the selected overlay image based on the slider value.</span>

<span class="sd">        Args:</span>
<span class="sd">            value: Range 0 to 360.</span>
<span class="sd">            increment: + or - that increments the current rotation by +1 or -1.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">value</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">current_value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">increment</span> <span class="o">==</span> <span class="s2">&quot;+&quot;</span><span class="p">:</span>
            <span class="n">current_value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rotation_slider_value_label</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">))</span>
            <span class="n">current_value</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">current_value</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">current_value</span><span class="p">,</span> <span class="mi">360</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rotation_slider</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">current_value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">increment</span> <span class="o">==</span> <span class="s2">&quot;-&quot;</span><span class="p">:</span>
            <span class="n">current_value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rotation_slider_value_label</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">))</span>
            <span class="n">current_value</span> <span class="o">-=</span> <span class="mi">1</span>
            <span class="n">current_value</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">current_value</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rotation_slider</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">current_value</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">rotation_slider_value_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">current_value</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">overlay_gm</span><span class="o">.</span><span class="n">rotate_overlay_image</span><span class="p">(</span><span class="n">current_value</span><span class="p">)</span></div>


<div class="viewcode-block" id="App.set_rotation_slider">
<a class="viewcode-back" href="../main.html#main.App.set_rotation_slider">[docs]</a>
    <span class="k">def</span> <span class="nf">set_rotation_slider</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the rotation slider to the value provided.</span>

<span class="sd">        Args:</span>
<span class="sd">            value (int): Range 0 to 360</span>

<span class="sd">        Returns:</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rotation_slider</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rotation_slider_value_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">value</span><span class="p">)</span></div>


<div class="viewcode-block" id="App.scale_slider_event_handler">
<a class="viewcode-back" href="../main.html#main.App.scale_slider_event_handler">[docs]</a>
    <span class="k">def</span> <span class="nf">scale_slider_event_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">increment</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Scales the selected text item or selected overlay image.</span>

<span class="sd">        Args:</span>
<span class="sd">            value: A multiplier value that scales the image/text times the current image/text size.</span>
<span class="sd">            increment (str): &quot;+&quot; or &quot;-&quot; that increments or decrements the item scale by 1.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scale_slider_value_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="o">.</span><span class="n">update_text_item_scale</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">overlay_gm</span><span class="o">.</span><span class="n">update_text_item_scale</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">overlay_gm</span><span class="o">.</span><span class="n">scale_overlay_image</span><span class="p">(</span><span class="n">factor</span><span class="o">=</span><span class="n">value</span><span class="p">,</span> <span class="n">increment</span><span class="o">=</span><span class="n">increment</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># Increment.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="o">.</span><span class="n">update_text_item_scale</span><span class="p">(</span><span class="n">increment</span><span class="o">=</span><span class="n">increment</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">overlay_gm</span><span class="o">.</span><span class="n">update_text_item_scale</span><span class="p">(</span><span class="n">increment</span><span class="o">=</span><span class="n">increment</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">overlay_gm</span><span class="o">.</span><span class="n">scale_overlay_image</span><span class="p">(</span><span class="n">factor</span><span class="o">=</span><span class="n">value</span><span class="p">,</span> <span class="n">increment</span><span class="o">=</span><span class="n">increment</span><span class="p">)</span></div>


<div class="viewcode-block" id="App.opacity_slider_event_handler">
<a class="viewcode-back" href="../main.html#main.App.opacity_slider_event_handler">[docs]</a>
    <span class="k">def</span> <span class="nf">opacity_slider_event_handler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the opacity of the selected overlay image.</span>

<span class="sd">        Args:</span>
<span class="sd">            value: Range 0 to 100</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">value</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">overlay_gm</span><span class="o">.</span><span class="n">change_overlay_image_opacity</span><span class="p">(</span><span class="n">opacity</span><span class="o">=</span><span class="n">value</span> <span class="o">/</span> <span class="mi">100</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opacity_slider_value_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="App.set_opacity_slider">
<a class="viewcode-back" href="../main.html#main.App.set_opacity_slider">[docs]</a>
    <span class="k">def</span> <span class="nf">set_opacity_slider</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the opacity slider to the provided value.</span>

<span class="sd">        Args:</span>
<span class="sd">            value: Value from range 0 to 1</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opacity_slider</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opacity_slider_value_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">value</span><span class="p">)</span></div>


<div class="viewcode-block" id="App.reset_scale_slider">
<a class="viewcode-back" href="../main.html#main.App.reset_scale_slider">[docs]</a>
    <span class="k">def</span> <span class="nf">reset_scale_slider</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Resets the scale slider to middle position on mouse release.</span>

<span class="sd">        Args:</span>
<span class="sd">            event: Mouse click release event.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">overlay_gm</span><span class="o">.</span><span class="n">is_image_scaling</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">overlay_gm</span><span class="o">.</span><span class="n">is_text_scaling</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="o">.</span><span class="n">is_text_scaling</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">scale_slider</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale_slider_value_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;1.0&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">overlay_gm</span><span class="o">.</span><span class="n">reveal_overlay_image_selection_border</span><span class="p">()</span></div>


<div class="viewcode-block" id="App.toggle_image_tools_buttons">
<a class="viewcode-back" href="../main.html#main.App.toggle_image_tools_buttons">[docs]</a>
    <span class="k">def</span> <span class="nf">toggle_image_tools_buttons</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toggle</span><span class="p">,</span> <span class="n">only_reset</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Toggles the state of image tools button.</span>

<span class="sd">        Args:</span>
<span class="sd">            toggle (int):  1 sets the state to normal , 0 sets state to disabled.</span>
<span class="sd">            only_reset (bool):  Toggles the state of only the image_reset_btn. Default False.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">only_reset</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">toggle</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">image_reset_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_reset_ld_img</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">toggle</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">image_reset_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_reset_disabled_ld_img</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="n">toggle</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">TEXT_COL</span> <span class="o">=</span> <span class="s2">&quot;#888888&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">image_import_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_import_disabled_ld_img</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">image_reset_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_reset_disabled_ld_img</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cel_opacity_slider</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">TEXT_COL</span> <span class="o">=</span> <span class="s2">&quot;#D4D4D4&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">image_import_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_import_ld_img</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">image_reset_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_reset_ld_img</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cel_opacity_slider</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cel_opacity_slider_text</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text_color</span><span class="o">=</span><span class="n">TEXT_COL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cel_opacity_slider_value_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text_color</span><span class="o">=</span><span class="n">TEXT_COL</span><span class="p">)</span></div>


<div class="viewcode-block" id="App.toggle_image_tools_sliders">
<a class="viewcode-back" href="../main.html#main.App.toggle_image_tools_sliders">[docs]</a>
    <span class="k">def</span> <span class="nf">toggle_image_tools_sliders</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toggle</span><span class="p">,</span> <span class="n">only_scale</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Toggles the state of the image tools sliders.</span>

<span class="sd">        Args:</span>
<span class="sd">            toggle (int):  1 sets the state to normal , 0 sets state to disabled.</span>
<span class="sd">            only_scale (bool): Toggles the state of only the scale_slider. Default False.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">only_scale</span> <span class="ow">and</span> <span class="n">toggle</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">TEXT_COL</span> <span class="o">=</span> <span class="s2">&quot;#D4D4D4&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scale_slider_value_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text_color</span><span class="o">=</span><span class="n">TEXT_COL</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scale_slider_value_text</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text_color</span><span class="o">=</span><span class="n">TEXT_COL</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scale_minus_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scale_plus_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scale_slider</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="n">toggle</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">TEXT_COL</span> <span class="o">=</span> <span class="s2">&quot;#949494&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rotation_plus_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rotation_minus_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rotation_slider</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">scale_plus_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scale_minus_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scale_slider</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">opacity_slider</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">TEXT_COL</span> <span class="o">=</span> <span class="s2">&quot;#D4D4D4&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rotation_plus_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rotation_minus_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rotation_slider</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">scale_minus_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scale_plus_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scale_slider</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">opacity_slider</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">rotation_slider_value_text</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text_color</span><span class="o">=</span><span class="n">TEXT_COL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rotation_slider_value_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text_color</span><span class="o">=</span><span class="n">TEXT_COL</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">scale_slider_value_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text_color</span><span class="o">=</span><span class="n">TEXT_COL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scale_slider_value_text</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text_color</span><span class="o">=</span><span class="n">TEXT_COL</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">opacity_slider_value_text</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text_color</span><span class="o">=</span><span class="n">TEXT_COL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opacity_slider_value_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text_color</span><span class="o">=</span><span class="n">TEXT_COL</span><span class="p">)</span></div>


<div class="viewcode-block" id="App.import_overlay_image">
<a class="viewcode-back" href="../main.html#main.App.import_overlay_image">[docs]</a>
    <span class="k">def</span> <span class="nf">import_overlay_image</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Imports an image into the overlay canvas.</span>
<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">file_path</span> <span class="o">=</span> <span class="n">filedialog</span><span class="o">.</span><span class="n">askopenfilename</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select Image&quot;</span><span class="p">,</span>
                                               <span class="n">filetypes</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;Image Files&quot;</span><span class="p">,</span>
                                                           <span class="s2">&quot;.bmp .BMP .gif .GIF .icns .ICNS .ico .ICO .im .IM .jpeg .JPEG .jpg .JPG .jfif .JFIF .jpeg2000 .JPEG2000 .png .PNG .ppm .PPM .tga .TGA .tif .TIF .tiff .TIFF .webp .WEBP&quot;</span><span class="p">),</span>
                                                          <span class="p">(</span><span class="s2">&quot;All Files&quot;</span><span class="p">,</span> <span class="s2">&quot;*.*&quot;</span><span class="p">)])</span>

        <span class="k">if</span> <span class="n">file_path</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">FileHandler</span><span class="o">.</span><span class="n">validate_image</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">cursor_tool</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">overlay_gm</span><span class="o">.</span><span class="n">add_image_to_overlay_canvas</span><span class="p">(</span><span class="n">image_path</span><span class="o">=</span><span class="n">file_path</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># If image fails to load display an error message.</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">error_prompt</span><span class="o">.</span><span class="n">display_error_prompt</span><span class="p">(</span><span class="n">error_msg</span><span class="o">=</span><span class="s2">&quot;Image Failed to load&quot;</span><span class="p">,</span> <span class="n">priority</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span></div>


    <span class="c1"># ------------------------------------------------------------</span>

<div class="viewcode-block" id="App.create_canvas">
<a class="viewcode-back" href="../main.html#main.App.create_canvas">[docs]</a>
    <span class="k">def</span> <span class="nf">create_canvas</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># creates the canvas object</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates the image canvas that displays the images.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ld_img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">images</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">image_index</span><span class="p">]))</span>
        <span class="n">aspect_ratio</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ld_img</span><span class="o">.</span><span class="n">width</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">ld_img</span><span class="o">.</span><span class="n">height</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">aspect_width</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame_width</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame_height</span> <span class="o">*</span> <span class="n">aspect_ratio</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">aspect_height</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame_height</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame_width</span> <span class="o">/</span> <span class="n">aspect_ratio</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkCanvas</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">aspect_width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">aspect_height</span><span class="p">,</span>
                                          <span class="n">background</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">default_col</span><span class="p">,</span> <span class="n">highlightthickness</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pack_propagate</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">resized_ld_img</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ld_img</span><span class="o">.</span><span class="n">resize</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">aspect_width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">aspect_height</span><span class="p">),</span> <span class="n">Image</span><span class="o">.</span><span class="n">NEAREST</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_imagetk</span> <span class="o">=</span> <span class="n">ImageTk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resized_ld_img</span><span class="p">)</span>

        <span class="n">center_x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resized_ld_img</span><span class="o">.</span><span class="n">width</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="n">center_y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resized_ld_img</span><span class="o">.</span><span class="n">height</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">display_image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">create_image</span><span class="p">(</span><span class="n">center_x</span><span class="p">,</span> <span class="n">center_y</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">current_imagetk</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="s2">&quot;img&quot;</span><span class="p">,</span>
                                                            <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">canvas_scrollbar_y</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkScrollbar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">yview</span><span class="p">)</span>
        <span class="c1"># self.canvas_scrollbar_y.place(x=25, y=203)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">canvas_scrollbar_x</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkScrollbar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">xview</span><span class="p">,</span>
                                                   <span class="n">orientation</span><span class="o">=</span><span class="s2">&quot;horizontal&quot;</span><span class="p">)</span>
        <span class="c1"># self.canvas_scrollbar_x.place(x=12, y=123)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">xscrollcommand</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas_scrollbar_x</span><span class="o">.</span><span class="n">set</span><span class="p">,</span>
                                    <span class="n">yscrollcommand</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas_scrollbar_y</span><span class="o">.</span><span class="n">set</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">xscrollincrement</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">yscrollincrement</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">update_filename</span><span class="p">()</span>  <span class="c1"># Updates the current image filename on the bottm left corner.</span></div>


<div class="viewcode-block" id="App.create_overlay_canvas">
<a class="viewcode-back" href="../main.html#main.App.create_overlay_canvas">[docs]</a>
    <span class="k">def</span> <span class="nf">create_overlay_canvas</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates the overlay_canvas.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">overlay_canvas</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkCanvas</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame_width</span><span class="p">,</span>
                                            <span class="n">height</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame_height</span><span class="p">,</span>
                                            <span class="n">background</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="n">highlightthickness</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">overlay_canvas_bg_image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">overlay_canvas</span><span class="o">.</span><span class="n">create_image</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="s2">&quot;bg&quot;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;nw&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">overlay_cel_ld_image</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;RGBA&quot;</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame_width_maxed</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_frame_height_maxed</span><span class="p">),</span>
                                              <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">128</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">overlay_cel_tk</span> <span class="o">=</span> <span class="n">ImageTk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">overlay_cel_ld_image</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">overlay_canvas_cel_image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">overlay_canvas</span><span class="o">.</span><span class="n">create_image</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="s2">&quot;cel&quot;</span><span class="p">,</span>
                                                                         <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;nw&quot;</span><span class="p">,</span>
                                                                         <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">overlay_cel_tk</span><span class="p">)</span></div>


<div class="viewcode-block" id="App.toggle_overlay_canvas">
<a class="viewcode-back" href="../main.html#main.App.toggle_overlay_canvas">[docs]</a>
    <span class="k">def</span> <span class="nf">toggle_overlay_canvas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">override</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">rescaled</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Toggles the display of the overlay_canvas.</span>

<span class="sd">        Args:</span>
<span class="sd">            override(bool): If True display the overlay_canvas irrespective of current state.Default False</span>
<span class="sd">            rescaled(bool):If False reset the Base Canvas to default state. Default False.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># Resets Zoom and Actual size before</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">rescaled</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_image_canvas</span><span class="p">()</span>

        <span class="c1"># Clear all item selections.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="o">.</span><span class="n">remove_text_item_selection</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">overlay_gm</span><span class="o">.</span><span class="n">remove_text_item_selection</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">overlay_gm</span><span class="o">.</span><span class="n">remove_overlay_image_selection</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">overlay_canvas_visible</span> <span class="o">==</span> <span class="kc">False</span> <span class="ow">or</span> <span class="n">override</span><span class="p">:</span>
            <span class="c1"># if not self.overlay_canvas:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">overlay_canvas</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">in_</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;nw&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">overlay_canvas_visible</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">overlay_canvas_ld_img</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resized_ld_img</span>
            <span class="c1"># self.overlay_canvas_ld_img.putalpha(BG_ALPHA)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">current_backdrop_tk</span> <span class="o">=</span> <span class="n">ImageTk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">overlay_canvas_ld_img</span><span class="p">)</span>

            <span class="n">center_x</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame_width</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">overlay_canvas_ld_img</span><span class="o">.</span><span class="n">width</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
            <span class="n">center_y</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame_height</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">overlay_canvas_ld_img</span><span class="o">.</span><span class="n">height</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">overlay_canvas</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">overlay_canvas_bg_image</span><span class="p">,</span>
                                           <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">current_backdrop_tk</span><span class="p">,</span>
                                           <span class="n">tags</span><span class="o">=</span><span class="s2">&quot;bg&quot;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s2">&quot;nw&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">overlay_canvas</span><span class="o">.</span><span class="n">coords</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">overlay_canvas_bg_image</span><span class="p">,</span> <span class="n">center_x</span><span class="p">,</span> <span class="n">center_y</span><span class="p">)</span>
            <span class="c1"># moves the image to lower stack so the drawing on top is visible</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">overlay_canvas</span><span class="o">.</span><span class="n">tag_lower</span><span class="p">(</span><span class="s2">&quot;cel&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">overlay_canvas</span><span class="o">.</span><span class="n">tag_lower</span><span class="p">(</span><span class="s2">&quot;bg&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">toggle_image_control_buttons</span><span class="p">(</span><span class="n">toggle</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">toggle_image_tools_buttons</span><span class="p">(</span><span class="n">toggle</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">toggle_image_tools_buttons</span><span class="p">(</span><span class="n">toggle</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">only_reset</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">overlay_canvas_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#0095ff&quot;</span><span class="p">,</span> <span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span>
                                              <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">globe_active_ld_img</span><span class="p">)</span>

            <span class="c1"># Don&#39;t rest to cursor tool while scrolling through the images with overlay enabled.</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">override</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">cursor_tool</span><span class="p">()</span>


        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">overlay_canvas_visible</span><span class="p">:</span>  <span class="c1"># If canvas already visible hide it.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">overlay_canvas</span><span class="o">.</span><span class="n">place_forget</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">overlay_canvas_visible</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">toggle_image_control_buttons</span><span class="p">(</span><span class="n">toggle</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">toggle_image_tools_buttons</span><span class="p">(</span><span class="n">toggle</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">overlay_canvas_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#3e6160&quot;</span><span class="p">,</span> <span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;#BFBFBF&quot;</span><span class="p">,</span>
                                              <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">globe_disabled_ld_img</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">cursor_tool</span><span class="p">()</span></div>

        <span class="c1">#</span>

<div class="viewcode-block" id="App.create_outliner">
<a class="viewcode-back" href="../main.html#main.App.create_outliner">[docs]</a>
    <span class="k">def</span> <span class="nf">create_outliner</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates an Outliner object with the current loaded files.</span>
<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outliner</span> <span class="o">=</span> <span class="n">Outliner</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">mid_frame1</span><span class="p">,</span> <span class="n">parent_app</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#232323&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outliner</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;news&quot;</span><span class="p">)</span>

        <span class="c1"># Shift + hover shows full filename.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outliner_hover_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#0A283E&quot;</span><span class="p">,</span>
                                                <span class="n">hover</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial Bold&quot;</span><span class="p">,</span> <span class="mi">13</span><span class="p">))</span>

        <span class="c1"># Highlights the first button.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_outliner_selection</span><span class="p">()</span></div>


<div class="viewcode-block" id="App.create_tools">
<a class="viewcode-back" href="../main.html#main.App.create_tools">[docs]</a>
    <span class="k">def</span> <span class="nf">create_tools</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates the Tools Object and the TextInsertWindow widget.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">tools</span> <span class="o">=</span> <span class="n">Tools</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">canvas</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="p">,</span> <span class="n">graphics_manager</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas_text_insert</span> <span class="o">=</span> <span class="n">TextInsertWindow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame</span><span class="p">,</span> <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas_text_insert</span><span class="o">.</span><span class="n">hide_text_insert_window</span><span class="p">()</span>

        <span class="k">def</span> <span class="nf">create_color_selector_panel</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">color_tools_frame</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkFrame</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">mid_frame3</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">brown_col</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">color_tools_frame</span><span class="o">.</span><span class="n">grid_propagate</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">color_tools_frame</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">color_tools_frame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">color_tools_frame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;top&quot;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">rgb_picker_frame</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkFrame</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">color_tools_frame</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">yellow_col</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rgb_picker_frame</span><span class="o">.</span><span class="n">grid_propagate</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rgb_picker_frame</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rgb_picker_frame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rgb_picker_frame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;top&quot;</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">rgb_picker_canvas</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkCanvas</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">rgb_picker_frame</span><span class="p">,</span>
                                                   <span class="n">highlightthickness</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">borderwidth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">cursor</span><span class="o">=</span><span class="s2">&quot;dotbox&quot;</span><span class="p">)</span>
            <span class="c1"># self.rgb_picker_canvas.pack_propagate(True)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rgb_picker_canvas</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;top&quot;</span><span class="p">,</span> <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">rgb_img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;sources&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;RGB_picker.png&quot;</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resized_rgb_img</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rgb_img</span><span class="o">.</span><span class="n">resize</span><span class="p">((</span><span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">),</span> <span class="n">Image</span><span class="o">.</span><span class="n">NEAREST</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">current_rgb_img</span> <span class="o">=</span> <span class="n">ImageTk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resized_rgb_img</span><span class="p">)</span>

            <span class="n">center_x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resized_rgb_img</span><span class="o">.</span><span class="n">width</span> <span class="o">//</span> <span class="mi">2</span>
            <span class="n">center_y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resized_rgb_img</span><span class="o">.</span><span class="n">height</span> <span class="o">//</span> <span class="mi">2</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rgb_picker_image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rgb_picker_canvas</span><span class="o">.</span><span class="n">create_image</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">current_rgb_img</span><span class="p">,</span>
                                                                        <span class="n">tags</span><span class="o">=</span><span class="s2">&quot;img&quot;</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">rgb_slider_frame</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkFrame</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">color_tools_frame</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">orange_col</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rgb_slider_frame</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rgb_slider_frame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rgb_slider_frame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rgb_slider_frame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">expand</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">validate_numeric_255</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">validate_rgb_input_values</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">red_slider_value_entry</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkEntry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rgb_slider_frame</span><span class="p">,</span> <span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span>
                                                       <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial Bold&quot;</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span>
                                                       <span class="n">border_width</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">placeholder_text</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">35</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                                                       <span class="n">validate</span><span class="o">=</span><span class="s2">&quot;key&quot;</span><span class="p">,</span>
                                                       <span class="n">validatecommand</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">validate_numeric_255</span><span class="p">,</span> <span class="s2">&quot;%P&quot;</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">red_slider_value_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">pady</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">red_slider</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkSlider</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rgb_slider_frame</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#B78383&quot;</span><span class="p">,</span> <span class="n">button_color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span>
                                            <span class="n">button_hover_color</span><span class="o">=</span><span class="s2">&quot;darkred&quot;</span><span class="p">,</span>
                                            <span class="n">from_</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">255</span><span class="p">,</span> <span class="n">number_of_steps</span><span class="o">=</span><span class="mi">255</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">red_slider_event</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">red_slider</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">red_slider</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">red_slider_value_entry</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">green_slider_value_entry</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkEntry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rgb_slider_frame</span><span class="p">,</span> <span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span>
                                                         <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial Bold&quot;</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span>
                                                         <span class="n">border_width</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">placeholder_text</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">35</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                                                         <span class="n">validate</span><span class="o">=</span><span class="s2">&quot;key&quot;</span><span class="p">,</span>
                                                         <span class="n">validatecommand</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">validate_numeric_255</span><span class="p">,</span> <span class="s2">&quot;%P&quot;</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">green_slider_value_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">pady</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">green_slider</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkSlider</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rgb_slider_frame</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#7E837F&quot;</span><span class="p">,</span> <span class="n">button_color</span><span class="o">=</span><span class="s2">&quot;green&quot;</span><span class="p">,</span>
                                              <span class="n">button_hover_color</span><span class="o">=</span><span class="s2">&quot;darkgreen&quot;</span><span class="p">,</span> <span class="n">from_</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">255</span><span class="p">,</span> <span class="n">number_of_steps</span><span class="o">=</span><span class="mi">255</span><span class="p">,</span>
                                              <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">green_slider_event</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">green_slider</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">green_slider</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">green_slider_value_entry</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">blue_slider_value_entry</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkEntry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rgb_slider_frame</span><span class="p">,</span> <span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span>
                                                        <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial Bold&quot;</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span>
                                                        <span class="n">border_width</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">placeholder_text</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">35</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                                                        <span class="n">validate</span><span class="o">=</span><span class="s2">&quot;key&quot;</span><span class="p">,</span>
                                                        <span class="n">validatecommand</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">validate_numeric_255</span><span class="p">,</span> <span class="s2">&quot;%P&quot;</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blue_slider_value_entry</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">pady</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">blue_slider</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkSlider</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rgb_slider_frame</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#7E7EAC&quot;</span><span class="p">,</span> <span class="n">button_color</span><span class="o">=</span><span class="s2">&quot;blue&quot;</span><span class="p">,</span>
                                             <span class="n">button_hover_color</span><span class="o">=</span><span class="s2">&quot;darkblue&quot;</span><span class="p">,</span>
                                             <span class="n">from_</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">255</span><span class="p">,</span> <span class="n">number_of_steps</span><span class="o">=</span><span class="mi">255</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">blue_slider_event</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blue_slider</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blue_slider</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blue_slider_value_entry</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">create_color_list_panel</span><span class="p">():</span>
            <span class="n">COLOR_BTN_WIDTH</span> <span class="o">=</span> <span class="mi">30</span>
            <span class="n">COLOR_BTN_BORDER_COL</span> <span class="o">=</span> <span class="s2">&quot;#DDDDDD&quot;</span>
            <span class="n">COLOR_BTN_BORDER_WIDTH</span> <span class="o">=</span> <span class="mi">2</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">active_color</span> <span class="o">=</span> <span class="s2">&quot;#FF0000&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">previous_active_color</span> <span class="o">=</span> <span class="s2">&quot;#FF0000&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">first_color</span> <span class="o">=</span> <span class="s2">&quot;green&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">second_color</span> <span class="o">=</span> <span class="s2">&quot;blue&quot;</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">color_list_frame</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkFrame</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">mid_frame3</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">brown_col</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">color_list_frame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">color_list_frame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">color_list_frame</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">color_list_frame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;top&quot;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">active_color_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color_list_frame</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#FF0000&quot;</span><span class="p">,</span>
                                                  <span class="n">hover</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">COLOR_BTN_WIDTH</span> <span class="o">+</span> <span class="mi">10</span><span class="p">,</span>
                                                  <span class="n">height</span><span class="o">=</span><span class="n">COLOR_BTN_WIDTH</span> <span class="o">+</span> <span class="mi">10</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                                                  <span class="n">border_width</span><span class="o">=</span><span class="n">COLOR_BTN_BORDER_WIDTH</span><span class="p">,</span>
                                                  <span class="n">border_color</span><span class="o">=</span><span class="n">COLOR_BTN_BORDER_COL</span><span class="p">,</span>
                                                  <span class="n">command</span><span class="o">=</span><span class="k">lambda</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#FF0000&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_active_color</span><span class="p">(</span><span class="n">color</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">active_color_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rowspan</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">first_color_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color_list_frame</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#00FF00&quot;</span><span class="p">,</span>
                                                 <span class="n">hover</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                                 <span class="n">width</span><span class="o">=</span><span class="n">COLOR_BTN_WIDTH</span><span class="p">,</span>
                                                 <span class="n">height</span><span class="o">=</span><span class="n">COLOR_BTN_WIDTH</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                                                 <span class="n">border_width</span><span class="o">=</span><span class="n">COLOR_BTN_BORDER_WIDTH</span><span class="p">,</span>
                                                 <span class="n">border_color</span><span class="o">=</span><span class="n">COLOR_BTN_BORDER_COL</span><span class="p">,</span>
                                                 <span class="n">command</span><span class="o">=</span><span class="k">lambda</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#00FF00&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_active_color</span><span class="p">(</span><span class="n">color</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">first_color_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">rowspan</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">second_color_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color_list_frame</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="s2">&quot;#0000FF&quot;</span><span class="p">,</span>
                                                  <span class="n">hover</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                                  <span class="n">width</span><span class="o">=</span><span class="n">COLOR_BTN_WIDTH</span><span class="p">,</span>
                                                  <span class="n">height</span><span class="o">=</span><span class="n">COLOR_BTN_WIDTH</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                                                  <span class="n">border_width</span><span class="o">=</span><span class="n">COLOR_BTN_BORDER_WIDTH</span><span class="p">,</span>
                                                  <span class="n">border_color</span><span class="o">=</span><span class="n">COLOR_BTN_BORDER_COL</span><span class="p">,</span>
                                                  <span class="n">command</span><span class="o">=</span><span class="k">lambda</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#0000FF&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_active_color</span><span class="p">(</span><span class="n">color</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">second_color_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">rowspan</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

            <span class="c1"># Color Picker button in create_tool_buttons()</span>

        <span class="k">def</span> <span class="nf">create_tool_buttons</span><span class="p">():</span>
            <span class="n">TOOL_BUTTON_WIDTH</span> <span class="o">=</span> <span class="mi">40</span>
            <span class="n">TOOL_BUTTON_FG</span> <span class="o">=</span> <span class="s2">&quot;#4A4A4A&quot;</span>
            <span class="n">tool_button_hover</span> <span class="o">=</span> <span class="s2">&quot;#656565&quot;</span>
            <span class="n">TOOLS_FRAME_COL</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_col</span>
            <span class="n">TOOL_HOVER</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="n">TOOL_ICON_SIZE</span> <span class="o">=</span> <span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>

            <span class="n">color_picker_ld_img</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkImage</span><span class="p">(</span>
                <span class="n">light_image</span><span class="o">=</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;sources&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;tool_icons&quot;</span><span class="p">,</span> <span class="s2">&quot;color_picker.png&quot;</span><span class="p">)),</span>
                <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span> <span class="mi">18</span><span class="p">))</span>

            <span class="n">cursor_ld_img</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkImage</span><span class="p">(</span>
                <span class="n">light_image</span><span class="o">=</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;sources&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;tool_icons&quot;</span><span class="p">,</span> <span class="s2">&quot;cursor.png&quot;</span><span class="p">)),</span>
                <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">TOOL_ICON_SIZE</span><span class="p">))</span>
            <span class="n">brush_ld_img</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkImage</span><span class="p">(</span>
                <span class="n">light_image</span><span class="o">=</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;sources&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;tool_icons&quot;</span><span class="p">,</span> <span class="s2">&quot;brush.png&quot;</span><span class="p">)),</span>
                <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">TOOL_ICON_SIZE</span><span class="p">))</span>
            <span class="n">eraser_ld_img</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkImage</span><span class="p">(</span>
                <span class="n">light_image</span><span class="o">=</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;sources&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;tool_icons&quot;</span><span class="p">,</span> <span class="s2">&quot;eraser.png&quot;</span><span class="p">)),</span>
                <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">TOOL_ICON_SIZE</span><span class="p">))</span>
            <span class="n">line_ld_img</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkImage</span><span class="p">(</span>
                <span class="n">light_image</span><span class="o">=</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;sources&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;tool_icons&quot;</span><span class="p">,</span> <span class="s2">&quot;line.png&quot;</span><span class="p">)),</span>
                <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">TOOL_ICON_SIZE</span><span class="p">))</span>
            <span class="n">square_ld_img</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkImage</span><span class="p">(</span>
                <span class="n">light_image</span><span class="o">=</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;sources&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;tool_icons&quot;</span><span class="p">,</span> <span class="s2">&quot;square.png&quot;</span><span class="p">)),</span>
                <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">TOOL_ICON_SIZE</span><span class="p">))</span>
            <span class="n">oval_ld_img</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkImage</span><span class="p">(</span>
                <span class="n">light_image</span><span class="o">=</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;sources&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;tool_icons&quot;</span><span class="p">,</span> <span class="s2">&quot;circle.png&quot;</span><span class="p">)),</span>
                <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">TOOL_ICON_SIZE</span><span class="p">))</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">pan_ld_img</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkImage</span><span class="p">(</span>
                <span class="n">light_image</span><span class="o">=</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;sources&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;tool_icons&quot;</span><span class="p">,</span> <span class="s2">&quot;pan.png&quot;</span><span class="p">)),</span>
                <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">TOOL_ICON_SIZE</span><span class="p">))</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">text_ld_img</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkImage</span><span class="p">(</span>
                <span class="n">light_image</span><span class="o">=</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;sources&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;tool_icons&quot;</span><span class="p">,</span> <span class="s2">&quot;text.png&quot;</span><span class="p">)),</span>
                <span class="n">size</span><span class="o">=</span><span class="n">TOOL_ICON_SIZE</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">text_disabled_ld_img</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkImage</span><span class="p">(</span>
                <span class="n">light_image</span><span class="o">=</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;sources&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;tool_icons&quot;</span><span class="p">,</span> <span class="s2">&quot;text_disabled.png&quot;</span><span class="p">)),</span>
                <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">TOOL_ICON_SIZE</span><span class="p">))</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">text_color_ld_img</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkImage</span><span class="p">(</span>
                <span class="n">light_image</span><span class="o">=</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;sources&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;tool_icons&quot;</span><span class="p">,</span> <span class="s2">&quot;text_color.png&quot;</span><span class="p">)),</span>
                <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">TOOL_ICON_SIZE</span><span class="p">))</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">text_color_disabled_ld_img</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkImage</span><span class="p">(</span><span class="n">light_image</span><span class="o">=</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span>
                <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;sources&quot;</span><span class="p">,</span> <span class="s2">&quot;images&quot;</span><span class="p">,</span> <span class="s2">&quot;tool_icons&quot;</span><span class="p">,</span> <span class="s2">&quot;text_color_disabled.png&quot;</span><span class="p">)),</span>
                <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">TOOL_ICON_SIZE</span><span class="p">))</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">color_picker_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color_list_frame</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="n">TOOL_BUTTON_FG</span><span class="p">,</span>
                                                  <span class="n">hover_color</span><span class="o">=</span><span class="n">tool_button_hover</span><span class="p">,</span>
                                                  <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial bold&quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;#474747&quot;</span><span class="p">,</span>
                                                  <span class="n">border_spacing</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">hover</span><span class="o">=</span><span class="n">TOOL_HOVER</span><span class="p">,</span>
                                                  <span class="n">width</span><span class="o">=</span><span class="n">TOOL_BUTTON_WIDTH</span> <span class="o">-</span> <span class="mi">10</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">TOOL_BUTTON_WIDTH</span> <span class="o">-</span> <span class="mi">10</span><span class="p">,</span>
                                                  <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="n">color_picker_ld_img</span><span class="p">,</span>
                                                  <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">color_picker_tool</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">color_picker_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">rowspan</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">tools_frame</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkFrame</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">mid_frame3</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">violet_col</span><span class="p">)</span>
            <span class="c1"># self.tools_frame.grid_propagate(False)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tools_frame</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tools_frame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tools_frame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;top&quot;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">tools_items_frame</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkFrame</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tools_frame</span><span class="p">,</span>
                                                  <span class="n">fg_color</span><span class="o">=</span><span class="n">TOOLS_FRAME_COL</span><span class="p">)</span>  <span class="c1"># height=1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tools_items_frame</span><span class="o">.</span><span class="n">grid_propagate</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tools_items_frame</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tools_items_frame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tools_items_frame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;top&quot;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">cursor_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tools_items_frame</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="n">TOOL_BUTTON_FG</span><span class="p">,</span>
                                            <span class="n">hover_color</span><span class="o">=</span><span class="n">tool_button_hover</span><span class="p">,</span>
                                            <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial bold&quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;#474747&quot;</span><span class="p">,</span> <span class="n">border_spacing</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                            <span class="n">hover</span><span class="o">=</span><span class="n">TOOL_HOVER</span><span class="p">,</span>
                                            <span class="n">width</span><span class="o">=</span><span class="n">TOOL_BUTTON_WIDTH</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">TOOL_BUTTON_WIDTH</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="n">cursor_ld_img</span><span class="p">,</span>
                                            <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">cursor_tool</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cursor_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">pady</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">brush_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tools_items_frame</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="n">TOOL_BUTTON_FG</span><span class="p">,</span>
                                           <span class="n">hover_color</span><span class="o">=</span><span class="n">tool_button_hover</span><span class="p">,</span>
                                           <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial bold&quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;#474747&quot;</span><span class="p">,</span> <span class="n">border_spacing</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                           <span class="n">hover</span><span class="o">=</span><span class="n">TOOL_HOVER</span><span class="p">,</span>
                                           <span class="n">width</span><span class="o">=</span><span class="n">TOOL_BUTTON_WIDTH</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">TOOL_BUTTON_WIDTH</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="n">brush_ld_img</span><span class="p">,</span>
                                           <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">brush_tool</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">brush_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">eraser_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tools_items_frame</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="n">TOOL_BUTTON_FG</span><span class="p">,</span>
                                            <span class="n">hover_color</span><span class="o">=</span><span class="n">tool_button_hover</span><span class="p">,</span>
                                            <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial bold&quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;#474747&quot;</span><span class="p">,</span> <span class="n">border_spacing</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                            <span class="n">hover</span><span class="o">=</span><span class="n">TOOL_HOVER</span><span class="p">,</span>
                                            <span class="n">width</span><span class="o">=</span><span class="n">TOOL_BUTTON_WIDTH</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">TOOL_BUTTON_WIDTH</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="n">eraser_ld_img</span><span class="p">,</span>
                                            <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">eraser_tool</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">eraser_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">pady</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">line_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tools_items_frame</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="n">TOOL_BUTTON_FG</span><span class="p">,</span>
                                          <span class="n">hover_color</span><span class="o">=</span><span class="n">tool_button_hover</span><span class="p">,</span>
                                          <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial bold&quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;#474747&quot;</span><span class="p">,</span> <span class="n">border_spacing</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                          <span class="n">hover</span><span class="o">=</span><span class="n">TOOL_HOVER</span><span class="p">,</span>
                                          <span class="n">width</span><span class="o">=</span><span class="n">TOOL_BUTTON_WIDTH</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">TOOL_BUTTON_WIDTH</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="n">line_ld_img</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                                          <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">line_tool</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">line_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">pady</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">rectangle_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tools_items_frame</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="n">TOOL_BUTTON_FG</span><span class="p">,</span>
                                               <span class="n">hover_color</span><span class="o">=</span><span class="n">tool_button_hover</span><span class="p">,</span>
                                               <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial bold&quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;#474747&quot;</span><span class="p">,</span> <span class="n">border_spacing</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                               <span class="n">hover</span><span class="o">=</span><span class="n">TOOL_HOVER</span><span class="p">,</span>
                                               <span class="n">width</span><span class="o">=</span><span class="n">TOOL_BUTTON_WIDTH</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">TOOL_BUTTON_WIDTH</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="n">square_ld_img</span><span class="p">,</span>
                                               <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">rectangle_tool</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rectangle_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">oval_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tools_items_frame</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="n">TOOL_BUTTON_FG</span><span class="p">,</span>
                                          <span class="n">hover_color</span><span class="o">=</span><span class="n">tool_button_hover</span><span class="p">,</span>
                                          <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial bold&quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;#474747&quot;</span><span class="p">,</span> <span class="n">border_spacing</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                          <span class="n">hover</span><span class="o">=</span><span class="n">TOOL_HOVER</span><span class="p">,</span>
                                          <span class="n">width</span><span class="o">=</span><span class="n">TOOL_BUTTON_WIDTH</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">TOOL_BUTTON_WIDTH</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="n">oval_ld_img</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                                          <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">oval_tool</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">oval_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">pady</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">pan_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tools_items_frame</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="n">TOOL_BUTTON_FG</span><span class="p">,</span>
                                         <span class="n">hover_color</span><span class="o">=</span><span class="n">tool_button_hover</span><span class="p">,</span>
                                         <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial bold&quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;#474747&quot;</span><span class="p">,</span> <span class="n">border_spacing</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                         <span class="n">hover</span><span class="o">=</span><span class="n">TOOL_HOVER</span><span class="p">,</span>
                                         <span class="n">width</span><span class="o">=</span><span class="n">TOOL_BUTTON_WIDTH</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">TOOL_BUTTON_WIDTH</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                                         <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pan_ld_img</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">pan_tool</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pan_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">pady</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">text_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tools_items_frame</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="n">TOOL_BUTTON_FG</span><span class="p">,</span>
                                          <span class="n">hover_color</span><span class="o">=</span><span class="n">tool_button_hover</span><span class="p">,</span>
                                          <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial bold&quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;#474747&quot;</span><span class="p">,</span> <span class="n">border_spacing</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                          <span class="n">hover</span><span class="o">=</span><span class="n">TOOL_HOVER</span><span class="p">,</span>
                                          <span class="n">width</span><span class="o">=</span><span class="n">TOOL_BUTTON_WIDTH</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">TOOL_BUTTON_WIDTH</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                                          <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_ld_img</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">text_tool</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">text_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">text_color_btn</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tools_items_frame</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="n">TOOL_BUTTON_FG</span><span class="p">,</span>
                                                <span class="n">hover_color</span><span class="o">=</span><span class="n">tool_button_hover</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_color_ld_img</span><span class="p">,</span>
                                                <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial bold&quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;#474747&quot;</span><span class="p">,</span> <span class="n">border_spacing</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                                <span class="n">hover</span><span class="o">=</span><span class="n">TOOL_HOVER</span><span class="p">,</span>
                                                <span class="n">width</span><span class="o">=</span><span class="n">TOOL_BUTTON_WIDTH</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">TOOL_BUTTON_WIDTH</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                                                <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">text_color_tool</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">text_color_btn</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">pady</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">tools_slider_frame</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkFrame</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tools_frame</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="n">TOOLS_FRAME_COL</span><span class="p">,</span>
                                                   <span class="n">corner_radius</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>  <span class="c1"># height=1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tools_slider_frame</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tools_slider_frame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tools_slider_frame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;top&quot;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

            <span class="n">width_slider_label</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tools_slider_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Width:&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial &quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>
            <span class="n">width_slider_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">ipadx</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">width_slider_value_label</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tools_slider_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">Tools</span><span class="o">.</span><span class="n">stroke_width</span><span class="p">,</span>
                                                         <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial Bold&quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">width_slider_value_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="n">ipadx</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">width_slider</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkSlider</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tools_slider_frame</span><span class="p">,</span> <span class="n">from_</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">width_slider_event</span><span class="p">,</span>
                                              <span class="n">number_of_steps</span><span class="o">=</span><span class="mi">49</span><span class="p">,</span> <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">width_slider</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">width_slider</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">Tools</span><span class="o">.</span><span class="n">stroke_width</span><span class="p">)</span>

            <span class="n">decimate_slider_label</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tools_slider_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Decimate:&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial &quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>
            <span class="n">decimate_slider_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">ipadx</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">decimate_slider_value_label</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tools_slider_frame</span><span class="p">,</span>
                                                            <span class="n">text</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">Tools</span><span class="o">.</span><span class="n">decimate_factor</span> <span class="o">*</span> <span class="mi">10</span><span class="p">),</span>
                                                            <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial Bold&quot;</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">text_color</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">decimate_slider_value_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="n">ipadx</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">decimate_slider</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkSlider</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tools_slider_frame</span><span class="p">,</span> <span class="n">from_</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
                                                 <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">decimate_slider_event</span><span class="p">,</span>
                                                 <span class="n">number_of_steps</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">decimate_slider</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">decimate_slider</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">Tools</span><span class="o">.</span><span class="n">decimate_factor</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">create_modifier_tool_buttons</span><span class="p">():</span>
            <span class="n">MODIFIER_BUTTON_WIDTH</span> <span class="o">=</span> <span class="mi">23</span>
            <span class="n">MODIFIER_BUTTON_BORDER</span> <span class="o">=</span> <span class="mi">3</span>
            <span class="n">MODIFIER_BUTTON_FONT</span> <span class="o">=</span> <span class="mi">14</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">modifiers_frame</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkFrame</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">mid_frame3</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">brown_col</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">modifiers_frame</span><span class="o">.</span><span class="n">grid_propagate</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">modifiers_frame</span><span class="o">.</span><span class="n">rowconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">modifiers_frame</span><span class="o">.</span><span class="n">columnconfigure</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">weight</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">modifiers_frame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;top&quot;</span><span class="p">,</span> <span class="p">)</span>

            <span class="n">uniform</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">modifiers_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Uniform:&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial &quot;</span><span class="p">,</span> <span class="n">MODIFIER_BUTTON_FONT</span><span class="p">))</span>
            <span class="n">uniform</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">uniform_checkbox</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkCheckBox</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">modifiers_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">checkbox_width</span><span class="o">=</span><span class="n">MODIFIER_BUTTON_WIDTH</span><span class="p">,</span>
                                                    <span class="n">checkbox_height</span><span class="o">=</span><span class="n">MODIFIER_BUTTON_WIDTH</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                                    <span class="n">border_width</span><span class="o">=</span><span class="n">MODIFIER_BUTTON_BORDER</span><span class="p">,</span>
                                                    <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">uniform_shape_checkbox_handler</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">uniform_checkbox</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="p">)</span>

            <span class="n">fill_color_label</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">modifiers_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Fill:&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial &quot;</span><span class="p">,</span> <span class="n">MODIFIER_BUTTON_FONT</span><span class="p">))</span>
            <span class="n">fill_color_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;e&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fill_color_checkbox</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkCheckBox</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">modifiers_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                                                       <span class="n">checkbox_width</span><span class="o">=</span><span class="n">MODIFIER_BUTTON_WIDTH</span><span class="p">,</span>
                                                       <span class="n">checkbox_height</span><span class="o">=</span><span class="n">MODIFIER_BUTTON_WIDTH</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                                       <span class="n">border_width</span><span class="o">=</span><span class="n">MODIFIER_BUTTON_BORDER</span><span class="p">,</span>
                                                       <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">fill_color_checkbox_handler</span><span class="p">,</span> <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fill_color_checkbox</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">flat_cap_label</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">modifiers_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Flat Cap:&quot;</span><span class="p">,</span>
                                               <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial &quot;</span><span class="p">,</span> <span class="n">MODIFIER_BUTTON_FONT</span> <span class="o">-</span> <span class="mi">3</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">flat_cap_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">flat_cap_checkbox</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkCheckBox</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">modifiers_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                                                     <span class="n">checkbox_width</span><span class="o">=</span><span class="n">MODIFIER_BUTTON_WIDTH</span><span class="p">,</span>
                                                     <span class="n">checkbox_height</span><span class="o">=</span><span class="n">MODIFIER_BUTTON_WIDTH</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                                     <span class="n">border_width</span><span class="o">=</span><span class="n">MODIFIER_BUTTON_BORDER</span><span class="p">,</span>
                                                     <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">flat_cap_checkbox_handler</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">flat_cap_checkbox</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">highlight_label</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">modifiers_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Highlight:&quot;</span><span class="p">,</span>
                                                <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial &quot;</span><span class="p">,</span> <span class="n">MODIFIER_BUTTON_FONT</span> <span class="o">-</span> <span class="mi">3</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">highlight_label</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;e&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">highlight_checkbox</span> <span class="o">=</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkCheckBox</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">modifiers_frame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
                                                      <span class="n">checkbox_width</span><span class="o">=</span><span class="n">MODIFIER_BUTTON_WIDTH</span><span class="p">,</span>
                                                      <span class="n">checkbox_height</span><span class="o">=</span><span class="n">MODIFIER_BUTTON_WIDTH</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                                      <span class="n">border_width</span><span class="o">=</span><span class="n">MODIFIER_BUTTON_BORDER</span><span class="p">,</span>
                                                      <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">highlight_checkbox_handler</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">highlight_checkbox</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;e&quot;</span><span class="p">)</span>

        <span class="n">create_color_selector_panel</span><span class="p">()</span>
        <span class="n">create_color_list_panel</span><span class="p">()</span>
        <span class="n">create_tool_buttons</span><span class="p">()</span>
        <span class="n">create_modifier_tool_buttons</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">create_image_tools_panel</span><span class="p">()</span>
        <span class="c1"># Makes a dictionary with the buttons.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">create_tool_button_dict</span><span class="p">()</span>
        <span class="c1"># set first tool as cursor</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">cursor_tool</span><span class="p">()</span></div>


<div class="viewcode-block" id="App.rescale_tools_panel">
<a class="viewcode-back" href="../main.html#main.App.rescale_tools_panel">[docs]</a>
    <span class="k">def</span> <span class="nf">rescale_tools_panel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Rescales the tools panel to adapt to the new window size.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">tool_panel_width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame_width</span> <span class="o">*</span> <span class="mf">.130</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">resized_rgb_img</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rgb_img</span><span class="o">.</span><span class="n">resize</span><span class="p">((</span><span class="n">tool_panel_width</span><span class="p">,</span> <span class="n">tool_panel_width</span><span class="p">),</span> <span class="n">Image</span><span class="o">.</span><span class="n">NEAREST</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_rgb_img</span> <span class="o">=</span> <span class="n">ImageTk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resized_rgb_img</span><span class="p">)</span>
        <span class="n">center_x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resized_rgb_img</span><span class="o">.</span><span class="n">width</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="n">center_y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resized_rgb_img</span><span class="o">.</span><span class="n">height</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rgb_picker_frame</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="n">tool_panel_width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">tool_panel_width</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rgb_picker_canvas</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="n">tool_panel_width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">tool_panel_width</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rgb_picker_canvas</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rgb_picker_image</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">current_rgb_img</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rgb_picker_canvas</span><span class="o">.</span><span class="n">coords</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rgb_picker_image</span><span class="p">,</span> <span class="n">center_x</span><span class="p">,</span> <span class="n">center_y</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">red_slider</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="n">tool_panel_width</span> <span class="o">-</span> <span class="mi">30</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">green_slider</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="n">tool_panel_width</span> <span class="o">-</span> <span class="mi">30</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blue_slider</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="n">tool_panel_width</span> <span class="o">-</span> <span class="mi">30</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">modifiers_frame</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="n">tool_panel_width</span><span class="p">)</span></div>


<div class="viewcode-block" id="App.update_filename">
<a class="viewcode-back" href="../main.html#main.App.update_filename">[docs]</a>
    <span class="k">def</span> <span class="nf">update_filename</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Updates the filename on the left lowerside with the name of the current displayed image.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">current_filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image_data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">image_index</span><span class="p">][</span><span class="s1">&#39;file&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_name_textbox</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_name_textbox</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;0.0&quot;</span><span class="p">,</span> <span class="s2">&quot;end&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_name_textbox</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s2">&quot;0.0&quot;</span><span class="p">,</span> <span class="n">current_filename</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_name_textbox</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="App.toggle_media_buttons">
<a class="viewcode-back" href="../main.html#main.App.toggle_media_buttons">[docs]</a>
    <span class="k">def</span> <span class="nf">toggle_media_buttons</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toggle</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Toggles the state of the media buttons.</span>

<span class="sd">        Args:</span>
<span class="sd">            toggle (int): 0 to disable ,1 to set state to normal.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">toggle</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">state</span> <span class="o">=</span> <span class="s2">&quot;disabled&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">state</span> <span class="o">=</span> <span class="s2">&quot;normal&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">first_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="n">state</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="n">state</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prev_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="n">state</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">next_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="n">state</span><span class="p">)</span></div>


<div class="viewcode-block" id="App.toggle_image_control_buttons">
<a class="viewcode-back" href="../main.html#main.App.toggle_image_control_buttons">[docs]</a>
    <span class="k">def</span> <span class="nf">toggle_image_control_buttons</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">toggle</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Toggles the state of the Display Image Control buttons (top).</span>

<span class="sd">        Args:</span>
<span class="sd">            toggle (int): 0 to disable ,1 to set state to normal.</span>

<span class="sd">        Returns:</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">toggle</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lock_zoom_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hq_view_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">actual_scale_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hide_annotations_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lock_zoom_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hq_view_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">actual_scale_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hide_annotations_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">)</span></div>


    <span class="c1"># ====---Window Resize Call-----------------------------</span>
<div class="viewcode-block" id="App.window_resize">
<a class="viewcode-back" href="../main.html#main.App.window_resize">[docs]</a>
    <span class="k">def</span> <span class="nf">window_resize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Called on change in window size.</span>

<span class="sd">        Args:</span>
<span class="sd">            event (tkinter.Event): Event object</span>
<span class="sd">            state (str): &quot;x&quot; represents the initial state, &quot;m&quot; for maximzied and &quot;w&quot; for windowed.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">state</span> <span class="o">==</span> <span class="s2">&quot;x&quot;</span><span class="p">:</span>  <span class="c1"># initial call.</span>
            <span class="n">new_state</span> <span class="o">=</span> <span class="s2">&quot;x&quot;</span>

        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;win&#39;</span><span class="p">):</span>  <span class="c1"># Set state to maximized window</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">wm_state</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;zoomed&quot;</span><span class="p">:</span>  <span class="c1"># For Windows</span>
                <span class="n">new_state</span> <span class="o">=</span> <span class="s2">&quot;m&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">new_state</span> <span class="o">=</span> <span class="s2">&quot;w&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">wm_attributes</span><span class="p">(</span><span class="s2">&quot;-zoomed&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># For linux</span>
                <span class="n">new_state</span> <span class="o">=</span> <span class="s2">&quot;m&quot;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">new_state</span> <span class="o">=</span> <span class="s2">&quot;w&quot;</span>

        <span class="k">if</span> <span class="n">new_state</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_state</span><span class="p">:</span>  <span class="c1"># Only execute if state has changed</span>

            <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;win&#39;</span><span class="p">):</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">wm_state</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;zoomed&quot;</span><span class="p">:</span>  <span class="c1"># For Windows</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">current_state</span> <span class="o">=</span> <span class="s1">&#39;m&#39;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">current_state</span> <span class="o">=</span> <span class="s1">&#39;w&#39;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">wm_attributes</span><span class="p">(</span><span class="s2">&quot;-zoomed&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># For linux</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">current_state</span> <span class="o">=</span> <span class="s1">&#39;m&#39;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">current_state</span> <span class="o">=</span> <span class="s1">&#39;w&#39;</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_state</span> <span class="o">==</span> <span class="s2">&quot;m&quot;</span><span class="p">:</span>  <span class="c1"># Maximized</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">screen_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">winfo_screenwidth</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">maximized_mode</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">image_frame_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_frame_width_maxed</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">image_frame_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_frame_height_maxed</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">outliner_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_frame_height</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">top_frame_right</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_rel_width</span><span class="p">(</span><span class="mf">.115</span><span class="p">))</span>
                <span class="n">MODIFIERS_FONT_SIZE</span> <span class="o">=</span> <span class="mi">14</span>
                <span class="n">SLIDER_FRAME_PADY</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">maximized_frame_size</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame_width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_frame_height</span><span class="p">)</span>

                <span class="c1"># Scaling the coordinates for the quick text insert.</span>
                <span class="k">if</span> <span class="n">TextInsertWindow</span><span class="o">.</span><span class="n">stored_text_position</span><span class="p">:</span>
                    <span class="n">x</span> <span class="o">=</span> <span class="n">TextInsertWindow</span><span class="o">.</span><span class="n">stored_text_position</span><span class="o">.</span><span class="n">x</span>
                    <span class="n">y</span> <span class="o">=</span> <span class="n">TextInsertWindow</span><span class="o">.</span><span class="n">stored_text_position</span><span class="o">.</span><span class="n">y</span>
                    <span class="n">upscaled_coords</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="o">.</span><span class="n">scale_coordinates</span><span class="p">(</span><span class="n">coordinate_list</span><span class="o">=</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span>
                                                                       <span class="n">scale_mode</span><span class="o">=</span><span class="s2">&quot;+&quot;</span><span class="p">,</span>
                                                                       <span class="n">scale_item</span><span class="o">=</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
                    <span class="n">TextInsertWindow</span><span class="o">.</span><span class="n">stored_text_position</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">upscaled_coords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="n">TextInsertWindow</span><span class="o">.</span><span class="n">stored_text_position</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">upscaled_coords</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>


            <span class="k">else</span><span class="p">:</span>  <span class="c1"># windowed mode</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">maximized_mode</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">screen_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">winfo_screenwidth</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">image_frame_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_frame_width_windowed</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">image_frame_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_frame_height_windowed</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">outliner_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_frame_height</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">top_frame_right</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_rel_width</span><span class="p">(</span><span class="mf">.075</span><span class="p">))</span>
                <span class="n">MODIFIERS_FONT_SIZE</span> <span class="o">=</span> <span class="mi">11</span>
                <span class="n">SLIDER_FRAME_PADY</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">windowed_frame_size</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame_width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_frame_height</span><span class="p">)</span>

                <span class="c1"># Scaling the coordinates for the quick text insert.</span>
                <span class="k">if</span> <span class="n">TextInsertWindow</span><span class="o">.</span><span class="n">stored_text_position</span><span class="p">:</span>
                    <span class="n">x</span> <span class="o">=</span> <span class="n">TextInsertWindow</span><span class="o">.</span><span class="n">stored_text_position</span><span class="o">.</span><span class="n">x</span>
                    <span class="n">y</span> <span class="o">=</span> <span class="n">TextInsertWindow</span><span class="o">.</span><span class="n">stored_text_position</span><span class="o">.</span><span class="n">y</span>

                    <span class="n">upscaled_coords</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="o">.</span><span class="n">scale_coordinates</span><span class="p">(</span><span class="n">coordinate_list</span><span class="o">=</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span>
                                                                       <span class="n">scale_mode</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span>
                                                                       <span class="n">scale_item</span><span class="o">=</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
                    <span class="n">TextInsertWindow</span><span class="o">.</span><span class="n">stored_text_position</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">upscaled_coords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="n">TextInsertWindow</span><span class="o">.</span><span class="n">stored_text_position</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">upscaled_coords</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

            <span class="c1"># Updating the widgets with new values based on the current window size.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mid_frame_main</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">height</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame_height</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mid_frame1</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">height</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame_height</span><span class="p">,</span> <span class="p">)</span>  <span class="c1"># outliner panel</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mid_frame2</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">height</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame_height</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame_width</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mid_frame3</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">height</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame_height</span><span class="p">,</span> <span class="p">)</span>  <span class="c1"># side  panel</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">image_frame</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame_width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame_height</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">mid_frame1</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame_width</span> <span class="o">//</span> <span class="mi">4</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mid_frame3</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame_width</span> <span class="o">//</span> <span class="mi">4</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">overlay_canvas</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame_width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame_height</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">maximized_mode</span><span class="p">:</span>
                <span class="c1"># Hides all proxy annotations.</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="o">.</span><span class="n">hide_proxy_annotations</span><span class="p">(</span><span class="n">hide_current</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="o">.</span><span class="n">hide_parent_annotations</span><span class="p">(</span><span class="n">hide_current</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

            <span class="c1"># Updates the canvas frame</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_image_canvas</span><span class="p">()</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">outliner</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">height</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame_height</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">rescale_tools_panel</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">flat_cap_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="n">MODIFIERS_FONT_SIZE</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">highlight_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Arial&quot;</span><span class="p">,</span> <span class="n">MODIFIERS_FONT_SIZE</span><span class="p">))</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">tools_slider_frame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">pady</span><span class="o">=</span><span class="n">SLIDER_FRAME_PADY</span><span class="p">)</span>

            <span class="c1"># ----Removing item selection------------</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">overlay_gm</span><span class="o">.</span><span class="n">rescale_overlay_images_to_view</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">overlay_gm</span><span class="o">.</span><span class="n">remove_text_item_selection</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="o">.</span><span class="n">remove_text_item_selection</span><span class="p">()</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">canvas_text_insert</span><span class="o">.</span><span class="n">hide_text_insert_window</span><span class="p">()</span>

            <span class="c1"># Reset to cursor tool on window resize</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">cursor_tool</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">old_state</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_state</span></div>


    <span class="c1"># ---Color Fetch Decorator------------------</span>
<div class="viewcode-block" id="App.update_colors">
<a class="viewcode-back" href="../main.html#main.App.update_colors">[docs]</a>
    <span class="k">def</span> <span class="nf">update_colors</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Decorator that updates the current color on the app.</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nd">@wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">wrapper_function</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
            <span class="n">main_func</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;color_value&#39;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_active_color</span><span class="p">()</span>
                <span class="k">return</span> <span class="n">main_func</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fetch_slider_color</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_active_color</span><span class="p">()</span>
                <span class="k">return</span> <span class="n">main_func</span>

        <span class="k">return</span> <span class="n">wrapper_function</span></div>


    <span class="c1"># ---Color Decorator Methods------------------</span>
<div class="viewcode-block" id="App.fetch_slider_color">
<a class="viewcode-back" href="../main.html#main.App.fetch_slider_color">[docs]</a>
    <span class="k">def</span> <span class="nf">fetch_slider_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Fetches the RGB colors from the color slider and sets as active color.</span>

<span class="sd">        Args:</span>
<span class="sd">            event (tkinter.Event):</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">red</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">red_slider</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
        <span class="n">green</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">green_slider</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>
        <span class="n">blue</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blue_slider</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">active_color</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;#</span><span class="si">{</span><span class="n">red</span><span class="si">:</span><span class="s2">02x</span><span class="si">}{</span><span class="n">green</span><span class="si">:</span><span class="s2">02x</span><span class="si">}{</span><span class="n">blue</span><span class="si">:</span><span class="s2">02x</span><span class="si">}</span><span class="s2">&quot;</span>  <span class="c1"># RGB To Hex.</span></div>


<div class="viewcode-block" id="App.set_active_color">
<a class="viewcode-back" href="../main.html#main.App.set_active_color">[docs]</a>
    <span class="k">def</span> <span class="nf">set_active_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets active color from other means like color picker.</span>

<span class="sd">        Args:</span>
<span class="sd">            color(str, optional): Hex color code to set as active color.</span>

<span class="sd">        Returns:</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">color</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">active_color</span> <span class="o">=</span> <span class="n">color</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">active_color_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">active_color</span><span class="p">)</span>
        <span class="n">Tools</span><span class="o">.</span><span class="n">fill_color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">active_color</span></div>


    <span class="c1"># ----Decorated-------</span>

<div class="viewcode-block" id="App.red_slider_event">
<a class="viewcode-back" href="../main.html#main.App.red_slider_event">[docs]</a>
    <span class="nd">@update_colors</span>
    <span class="k">def</span> <span class="nf">red_slider_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">color_value</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Called on red_slider value update.</span>

<span class="sd">        Args:</span>
<span class="sd">            event (tkinter.Event):</span>
<span class="sd">            color_value (str,optional): RGB color value of range 0 to 255</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">color_value</span><span class="p">:</span>
            <span class="n">slider_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">red_slider</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">slider_val</span> <span class="o">=</span> <span class="n">color_value</span>

        <span class="k">if</span> <span class="n">slider_val</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">red_slider_value_entry</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;end&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">red_slider_value_entry</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">slider_val</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">red_slider_value_entry</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;end&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">red_slider_value_entry</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span></div>


<div class="viewcode-block" id="App.red_entry_event">
<a class="viewcode-back" href="../main.html#main.App.red_entry_event">[docs]</a>
    <span class="nd">@update_colors</span>
    <span class="k">def</span> <span class="nf">red_entry_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Called on updating the red_slider_value_entry.</span>

<span class="sd">        Args:</span>
<span class="sd">            event (tkinter.Event):</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">red_slider_value_entry</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">red_slider</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">red_slider</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span></div>


<div class="viewcode-block" id="App.green_slider_event">
<a class="viewcode-back" href="../main.html#main.App.green_slider_event">[docs]</a>
    <span class="nd">@update_colors</span>
    <span class="k">def</span> <span class="nf">green_slider_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">color_value</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">          Called on green_slider value update.</span>

<span class="sd">          Args:</span>
<span class="sd">              event (tkinter.Event):</span>
<span class="sd">              color_value (str,optional): RGB color value of range 0 to 255</span>

<span class="sd">          Returns:</span>
<span class="sd">              None</span>

<span class="sd">          &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">color_value</span><span class="p">:</span>
            <span class="n">slider_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">green_slider</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">slider_val</span> <span class="o">=</span> <span class="n">color_value</span>

        <span class="k">if</span> <span class="n">slider_val</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">green_slider_value_entry</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;end&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">green_slider_value_entry</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">slider_val</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">green_slider_value_entry</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;end&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">green_slider_value_entry</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span></div>


<div class="viewcode-block" id="App.green_entry_event">
<a class="viewcode-back" href="../main.html#main.App.green_entry_event">[docs]</a>
    <span class="nd">@update_colors</span>
    <span class="k">def</span> <span class="nf">green_entry_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">         Called on updating the green_slider_value_entry.</span>

<span class="sd">         Args:</span>
<span class="sd">             event (tkinter.Event):</span>

<span class="sd">         Returns:</span>
<span class="sd">             None</span>

<span class="sd">         &quot;&quot;&quot;</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">green_slider_value_entry</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">green_slider</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">green_slider</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span></div>


<div class="viewcode-block" id="App.blue_slider_event">
<a class="viewcode-back" href="../main.html#main.App.blue_slider_event">[docs]</a>
    <span class="nd">@update_colors</span>
    <span class="k">def</span> <span class="nf">blue_slider_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">color_value</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">          Called on blue_slider value update.</span>

<span class="sd">          Args:</span>
<span class="sd">              event (tkinter.Event):</span>
<span class="sd">              color_value (str,optional): RGB color value of range 0 to 255</span>

<span class="sd">          Returns:</span>
<span class="sd">              None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">color_value</span><span class="p">:</span>
            <span class="n">slider_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">blue_slider</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">slider_val</span> <span class="o">=</span> <span class="n">color_value</span>

        <span class="k">if</span> <span class="n">slider_val</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blue_slider_value_entry</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;end&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blue_slider_value_entry</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">slider_val</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blue_slider_value_entry</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;end&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blue_slider_value_entry</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span></div>


<div class="viewcode-block" id="App.blue_entry_event">
<a class="viewcode-back" href="../main.html#main.App.blue_entry_event">[docs]</a>
    <span class="nd">@update_colors</span>
    <span class="k">def</span> <span class="nf">blue_entry_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">         Called on updating the blue_slider_value_entry.</span>

<span class="sd">         Args:</span>
<span class="sd">             event (tkinter.Event):</span>

<span class="sd">         Returns:</span>
<span class="sd">             None</span>

<span class="sd">         &quot;&quot;&quot;</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">blue_slider_value_entry</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blue_slider</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blue_slider</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span></div>


<div class="viewcode-block" id="App.pick_color">
<a class="viewcode-back" href="../main.html#main.App.pick_color">[docs]</a>
    <span class="nd">@update_colors</span>
    <span class="k">def</span> <span class="nf">pick_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">canvas</span><span class="p">:</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkCanvas</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Picks a color value(pixel) from the canvas.</span>

<span class="sd">        Args:</span>
<span class="sd">            event (tkinter.Event): Mouse cordiantes for the picked pixel.</span>
<span class="sd">            color (str, optional): Hex Color Code</span>
<span class="sd">            canvas (ctk.CTkCanvas, optional): If no canvas is provided, picker will pick colors from the rgb_picker_canvas.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">color</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">canvas</span><span class="p">:</span>
                <span class="n">canvas_to_pick</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rgb_picker_canvas</span>
                <span class="n">image_to_pick</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resized_rgb_img</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">canvas_to_pick</span> <span class="o">=</span> <span class="n">canvas</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_mode</span> <span class="o">==</span> <span class="s2">&quot;actual&quot;</span><span class="p">:</span>
                    <span class="n">image_to_pick</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ld_img</span>
                <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_mode</span> <span class="o">==</span> <span class="s2">&quot;zoomed&quot;</span><span class="p">:</span>
                    <span class="n">image_to_pick</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">zoomed_ld_img</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">image_to_pick</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resized_ld_img</span>

            <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">canvas_to_pick</span><span class="o">.</span><span class="n">canvasx</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">x</span><span class="p">),</span> <span class="n">canvas_to_pick</span><span class="o">.</span><span class="n">canvasy</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>

            <span class="n">rgb_picker_bbox</span> <span class="o">=</span> <span class="n">canvas_to_pick</span><span class="o">.</span><span class="n">bbox</span><span class="p">(</span><span class="s2">&quot;img&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">rgb_picker_bbox</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="n">rgb_picker_bbox</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">rgb_picker_bbox</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">y</span> <span class="o">&lt;=</span> <span class="n">rgb_picker_bbox</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">canvas_to_pick</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">cursor</span><span class="o">=</span><span class="s2">&quot;dotbox&quot;</span><span class="p">)</span>
                <span class="c1"># x, y = event.x, event.y</span>
                <span class="n">pixel</span> <span class="o">=</span> <span class="n">image_to_pick</span><span class="o">.</span><span class="n">getpixel</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
                <span class="n">red</span> <span class="o">=</span> <span class="n">pixel</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">green</span> <span class="o">=</span> <span class="n">pixel</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">blue</span> <span class="o">=</span> <span class="n">pixel</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">red_slider</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">red</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">red_slider_event</span><span class="p">(</span><span class="n">color_value</span><span class="o">=</span><span class="n">red</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">green_slider</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">green</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">green_slider_event</span><span class="p">(</span><span class="n">color_value</span><span class="o">=</span><span class="n">green</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">blue_slider</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">blue</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">blue_slider_event</span><span class="p">(</span><span class="n">color_value</span><span class="o">=</span><span class="n">blue</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">canvas_to_pick</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">cursor</span><span class="o">=</span><span class="s2">&quot;arrow&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">rgb_values</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">winfo_rgb</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
            <span class="n">rgb</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">value</span> <span class="o">/</span> <span class="mi">256</span><span class="p">)</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">rgb_values</span><span class="p">)</span>
            <span class="n">red</span> <span class="o">=</span> <span class="n">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">green</span> <span class="o">=</span> <span class="n">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">blue</span> <span class="o">=</span> <span class="n">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">red_slider</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">red</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">red_slider_event</span><span class="p">(</span><span class="n">color_value</span><span class="o">=</span><span class="n">red</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">green_slider</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">green</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">green_slider_event</span><span class="p">(</span><span class="n">color_value</span><span class="o">=</span><span class="n">green</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blue_slider</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">blue</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blue_slider_event</span><span class="p">(</span><span class="n">color_value</span><span class="o">=</span><span class="n">blue</span><span class="p">)</span></div>


    <span class="c1"># -------------------------------------------------------------------</span>
<div class="viewcode-block" id="App.modify_previous_color_list">
<a class="viewcode-back" href="../main.html#main.App.modify_previous_color_list">[docs]</a>
    <span class="k">def</span> <span class="nf">modify_previous_color_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Updates the previous colors.</span>

<span class="sd">       Args:</span>
<span class="sd">            event (tkinter.Event):</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">active_color</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">previous_active_color</span><span class="p">:</span>
            <span class="n">old_a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">first_color</span>
            <span class="n">old_b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">second_color</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">first_color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">previous_active_color</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">second_color</span> <span class="o">=</span> <span class="n">old_a</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">first_color_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">first_color</span><span class="p">,</span>
                                           <span class="n">command</span><span class="o">=</span><span class="k">lambda</span> <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">first_color</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_active_color</span><span class="p">(</span><span class="n">color</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">second_color_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">second_color</span><span class="p">,</span>
                                            <span class="n">command</span><span class="o">=</span><span class="k">lambda</span> <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">second_color</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_active_color</span><span class="p">(</span><span class="n">color</span><span class="p">))</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">previous_active_color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">active_color</span></div>


<div class="viewcode-block" id="App.validate_rgb_input_values">
<a class="viewcode-back" href="../main.html#main.App.validate_rgb_input_values">[docs]</a>
    <span class="k">def</span> <span class="nf">validate_rgb_input_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">P</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validates the manual value input on the color sliders.</span>

<span class="sd">        Args:</span>
<span class="sd">            P : Should be an int of range 0 to 255</span>

<span class="sd">        Returns:</span>
<span class="sd">            False if conditions not met.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">P</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">elif</span> <span class="n">P</span> <span class="o">==</span> <span class="s2">&quot;0&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">elif</span> <span class="n">P</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;0&quot;</span><span class="p">:</span>  <span class="c1"># Input must not start with 0</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">elif</span> <span class="n">P</span><span class="o">.</span><span class="n">isdigit</span><span class="p">()</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">P</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">3</span><span class="p">:</span>
            <span class="n">number</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">P</span><span class="p">)</span>
            <span class="k">return</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">number</span> <span class="o">&lt;=</span> <span class="mi">255</span>
        <span class="k">return</span> <span class="kc">False</span></div>


<div class="viewcode-block" id="App.width_slider_event">
<a class="viewcode-back" href="../main.html#main.App.width_slider_event">[docs]</a>
    <span class="k">def</span> <span class="nf">width_slider_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Called on updating the width_slider.</span>

<span class="sd">        Args:</span>
<span class="sd">            event (tkinter.Event):</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">event</span> <span class="o">&gt;=</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">event</span> <span class="o">&lt;</span> <span class="mi">41</span><span class="p">:</span>  <span class="c1"># Displaying color values based on the width range.</span>
            <span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;white&quot;</span>
        <span class="k">elif</span> <span class="n">event</span> <span class="o">==</span> <span class="mi">50</span><span class="p">:</span>
            <span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;red&quot;</span>
            <span class="k">if</span> <span class="n">Tools</span><span class="o">.</span><span class="n">current_tool</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>  <span class="c1"># Eraser</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">error_prompt</span><span class="o">.</span><span class="n">display_error_prompt</span><span class="p">(</span><span class="n">error_msg</span><span class="o">=</span><span class="s2">&quot;Eraser set to &#39;Wipe Current&#39;(50).&quot;</span><span class="p">,</span> <span class="n">priority</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;orange&quot;</span>

        <span class="n">Tools</span><span class="o">.</span><span class="n">stroke_width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width_slider_value_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">event</span><span class="p">),</span> <span class="n">text_color</span><span class="o">=</span><span class="n">color</span><span class="p">)</span></div>


<div class="viewcode-block" id="App.decimate_slider_event">
<a class="viewcode-back" href="../main.html#main.App.decimate_slider_event">[docs]</a>
    <span class="k">def</span> <span class="nf">decimate_slider_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">         Called on updating the decimate_slider.</span>

<span class="sd">         Args:</span>
<span class="sd">             event (tkinter.Event):</span>

<span class="sd">         Returns:</span>
<span class="sd">             None</span>

<span class="sd">         &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">event</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;red&quot;</span>
        <span class="k">elif</span> <span class="n">event</span> <span class="o">&gt;=</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">event</span> <span class="o">&lt;</span> <span class="mi">11</span><span class="p">:</span>
            <span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;orange&quot;</span>
        <span class="k">elif</span> <span class="n">event</span> <span class="o">&gt;=</span> <span class="mi">10</span> <span class="ow">and</span> <span class="n">event</span> <span class="o">&lt;</span> <span class="mi">26</span><span class="p">:</span>
            <span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;white&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;orange&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">decimate_slider_value_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">event</span><span class="p">),</span> <span class="n">text_color</span><span class="o">=</span><span class="n">color</span><span class="p">)</span>
        <span class="n">Tools</span><span class="o">.</span><span class="n">decimate_factor</span> <span class="o">=</span> <span class="n">event</span> <span class="o">/</span> <span class="mi">10</span></div>


<div class="viewcode-block" id="App.change_stroke_width">
<a class="viewcode-back" href="../main.html#main.App.change_stroke_width">[docs]</a>
    <span class="k">def</span> <span class="nf">change_stroke_width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Uses the mouse scroll wheel to update the width_slider.</span>

<span class="sd">        Args:</span>
<span class="sd">            event (tkinter.Event):Mouse scroll event.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">delta</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">Tools</span><span class="o">.</span><span class="n">stroke_width</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">Tools</span><span class="o">.</span><span class="n">stroke_width</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="n">width</span> <span class="o">=</span> <span class="n">Tools</span><span class="o">.</span><span class="n">stroke_width</span>

        <span class="k">if</span> <span class="n">width</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">Tools</span><span class="o">.</span><span class="n">stroke_width</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">width</span> <span class="o">&gt;</span> <span class="mi">50</span><span class="p">:</span>
            <span class="n">Tools</span><span class="o">.</span><span class="n">stroke_width</span> <span class="o">=</span> <span class="mi">50</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">width_slider</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">Tools</span><span class="o">.</span><span class="n">stroke_width</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">Tools</span><span class="o">.</span><span class="n">stroke_width</span> <span class="o">&gt;=</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">Tools</span><span class="o">.</span><span class="n">stroke_width</span> <span class="o">&lt;</span> <span class="mi">41</span><span class="p">:</span>
            <span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;white&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;orange&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width_slider_value_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">Tools</span><span class="o">.</span><span class="n">stroke_width</span><span class="p">),</span> <span class="n">text_color</span><span class="o">=</span><span class="n">color</span><span class="p">)</span></div>


    <span class="c1"># ----------------------------------------------------------------</span>

<div class="viewcode-block" id="App.update_image_canvas">
<a class="viewcode-back" href="../main.html#main.App.update_image_canvas">[docs]</a>
    <span class="k">def</span> <span class="nf">update_image_canvas</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># Rescales the canvas image of window size change.</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Updates the image canvas and the current image.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ld_img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">images</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">image_index</span><span class="p">])</span>  <span class="c1"># Load the image based on the index.</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_mode</span> <span class="o">==</span> <span class="s2">&quot;actual&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">previous_display_mode</span> <span class="o">=</span> <span class="s2">&quot;actual&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="o">.</span><span class="n">reset_actual_size</span><span class="p">()</span>

        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_mode</span> <span class="o">==</span> <span class="s2">&quot;zoomed&quot;</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">lock_zoom</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="o">.</span><span class="n">reset_zoomed_size</span><span class="p">()</span>

        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_mode</span> <span class="o">==</span> <span class="s2">&quot;zoomed&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="o">.</span><span class="n">reset_zoomed_size</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">scale_factor</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">display_mode</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">previous_display_mode</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span>

        <span class="c1"># Clearing the stored zoomed image from memmory.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">zoomed_ld_img</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">zoomed_ld_img</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="c1"># Also responsible for removing the text selection border on clicking next.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">call_display_mode_func</span><span class="p">()</span>

        <span class="n">aspect_ratio</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ld_img</span><span class="o">.</span><span class="n">width</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">ld_img</span><span class="o">.</span><span class="n">height</span>
        <span class="c1"># aspect_width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">aspect_width_maxed</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame_width_maxed</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame_height_maxed</span> <span class="o">*</span> <span class="n">aspect_ratio</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">aspect_height_maxed</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame_height_maxed</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame_width_maxed</span> <span class="o">/</span> <span class="n">aspect_ratio</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">maximized_canvas_size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">aspect_width_maxed</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">aspect_height_maxed</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">aspect_width_windowed</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame_width_windowed</span><span class="p">,</span>
                                         <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame_height_windowed</span> <span class="o">*</span> <span class="n">aspect_ratio</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">aspect_height_windowed</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame_height_windowed</span><span class="p">,</span>
                                          <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image_frame_width_windowed</span> <span class="o">/</span> <span class="n">aspect_ratio</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">windowed_canvas_size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">aspect_width_windowed</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">aspect_height_windowed</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_state</span> <span class="o">==</span> <span class="s2">&quot;m&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resized_ld_img</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ld_img</span><span class="o">.</span><span class="n">resize</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">aspect_width_maxed</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">aspect_height_maxed</span><span class="p">),</span>
                                                     <span class="n">resample</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">viewport_resample</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">aspect_width_maxed</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">aspect_height_maxed</span><span class="p">)</span>

        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_state</span> <span class="o">==</span> <span class="s2">&quot;w&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resized_ld_img</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ld_img</span><span class="o">.</span><span class="n">resize</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">aspect_width_windowed</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">aspect_height_windowed</span><span class="p">),</span>
                                                     <span class="n">resample</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">viewport_resample</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">aspect_width_windowed</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">aspect_height_windowed</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">current_imagetk</span> <span class="o">=</span> <span class="n">ImageTk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resized_ld_img</span><span class="p">)</span>
        <span class="n">center_x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resized_ld_img</span><span class="o">.</span><span class="n">width</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="n">center_y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resized_ld_img</span><span class="o">.</span><span class="n">height</span> <span class="o">//</span> <span class="mi">2</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">display_image</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">current_imagetk</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">coords</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">display_image</span><span class="p">,</span> <span class="n">center_x</span><span class="p">,</span> <span class="n">center_y</span><span class="p">)</span>
        <span class="c1"># moves the image to lower stack so the drawing on top is visible</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">tag_lower</span><span class="p">(</span><span class="s2">&quot;img&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">scrollregion</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">bbox</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">display_image</span><span class="p">))</span>

        <span class="c1"># self.canvas_gm.hide_proxy_annotations()</span>
        <span class="c1"># self.canvas_gm.hide_parent_annotations()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">overlay_gm</span><span class="o">.</span><span class="n">hide_parent_overlay_annotations</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">overlay_gm</span><span class="o">.</span><span class="n">hide_proxy_overlay_annotations</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_state</span> <span class="o">==</span> <span class="s2">&quot;w&quot;</span><span class="p">:</span>
            <span class="c1"># Hides proxy annotation of the last viewed image index.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="o">.</span><span class="n">hide_proxy_annotations</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="o">.</span><span class="n">reveal_proxy_annotations</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">overlay_gm</span><span class="o">.</span><span class="n">reveal_proxy_overlay_annotations</span><span class="p">()</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Hides parent annotation of the last viewed image index.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="o">.</span><span class="n">hide_parent_annotations</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="o">.</span><span class="n">reveal_parent_annotations</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">overlay_gm</span><span class="o">.</span><span class="n">reveal_parent_overlay_annotations</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">overlay_canvas_visible</span><span class="p">:</span>  <span class="c1"># If overlay canvas was visible before update, re-enable it</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">toggle_overlay_canvas</span><span class="p">(</span><span class="n">override</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">rescaled</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div>


<div class="viewcode-block" id="App.zoom_image">
<a class="viewcode-back" href="../main.html#main.App.zoom_image">[docs]</a>
    <span class="k">def</span> <span class="nf">zoom_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">lock_zoom</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Zooms the current image with the mouse cursor as anchor.</span>

<span class="sd">        Args:</span>
<span class="sd">            event(tkinter.Event): Mouse Position to anchor the zoom.</span>
<span class="sd">            lock_zoom (bool):If True,stores zoom value and scroll position and applies it to the next displayed image.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">lock_zoom</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">delta</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_mode</span> <span class="o">==</span> <span class="s2">&quot;default&quot;</span><span class="p">:</span>
                <span class="k">return</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_mode</span> <span class="o">==</span> <span class="s2">&quot;actual&quot;</span><span class="p">:</span>
                <span class="k">return</span>

            <span class="n">mouse_canvasx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">canvasx</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
            <span class="n">mouse_canvasy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">canvasy</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">delta</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">scale_factor</span> <span class="o">*=</span> <span class="mf">1.5</span>  <span class="c1"># Zoom in</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">scale_factor</span> <span class="o">*=</span> <span class="mi">1</span> <span class="o">/</span> <span class="mf">1.5</span>  <span class="c1"># Zoom out</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scale_factor</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale_factor</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">display_mode</span> <span class="o">=</span> <span class="s2">&quot;zoomed&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">previous_display_mode</span> <span class="o">!=</span> <span class="s2">&quot;zoomed&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">call_display_mode_func</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">previous_display_mode</span> <span class="o">=</span> <span class="s2">&quot;zoomed&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">previous_display_mode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_mode</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">zoomed_ld_img</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ld_img</span><span class="o">.</span><span class="n">resize</span><span class="p">((</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resized_ld_img</span><span class="o">.</span><span class="n">width</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale_factor</span><span class="p">),</span>
                                                 <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resized_ld_img</span><span class="o">.</span><span class="n">height</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale_factor</span><span class="p">)),</span>
                                                <span class="n">resample</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">viewport_resample</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">current_imagetk</span> <span class="o">=</span> <span class="n">ImageTk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">zoomed_ld_img</span><span class="p">)</span>

        <span class="n">center_x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">zoomed_ld_img</span><span class="o">.</span><span class="n">width</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="n">center_y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">zoomed_ld_img</span><span class="o">.</span><span class="n">height</span> <span class="o">//</span> <span class="mi">2</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">zoomed_ld_img</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">zoomed_ld_img</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">display_image</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">current_imagetk</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">coords</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">display_image</span><span class="p">,</span> <span class="n">center_x</span><span class="p">,</span> <span class="n">center_y</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">tag_lower</span><span class="p">(</span><span class="s2">&quot;img&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">scrollregion</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">bbox</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">display_image</span><span class="p">))</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">lock_zoom</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">delta</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># Zoom in</span>
                <span class="n">new_mouse_x</span> <span class="o">=</span> <span class="n">mouse_canvasx</span> <span class="o">*</span> <span class="mf">1.5</span>
                <span class="n">new_mouse_y</span> <span class="o">=</span> <span class="n">mouse_canvasy</span> <span class="o">*</span> <span class="mf">1.5</span>
                <span class="n">zoomin_x</span> <span class="o">=</span> <span class="n">new_mouse_x</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">canvasx</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
                <span class="n">zoomin_y</span> <span class="o">=</span> <span class="n">new_mouse_y</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">canvasy</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">xview</span><span class="p">(</span><span class="s1">&#39;scroll&#39;</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">zoomin_x</span><span class="p">),</span> <span class="s1">&#39;units&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">yview</span><span class="p">(</span><span class="s1">&#39;scroll&#39;</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">zoomin_y</span><span class="p">),</span> <span class="s1">&#39;units&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="o">.</span><span class="n">scale_to_zoomed_size</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;+&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>  <span class="c1"># Zoom out</span>
                <span class="n">znew_mouse_x</span> <span class="o">=</span> <span class="n">mouse_canvasx</span> <span class="o">/</span> <span class="mf">1.5</span>
                <span class="n">znew_mouse_y</span> <span class="o">=</span> <span class="n">mouse_canvasy</span> <span class="o">/</span> <span class="mf">1.5</span>
                <span class="n">zoomout_x</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">znew_mouse_x</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">canvasx</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">x</span><span class="p">))</span>
                <span class="n">zoomout_y</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">znew_mouse_y</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">canvasy</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">y</span><span class="p">))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">xview</span><span class="p">(</span><span class="s1">&#39;scroll&#39;</span><span class="p">,</span> <span class="n">zoomout_x</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">yview</span><span class="p">(</span><span class="s1">&#39;scroll&#39;</span><span class="p">,</span> <span class="n">zoomout_y</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="o">.</span><span class="n">scale_to_zoomed_size</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="o">.</span><span class="n">scale_to_zoomed_size</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;+&quot;</span><span class="p">,</span> <span class="n">lock_zoom</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale_factor</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_image_canvas</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">call_display_mode_func</span><span class="p">()</span></div>


            <span class="c1"># self.display_mode=&quot;default&quot;</span>

<div class="viewcode-block" id="App.show_actual_scale">
<a class="viewcode-back" href="../main.html#main.App.show_actual_scale">[docs]</a>
    <span class="k">def</span> <span class="nf">show_actual_scale</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Displays the current image in its actual size, 1:1 ratio.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Directly load the image as it is.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_mode</span> <span class="o">==</span> <span class="s2">&quot;actual&quot;</span><span class="p">:</span>
            <span class="c1"># Prevents from setting the actual size twice.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="o">.</span><span class="n">reset_actual_size</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_image_canvas</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_mode</span> <span class="o">==</span> <span class="s2">&quot;zoomed&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="o">.</span><span class="n">reset_zoomed_size</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_image_canvas</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">display_mode</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">show_actual_scale</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">current_imagetk</span> <span class="o">=</span> <span class="n">ImageTk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ld_img</span><span class="p">)</span>

        <span class="n">center_x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ld_img</span><span class="o">.</span><span class="n">width</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="n">center_y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ld_img</span><span class="o">.</span><span class="n">height</span> <span class="o">//</span> <span class="mi">2</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">display_image</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">current_imagetk</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">coords</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">display_image</span><span class="p">,</span> <span class="n">center_x</span><span class="p">,</span> <span class="n">center_y</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">tag_lower</span><span class="p">(</span><span class="s2">&quot;img&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ld_img</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ld_img</span><span class="o">.</span><span class="n">height</span><span class="p">,</span>
                                    <span class="n">scrollregion</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">bbox</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">display_image</span><span class="p">))</span>

        <span class="n">canvas_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ld_img</span><span class="o">.</span><span class="n">width</span>
        <span class="n">canvas_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ld_img</span><span class="o">.</span><span class="n">height</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">maximized_mode</span><span class="p">:</span>
            <span class="n">frame_center_x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">maximized_frame_size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span>
            <span class="n">frame_center_y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">maximized_frame_size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">frame_center_x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">windowed_frame_size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span>
            <span class="n">frame_center_y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">windowed_frame_size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span>

        <span class="n">dx</span> <span class="o">=</span> <span class="p">(</span><span class="n">canvas_width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="n">frame_center_x</span>
        <span class="n">dy</span> <span class="o">=</span> <span class="p">(</span><span class="n">canvas_height</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="n">frame_center_y</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">xview_scroll</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">dx</span><span class="p">),</span> <span class="s2">&quot;units&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">yview_scroll</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">dy</span><span class="p">),</span> <span class="s2">&quot;units&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="o">.</span><span class="n">scale_to_actual_size</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">display_mode</span> <span class="o">=</span> <span class="s2">&quot;actual&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">actual_scale_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Actual Scale: ON&quot;</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">TOP_BUTTON_FG_ACTIVE</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">call_display_mode_func</span><span class="p">()</span></div>


<div class="viewcode-block" id="App.handle_hq_view_btn">
<a class="viewcode-back" href="../main.html#main.App.handle_hq_view_btn">[docs]</a>
    <span class="k">def</span> <span class="nf">handle_hq_view_btn</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the resampling algorithm to Image.LANCZOS resulting in a higher quality image.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">viewport_resample</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># 3 is returned if it&#39;s bicubic.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hq_view_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;HQ View: ON&quot;</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">TOP_BUTTON_FG_ACTIVE</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">viewport_resample</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">LANCZOS</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hq_view_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;HQ View: OFF&quot;</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">TOP_BUTTON_FG</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">viewport_resample</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">NEAREST</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_image_canvas</span><span class="p">()</span></div>


<div class="viewcode-block" id="App.handle_hide_annotations_btn">
<a class="viewcode-back" href="../main.html#main.App.handle_hide_annotations_btn">[docs]</a>
    <span class="k">def</span> <span class="nf">handle_hide_annotations_btn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enable</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method called on toggling the hide_annotations_btn</span>

<span class="sd">        Args:</span>
<span class="sd">            enable (bool,optional):If True sets the button to active.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="o">.</span><span class="n">remove_text_item_selection</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="o">.</span><span class="n">annotation_visibility</span> <span class="ow">or</span> <span class="n">enable</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hide_annotations_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Annotations: ON&quot;</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">TOP_BUTTON_FG_ACTIVE</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="o">.</span><span class="n">annotation_visibility</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">maximized_mode</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="o">.</span><span class="n">reveal_parent_annotations</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="o">.</span><span class="n">reveal_proxy_annotations</span><span class="p">()</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_mode</span> <span class="o">!=</span> <span class="s2">&quot;default&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="o">.</span><span class="n">hide_current_text_items</span><span class="p">()</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="o">.</span><span class="n">hide_proxy_annotations</span><span class="p">(</span><span class="n">hide_current</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="o">.</span><span class="n">hide_parent_annotations</span><span class="p">(</span><span class="n">hide_current</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="o">.</span><span class="n">annotation_visibility</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="c1"># Set current tool to cursor.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hide_annotations_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Annotations: OFF&quot;</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">TOP_BUTTON_FG</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">cursor_tool</span><span class="p">()</span></div>


<div class="viewcode-block" id="App.handle_actual_scale_btn">
<a class="viewcode-back" href="../main.html#main.App.handle_actual_scale_btn">[docs]</a>
    <span class="k">def</span> <span class="nf">handle_actual_scale_btn</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method called on toggling the actual_scale_btn</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_mode</span> <span class="o">==</span> <span class="s2">&quot;actual&quot;</span><span class="p">:</span>
            <span class="c1"># self.actual_scale_btn.configure(text=&quot;Actual Scale: OFF&quot;,fg_color=self.TOP_BUTTON_FG)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">previous_display_mode</span> <span class="o">=</span> <span class="s2">&quot;actual&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_image_canvas</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_mode</span> <span class="o">==</span> <span class="s2">&quot;default&quot;</span> <span class="ow">or</span> <span class="s2">&quot;zoomed&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">show_actual_scale</span><span class="p">()</span></div>

            <span class="c1"># self.actual_scale_btn.configure(text=&quot;Actual Scale: ON&quot;,fg_color=self.TOP_BUTTON_FG_ACTIVE)</span>

<div class="viewcode-block" id="App.handle_lock_zoom_btn">
<a class="viewcode-back" href="../main.html#main.App.handle_lock_zoom_btn">[docs]</a>
    <span class="k">def</span> <span class="nf">handle_lock_zoom_btn</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">           Method called on toggling the lock_zoom_btn</span>

<span class="sd">           Returns:</span>
<span class="sd">               None</span>

<span class="sd">           &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">lock_zoom</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lock_zoom</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lock_zoom_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Zoom:&quot;</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">TOP_BUTTON_FG</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">unlock_ld_img</span><span class="p">,</span>
                                         <span class="n">compound</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lock_zoom</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lock_zoom_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Zoom:&quot;</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">TOP_BUTTON_FG_ACTIVE</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">lock_ld_img</span><span class="p">,</span>
                                         <span class="n">compound</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="App.call_display_mode_func">
<a class="viewcode-back" href="../main.html#main.App.call_display_mode_func">[docs]</a>
    <span class="k">def</span> <span class="nf">call_display_mode_func</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Called whenever the display_mode changes.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_mode</span> <span class="o">==</span> <span class="s2">&quot;default&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">text_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_ld_img</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">text_color_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_color_ld_img</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">current_tool</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">cursor_tool</span><span class="p">()</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">text_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_disabled_ld_img</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">text_color_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">,</span> <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">text_color_disabled_ld_img</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="o">.</span><span class="n">remove_text_item_selection</span><span class="p">()</span>

        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="k">pass</span></div>


<div class="viewcode-block" id="App.handle_queue">
<a class="viewcode-back" href="../main.html#main.App.handle_queue">[docs]</a>
    <span class="k">def</span> <span class="nf">handle_queue</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds or removes the image from the render queue based on the value from queue_switch button.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">switch_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">queue_switch</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">switch_value</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># switch is on</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_queue_switch</span><span class="p">(</span><span class="n">is_queued</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_to_queue</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_queue_switch</span><span class="p">(</span><span class="n">is_queued</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">remove_from_queue</span><span class="p">()</span></div>


<div class="viewcode-block" id="App.add_to_queue">
<a class="viewcode-back" href="../main.html#main.App.add_to_queue">[docs]</a>
    <span class="k">def</span> <span class="nf">add_to_queue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds an image to the Render queue.</span>

<span class="sd">        Args:</span>
<span class="sd">            index(int, optional):Index of the image to add to the Render queue, Default is the index of the currently displayed image.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">index</span> <span class="o">=</span> <span class="n">index</span> <span class="k">if</span> <span class="n">index</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_index</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_data</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">&quot;in_queue&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span></div>


<div class="viewcode-block" id="App.remove_from_queue">
<a class="viewcode-back" href="../main.html#main.App.remove_from_queue">[docs]</a>
    <span class="k">def</span> <span class="nf">remove_from_queue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">         Removes an image from the Render queue.</span>

<span class="sd">         Args:</span>
<span class="sd">             index(int, optional):Index of the image to add to the Render queue, Default is the index of the currently displayed image.</span>

<span class="sd">         Returns:</span>
<span class="sd">             None</span>
<span class="sd">         &quot;&quot;&quot;</span>

        <span class="n">index</span> <span class="o">=</span> <span class="n">index</span> <span class="k">if</span> <span class="n">index</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_index</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_data</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">&quot;in_queue&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span></div>


    <span class="c1"># ------Canvas Panning----------------------</span>
<div class="viewcode-block" id="App.set_drag">
<a class="viewcode-back" href="../main.html#main.App.set_drag">[docs]</a>
    <span class="k">def</span> <span class="nf">set_drag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the starting drag point on the canvas for panning.</span>

<span class="sd">        Args:</span>
<span class="sd">            event (tkinter.Event): Mouse click position.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># self.image_canvas.scan_mark(event.x, event.y)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_x</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_y</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">y</span></div>


<div class="viewcode-block" id="App.drag_canvas">
<a class="viewcode-back" href="../main.html#main.App.drag_canvas">[docs]</a>
    <span class="k">def</span> <span class="nf">drag_canvas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Pans the canvas.</span>

<span class="sd">        Args:</span>
<span class="sd">            event (tkinter.Event): Mouse Drag event.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">dx</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_x</span>
        <span class="n">dy</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_y</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">xview</span><span class="p">(</span><span class="s1">&#39;scroll&#39;</span><span class="p">,</span> <span class="o">-</span><span class="n">dx</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">yview</span><span class="p">(</span><span class="s1">&#39;scroll&#39;</span><span class="p">,</span> <span class="o">-</span><span class="n">dy</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_x</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_y</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">y</span></div>


    <span class="c1"># -----Decorator----------------------------------</span>
<div class="viewcode-block" id="App.edit_data">
<a class="viewcode-back" href="../main.html#main.App.edit_data">[docs]</a>
    <span class="k">def</span> <span class="nf">edit_data</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Decorator responsible for updating the text and settings to the project dictionary as well as</span>
<span class="sd">            updating the UI elements before and after displaying a different image.</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nd">@wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Wrapper function for the edit_data decorator.</span>

<span class="sd">            Args:</span>
<span class="sd">                self:</span>
<span class="sd">                *args:</span>
<span class="sd">                **kwargs:</span>

<span class="sd">            Returns:</span>
<span class="sd">                The decorated method.</span>

<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">available_index</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># Do nothing if the app has only one image loaded.</span>
                <span class="k">return</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">prev_image_index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_index</span>
            <span class="c1"># Checks if the current comment box has any text and saves to dictionary, returns True if Text exists.</span>
            <span class="n">has_annotation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_annotation</span><span class="p">()</span>
            <span class="n">is_queued</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_queue_status</span><span class="p">()</span>
            <span class="c1"># --------------------------------------------------</span>
            <span class="c1"># is the current image the first one?</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_index</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_index</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">available_index</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">previous_image_index</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>  <span class="c1"># coming from 1st or last?</span>
                    <span class="n">prev_index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_index</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">previous_image_index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
                    <span class="n">prev_index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_index</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">prev_index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
            <span class="c1"># reset the graphics and image to default from actual image ratio.</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_mode</span> <span class="o">==</span> <span class="s2">&quot;actual&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="o">.</span><span class="n">reset_actual_size</span><span class="p">()</span>


            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_mode</span> <span class="o">==</span> <span class="s2">&quot;zoomed&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">x_scroll</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas_scrollbar_x</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">y_scroll</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas_scrollbar_y</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="o">.</span><span class="n">reset_zoomed_size</span><span class="p">()</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">prev_display_mode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_mode</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">display_mode</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span>
            <span class="c1"># Calls the decorated method.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">last_viewed_image_index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_index</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prev_scale_factor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale_factor</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">error_prompt</span><span class="o">.</span><span class="n">hide_error_prompt</span><span class="p">(</span><span class="n">animate</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="n">main_func</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

            <span class="c1"># ------After index change------------</span>
            <span class="c1"># after function execution and image index is updated. New image loads.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">previous_image_index</span> <span class="o">=</span> <span class="n">prev_index</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">current_frame_label</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">image_index</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_outliner_selection</span><span class="p">(</span><span class="n">has_annotation</span><span class="o">=</span><span class="n">has_annotation</span><span class="p">,</span> <span class="n">is_queued</span><span class="o">=</span><span class="n">is_queued</span><span class="p">)</span>
            <span class="n">is_current_index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_queue_status</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_queue_switch</span><span class="p">(</span><span class="n">is_queued</span><span class="o">=</span><span class="n">is_current_index</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">update_image_canvas</span><span class="p">()</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">prev_display_mode</span> <span class="o">==</span> <span class="s2">&quot;actual&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">display_mode</span> <span class="o">=</span> <span class="s2">&quot;default&quot;</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">show_actual_scale</span><span class="p">()</span>

            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">prev_display_mode</span> <span class="o">==</span> <span class="s2">&quot;zoomed&quot;</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">lock_zoom</span><span class="p">:</span>
                <span class="c1"># Scale factor gets reset to 1 in the rescale_canvas_frame</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">scale_factor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prev_scale_factor</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">zoom_image</span><span class="p">(</span><span class="n">lock_zoom</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">xview_moveto</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x_scroll</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">yview_moveto</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y_scroll</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

            <span class="c1"># Scrolls the outliner to the current image index.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scroll_to_view</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">configure_button_functionality</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_filename</span><span class="p">()</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">overlay_canvas_visible</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">toggle_overlay_canvas</span><span class="p">(</span><span class="n">override</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

            <span class="n">memory_info</span> <span class="o">=</span> <span class="n">psutil</span><span class="o">.</span><span class="n">Process</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pid</span><span class="p">)</span><span class="o">.</span><span class="n">memory_info</span><span class="p">()</span>
            <span class="c1"># print(f&quot;Memory used: {memory_info.rss / (1024 * 1024)} MB&quot;)</span>
            <span class="k">return</span> <span class="n">main_func</span>

        <span class="k">return</span> <span class="n">wrapper</span></div>


    <span class="c1"># ----Decorator Methods--------------------------------------</span>

<div class="viewcode-block" id="App.has_annotation">
<a class="viewcode-back" href="../main.html#main.App.has_annotation">[docs]</a>
    <span class="k">def</span> <span class="nf">has_annotation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the Image in the provided index has any annotations.</span>

<span class="sd">        Args:</span>
<span class="sd">            index (int,optional): Index of the image to check for annotation, Default is the current viewed image.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if the index has annotations, else False.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">index</span> <span class="o">=</span> <span class="n">index</span> <span class="k">if</span> <span class="n">index</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_index</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">graphics_data</span><span class="p">[</span><span class="n">index</span><span class="p">]:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div>


<div class="viewcode-block" id="App.get_queue_status">
<a class="viewcode-back" href="../main.html#main.App.get_queue_status">[docs]</a>
    <span class="k">def</span> <span class="nf">get_queue_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the queue status of the index.</span>

<span class="sd">        Args:</span>
<span class="sd">            index (int,optional):Index to check for queue status. Default is the current index.</span>

<span class="sd">        Returns:</span>
<span class="sd">                bool: True if index is queued, False if not queued.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">index</span> <span class="o">=</span> <span class="n">index</span> <span class="k">if</span> <span class="n">index</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_index</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_data</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">&quot;in_queue&quot;</span><span class="p">]:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div>


<div class="viewcode-block" id="App.update_outliner_selection">
<a class="viewcode-back" href="../main.html#main.App.update_outliner_selection">[docs]</a>
    <span class="k">def</span> <span class="nf">update_outliner_selection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">has_annotation</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">is_queued</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Updates the color of the outliner index selection based on the status of the index.</span>

<span class="sd">        Args:</span>
<span class="sd">            has_annotation= True if the index has annotation. Default is False.</span>
<span class="sd">            is_queued (bool):True if the index is in queue. Default is True</span>

<span class="sd">        Returns:</span>
<span class="sd">                None</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">has_annotation</span><span class="p">:</span>
            <span class="n">index_color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index_queue_comment_col</span>
            <span class="n">index_text_color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index_queue_comment_txt_col</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">index_color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index_queue_col</span>
            <span class="n">index_text_color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index_queue_txt_col</span>

        <span class="k">if</span> <span class="n">has_annotation</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">is_queued</span><span class="p">:</span>
            <span class="n">index_color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index_queue_comment_remove_col</span>
            <span class="n">index_text_color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index_removed_txt_col</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="n">is_queued</span><span class="p">:</span>
            <span class="n">index_color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index_removed_col</span>
            <span class="n">index_text_color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index_removed_txt_col</span>

        <span class="c1"># Assigns colors to the previous index,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outliner</span><span class="o">.</span><span class="n">file_index_list</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">last_viewed_image_index</span><span class="p">]</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="n">index_color</span><span class="p">,</span>
                                                                              <span class="n">text_color</span><span class="o">=</span><span class="n">index_text_color</span><span class="p">)</span>

        <span class="c1"># Assign selection color and disables the current Index.</span>

        <span class="n">current_index_button</span><span class="p">:</span> <span class="n">ctk</span><span class="o">.</span><span class="n">CTkButton</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">outliner</span><span class="o">.</span><span class="n">file_index_list</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">image_index</span><span class="p">]</span>
        <span class="n">current_index_button</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">index_selected_col</span><span class="p">,</span>
                                       <span class="n">text_color_disabled</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">index_selected_txt_col</span><span class="p">)</span></div>


<div class="viewcode-block" id="App.update_outliner_color">
<a class="viewcode-back" href="../main.html#main.App.update_outliner_color">[docs]</a>
    <span class="k">def</span> <span class="nf">update_outliner_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">has_annotation</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">is_queued</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Updates the color of the Outliner index based on the status of the index.</span>

<span class="sd">         Args:</span>
<span class="sd">            has_annotation= True if the index has annotation. Default is False.</span>
<span class="sd">            is_queued (bool):True if the index is in queue. Default is True</span>

<span class="sd">        Returns:</span>
<span class="sd">                None</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">index</span> <span class="o">=</span> <span class="n">index</span> <span class="k">if</span> <span class="n">index</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_index</span>
        <span class="k">if</span> <span class="n">has_annotation</span><span class="p">:</span>
            <span class="n">index_color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index_queue_comment_col</span>
            <span class="n">index_text_color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index_queue_comment_txt_col</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">index_color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index_queue_col</span>
            <span class="n">index_text_color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index_queue_txt_col</span>

        <span class="k">if</span> <span class="n">has_annotation</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">is_queued</span><span class="p">:</span>
            <span class="n">index_color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index_queue_comment_remove_col</span>
            <span class="n">index_text_color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index_removed_txt_col</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="n">is_queued</span><span class="p">:</span>
            <span class="n">index_color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index_removed_col</span>
            <span class="n">index_text_color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index_removed_txt_col</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">outliner</span><span class="o">.</span><span class="n">file_index_list</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">,</span> <span class="n">fg_color</span><span class="o">=</span><span class="n">index_color</span><span class="p">,</span>
                                                       <span class="n">text_color</span><span class="o">=</span><span class="n">index_text_color</span><span class="p">)</span></div>


<div class="viewcode-block" id="App.update_queue_switch">
<a class="viewcode-back" href="../main.html#main.App.update_queue_switch">[docs]</a>
    <span class="k">def</span> <span class="nf">update_queue_switch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">is_queued</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Updates the state of the queue switch without calling the command.</span>

<span class="sd">        Args:</span>
<span class="sd">            is_queued (bool):Default is True</span>

<span class="sd">        Returns:</span>
<span class="sd">                None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">is_queued</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">queue_switch</span><span class="o">.</span><span class="n">select</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">queue_switch</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">button_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">queue_switch_enabled_col</span><span class="p">)</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="n">is_queued</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">queue_switch</span><span class="o">.</span><span class="n">deselect</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">queue_switch</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">button_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">queue_switch_disabled_col</span><span class="p">)</span></div>


<div class="viewcode-block" id="App.configure_button_functionality">
<a class="viewcode-back" href="../main.html#main.App.configure_button_functionality">[docs]</a>
    <span class="k">def</span> <span class="nf">configure_button_functionality</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Disables the functionality of the Media buttons if the index has reached the limit.</span>

<span class="sd">        Returns:</span>
<span class="sd">                None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_index</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">available_index</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">last_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">next_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">last_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_last_img</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">next_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_next_img</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_index</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">first_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prev_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">command</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">first_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_first_img</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">prev_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_previous_img</span><span class="p">)</span></div>


<div class="viewcode-block" id="App.scroll_to_view">
<a class="viewcode-back" href="../main.html#main.App.scroll_to_view">[docs]</a>
    <span class="k">def</span> <span class="nf">scroll_to_view</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Scrolls the Outliner till the current filename/sequence becomes visible in the outliner.</span>

<span class="sd">        Returns:</span>
<span class="sd">                None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">canvas_ypos</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">outliner</span><span class="o">.</span><span class="n">file_index_frame</span><span class="o">.</span><span class="n">winfo_y</span><span class="p">())</span>
        <span class="n">current_button</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">outliner</span><span class="o">.</span><span class="n">file_index_list</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">image_index</span><span class="p">]</span>
        <span class="n">outliner_label_height</span> <span class="o">=</span> <span class="mi">30</span>

        <span class="c1"># Getting on the bottom points of the button.</span>
        <span class="n">index_ypos</span> <span class="o">=</span> <span class="n">current_button</span><span class="o">.</span><span class="n">winfo_y</span><span class="p">()</span> <span class="o">+</span> <span class="n">current_button</span><span class="o">.</span><span class="n">winfo_reqheight</span><span class="p">()</span>

        <span class="n">distance_to_button</span> <span class="o">=</span> <span class="n">index_ypos</span> <span class="o">-</span> <span class="n">canvas_ypos</span>
        <span class="c1"># 30 is the height of the outliner heading.</span>
        <span class="n">scroll_upside_limit</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">scroll_downside_limit</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">outliner</span><span class="o">.</span><span class="n">winfo_reqheight</span><span class="p">()</span> <span class="o">-</span> <span class="n">outliner_label_height</span>

        <span class="k">if</span> <span class="n">distance_to_button</span> <span class="o">&gt;</span> <span class="n">scroll_downside_limit</span><span class="p">:</span>
            <span class="n">increment_value</span> <span class="o">=</span> <span class="n">distance_to_button</span> <span class="o">-</span> <span class="n">scroll_downside_limit</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">outliner</span><span class="o">.</span><span class="n">file_index_frame</span><span class="o">.</span><span class="n">_parent_canvas</span><span class="o">.</span><span class="n">yview_scroll</span><span class="p">(</span><span class="n">increment_value</span><span class="p">,</span> <span class="s2">&quot;units&quot;</span><span class="p">)</span>

        <span class="k">elif</span> <span class="n">distance_to_button</span> <span class="o">&lt;</span> <span class="n">scroll_upside_limit</span><span class="p">:</span>
            <span class="n">increment_value</span> <span class="o">=</span> <span class="n">distance_to_button</span> <span class="o">-</span> <span class="n">scroll_upside_limit</span> <span class="o">-</span> <span class="n">outliner_label_height</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">outliner</span><span class="o">.</span><span class="n">file_index_frame</span><span class="o">.</span><span class="n">_parent_canvas</span><span class="o">.</span><span class="n">yview_scroll</span><span class="p">(</span><span class="n">increment_value</span><span class="p">,</span> <span class="s2">&quot;units&quot;</span><span class="p">)</span></div>


    <span class="c1"># -----------Outliner mouse interactions--------------------</span>

<div class="viewcode-block" id="App.on_right_click">
<a class="viewcode-back" href="../main.html#main.App.on_right_click">[docs]</a>
    <span class="k">def</span> <span class="nf">on_right_click</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Toggles the queue status of the index based on the index right-clicked on the outliner.</span>

<span class="sd">        Args:</span>
<span class="sd">            index (int): Index is hardcoded to each Index elements in the outliner at the time of Outliner creation.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_index</span><span class="p">:</span>
            <span class="c1"># self.update_outliner_selection()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">queue_switch</span><span class="o">.</span><span class="n">toggle</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">image_index_to_toggle</span> <span class="o">=</span> <span class="n">index</span>
            <span class="n">is_queued</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_queue_status</span><span class="p">(</span><span class="n">image_index_to_toggle</span><span class="p">)</span>
            <span class="c1"># has_text = self.has_text(index=image_index_to_toggle)</span>
            <span class="n">has_annotation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_annotation</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">image_index_to_toggle</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">is_queued</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">remove_from_queue</span><span class="p">(</span><span class="n">image_index_to_toggle</span><span class="p">)</span>
                <span class="n">is_queued</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">add_to_queue</span><span class="p">(</span><span class="n">image_index_to_toggle</span><span class="p">)</span>
                <span class="n">is_queued</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_outliner_color</span><span class="p">(</span><span class="n">has_annotation</span><span class="o">=</span><span class="n">has_annotation</span><span class="p">,</span> <span class="n">is_queued</span><span class="o">=</span><span class="n">is_queued</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">image_index_to_toggle</span><span class="p">)</span></div>


<div class="viewcode-block" id="App.on_mouse_enter">
<a class="viewcode-back" href="../main.html#main.App.on_mouse_enter">[docs]</a>
    <span class="k">def</span> <span class="nf">on_mouse_enter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Called on hovering the mouse over the outliner. If shift key pressed during the hover, display full file name in the outliner.</span>

<span class="sd">        Args:</span>
<span class="sd">            index (int): Index value of the outliner index hovered over.</span>
<span class="sd">            event (tkinter.Event): Mouse position.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_hovered_btn_index</span> <span class="o">!=</span> <span class="n">index</span><span class="p">:</span>
            <span class="c1"># Checks if shift key is pressed.</span>
            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">state</span> <span class="o">&amp;</span> <span class="mh">0x1</span><span class="p">:</span>
                <span class="n">current_btn</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">outliner</span><span class="o">.</span><span class="n">file_index_list</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
                <span class="n">button_ypos</span> <span class="o">=</span> <span class="n">current_btn</span><span class="o">.</span><span class="n">winfo_rooty</span><span class="p">()</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">outliner_hover_btn</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image_data</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s1">&#39;file&#39;</span><span class="p">]),</span>
                                                  <span class="n">command</span><span class="o">=</span><span class="n">current_btn</span><span class="o">.</span><span class="n">invoke</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">outliner_hover_btn</span><span class="o">.</span><span class="n">place</span><span class="p">(</span><span class="n">relx</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">rely</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="s1">&#39;sw&#39;</span><span class="p">,</span> <span class="n">in_</span><span class="o">=</span><span class="n">current_btn</span><span class="p">,</span> <span class="p">)</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">current_hovered_btn_index</span> <span class="o">=</span> <span class="n">index</span></div>


<div class="viewcode-block" id="App.on_mouse_leave">
<a class="viewcode-back" href="../main.html#main.App.on_mouse_leave">[docs]</a>
    <span class="k">def</span> <span class="nf">on_mouse_leave</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">override</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">         Called when cursor leaves the outliner. Removes the full filename element from the outliner.</span>

<span class="sd">        Args:</span>
<span class="sd">            index (int): Index value of the outliner index hovered over.</span>
<span class="sd">            event (tkinter.Event): Mouse position.</span>
<span class="sd">            override (bool): True removes the full filename element bypassing any conditions. Default False</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_hovered_btn_index</span> <span class="o">!=</span> <span class="n">index</span> <span class="ow">or</span> <span class="n">override</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">outliner_hover_btn</span><span class="o">.</span><span class="n">place_forget</span><span class="p">()</span></div>


    <span class="c1"># -----------------------------</span>
    <span class="c1"># make a dictionary with index and sequence if possible files_dict= {1:{}}</span>

    <span class="c1"># -------Image Cycling----------------------------</span>

<div class="viewcode-block" id="App.show_next_img">
<a class="viewcode-back" href="../main.html#main.App.show_next_img">[docs]</a>
    <span class="nd">@edit_data</span>
    <span class="k">def</span> <span class="nf">show_next_img</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Shows the next image.</span>

<span class="sd">        Args:</span>
<span class="sd">            event (tkinter.Event):Button click event.</span>

<span class="sd">        Returns:</span>
<span class="sd">                None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_index</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">available_index</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">image_index</span> <span class="o">+=</span> <span class="mi">1</span></div>


<div class="viewcode-block" id="App.show_previous_img">
<a class="viewcode-back" href="../main.html#main.App.show_previous_img">[docs]</a>
    <span class="nd">@edit_data</span>
    <span class="k">def</span> <span class="nf">show_previous_img</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Shows the previous image.</span>

<span class="sd">        Args:</span>
<span class="sd">             event (tkinter.Event):Button click event.</span>

<span class="sd">        Returns:</span>
<span class="sd">                None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_index</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">available_index</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_index</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">image_index</span> <span class="o">-=</span> <span class="mi">1</span></div>


<div class="viewcode-block" id="App.show_last_img">
<a class="viewcode-back" href="../main.html#main.App.show_last_img">[docs]</a>
    <span class="nd">@edit_data</span>
    <span class="k">def</span> <span class="nf">show_last_img</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">          Shows the last image.</span>

<span class="sd">          Args:</span>
<span class="sd">               event (tkinter.Event):Button click event.</span>

<span class="sd">          Returns:</span>
<span class="sd">                  None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_index</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">available_index</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">previous_image_index</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">image_index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">available_index</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">image_index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">previous_image_index</span></div>


<div class="viewcode-block" id="App.show_first_img">
<a class="viewcode-back" href="../main.html#main.App.show_first_img">[docs]</a>
    <span class="nd">@edit_data</span>
    <span class="k">def</span> <span class="nf">show_first_img</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force_first</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">          Shows the first image.</span>

<span class="sd">          Args:</span>
<span class="sd">               event (tkinter.Event):Button click event.</span>

<span class="sd">          Returns:</span>
<span class="sd">                  None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">force_first</span><span class="p">:</span>  <span class="c1"># forcing seek to the first image.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">image_index</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_index</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">previous_image_index</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">image_index</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">image_index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">previous_image_index</span></div>


<div class="viewcode-block" id="App.fetch_from_outline">
<a class="viewcode-back" href="../main.html#main.App.fetch_from_outline">[docs]</a>
    <span class="nd">@edit_data</span>
    <span class="k">def</span> <span class="nf">fetch_from_outline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Display the image according to the index(button) selected on the outliner.</span>

<span class="sd">        Args:</span>
<span class="sd">            index (int): Index of the image to set as current image_index.</span>
<span class="sd">            event (tkinter.Event):Mouse click event.</span>


<span class="sd">        Returns:</span>
<span class="sd">               None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_index</span> <span class="o">=</span> <span class="n">index</span></div>


    <span class="c1"># ------File Processing------------------</span>

<div class="viewcode-block" id="App.open_file_window">
<a class="viewcode-back" href="../main.html#main.App.open_file_window">[docs]</a>
    <span class="k">def</span> <span class="nf">open_file_window</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates and Opens the FileLoad window.</span>

<span class="sd">        Returns:</span>
<span class="sd">                None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">file_load_window</span> <span class="o">=</span> <span class="n">FileLoadWindow</span><span class="p">(</span><span class="n">app</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
        <span class="c1"># self.file_load_window.wait_visibility()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_load_window</span><span class="o">.</span><span class="n">grab_set</span><span class="p">()</span></div>


<div class="viewcode-block" id="App.create_render_menu">
<a class="viewcode-back" href="../main.html#main.App.create_render_menu">[docs]</a>
    <span class="k">def</span> <span class="nf">create_render_menu</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">batch</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a RenderMenu toplevel window and displays the Render Menu window.</span>

<span class="sd">        Args:</span>
<span class="sd">            batch (bool): True adds all images in queue to render. False renders the current image. Default True.</span>

<span class="sd">        Returns:</span>
<span class="sd">                None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">render_menu</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">render_menu</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">render_menu</span> <span class="o">=</span> <span class="n">RenderMenu</span><span class="p">(</span><span class="n">app</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">batch</span><span class="o">=</span><span class="n">batch</span><span class="p">)</span>
        <span class="c1"># self.render_menu.withdraw()  # hide the window</span>
        <span class="c1"># self.render_menu.after(200, self.render_menu.deiconify)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">render_menu</span><span class="o">.</span><span class="n">attributes</span><span class="p">(</span><span class="s1">&#39;-topmost&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="c1"># self.render_menu.wait_visibility()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">render_menu</span><span class="o">.</span><span class="n">grab_set</span><span class="p">()</span></div>


<div class="viewcode-block" id="App.load_images">
<a class="viewcode-back" href="../main.html#main.App.load_images">[docs]</a>
    <span class="k">def</span> <span class="nf">load_images</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the images from the file load window.</span>

<span class="sd">        Returns:</span>
<span class="sd">                None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">protocol</span> <span class="o">=</span> <span class="s2">&quot;images&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">images</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_load_window</span><span class="o">.</span><span class="n">file_list</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">available_index</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">images</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cache_data</span><span class="p">(</span><span class="n">protocol</span><span class="o">=</span><span class="s2">&quot;images&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_layout</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_load_window</span><span class="o">.</span><span class="n">update_file_window_progressbar</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">progress_color</span><span class="o">=</span><span class="s2">&quot;#0FDC54&quot;</span><span class="p">)</span>  <span class="c1"># darkgreen</span>

        <span class="c1"># Makes the main app window visible.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">deiconify</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">350</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">focus_set</span><span class="p">)</span>  <span class="c1"># set focus to the canvas.</span></div>


<div class="viewcode-block" id="App.generate_placeholder_image">
<a class="viewcode-back" href="../main.html#main.App.generate_placeholder_image">[docs]</a>
    <span class="k">def</span> <span class="nf">generate_placeholder_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">image_save_folder</span><span class="p">,</span> <span class="n">image_filename</span><span class="p">,</span> <span class="n">image_size</span><span class="p">):</span>
        <span class="n">blank_image</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;RGB&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">image_size</span><span class="p">),</span> <span class="s2">&quot;#D71EA3&quot;</span><span class="p">)</span>  <span class="c1"># Pink for missing images.</span>

        <span class="n">place_holder_image_savepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">image_save_folder</span><span class="p">,</span> <span class="n">image_filename</span><span class="p">)</span>
        <span class="n">blank_image</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">place_holder_image_savepath</span><span class="p">,</span> <span class="n">quality</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">compress_level</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span></div>


<div class="viewcode-block" id="App.load_project">
<a class="viewcode-back" href="../main.html#main.App.load_project">[docs]</a>
    <span class="k">def</span> <span class="nf">load_project</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">images_folder_override_path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ignore_missing_images</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the Project file from the file load window.</span>

<span class="sd">        Args:</span>
<span class="sd">            project_path(str): Path to the project file.</span>
<span class="sd">            images_folder_override_path(str|None,optional): Path containing the images used in the saved project.</span>
<span class="sd">            ignore_missing_images(bool): True generates blank placeholder images for missing images. False raises error if images not found. Default False.</span>

<span class="sd">        Returns:</span>
<span class="sd">             None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">protocol</span> <span class="o">=</span> <span class="s2">&quot;project&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">project_path</span> <span class="o">=</span> <span class="n">project_path</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cache_data</span><span class="p">(</span><span class="n">protocol</span><span class="o">=</span><span class="s2">&quot;project&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">images</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># Clearing the old images from the list.</span>

        <span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_data</span><span class="p">:</span>
            <span class="n">current_filepath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_data</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">&quot;file&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">current_filepath</span><span class="p">):</span>  <span class="c1"># If path exists then ignore rest.</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">images</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">current_filepath</span><span class="p">)</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">images_folder_override_path</span><span class="p">:</span>
                    <span class="c1"># Replace the folder path of all files.</span>
                    <span class="n">directory</span><span class="p">,</span> <span class="n">image_filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">current_filepath</span><span class="p">)</span>
                    <span class="n">overridden_filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">images_folder_override_path</span><span class="p">,</span> <span class="n">image_filename</span><span class="p">)</span>

                    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">images_folder_override_path</span><span class="p">):</span>
                        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">overridden_filepath</span><span class="p">):</span>
                            <span class="c1"># Rewriting the filepath.</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">images</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">overridden_filepath</span><span class="p">)</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">image_data</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">&quot;file&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">overridden_filepath</span>

                        <span class="k">else</span><span class="p">:</span>
                            <span class="k">if</span> <span class="n">ignore_missing_images</span><span class="p">:</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">generate_placeholder_image</span><span class="p">(</span><span class="n">image_filename</span><span class="o">=</span><span class="n">image_filename</span><span class="p">,</span>
                                                                <span class="n">image_save_folder</span><span class="o">=</span><span class="n">images_folder_override_path</span><span class="p">,</span>
                                                                <span class="n">image_size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image_data</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">&quot;image_size&quot;</span><span class="p">])</span>

                                <span class="c1"># Updating.</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">images</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">overridden_filepath</span><span class="p">)</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">image_data</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">&quot;file&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">overridden_filepath</span>

                            <span class="k">else</span><span class="p">:</span>
                                <span class="k">raise</span> <span class="ne">FileNotFoundError</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">FileNotFoundError</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">FileNotFoundError</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">available_index</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">images</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_graphics_data_dict</span><span class="p">()</span>  <span class="c1"># creating graphics_data and proxy_data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_layout</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">file_load_window</span><span class="o">.</span><span class="n">grab_set</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">canvas_gm</span><span class="o">.</span><span class="n">draw_graphic_elements_from_project_file</span><span class="p">()</span>
        <span class="c1"># Drawing the overlay canvas items.</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">loaded_graphics_data</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">loaded_graphics_data</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]:</span>  <span class="c1"># -1 for overlay annotations -2 for images.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">overlay_gm</span><span class="o">.</span><span class="n">draw_graphic_elements_from_project_file</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">file_load_window</span><span class="o">.</span><span class="n">update_file_window_progressbar</span><span class="p">(</span><span class="mf">0.9</span><span class="p">)</span>  <span class="c1"># No reason. :p</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">file_load_window</span><span class="o">.</span><span class="n">update_file_window_progressbar</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">progress_color</span><span class="o">=</span><span class="s2">&quot;#0FDC54&quot;</span><span class="p">)</span>  <span class="c1"># darkgreen</span>

        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">loaded_graphics_data</span>  <span class="c1"># Clearing from memory.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">cursor_tool</span><span class="p">()</span>  <span class="c1"># Reset to cursor tool</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">reset_tool_variables</span><span class="p">()</span>  <span class="c1"># Reset the tool values like width to default.</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">deiconify</span><span class="p">()</span>
        <span class="c1"># Scrolls the outliner to the top.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outliner</span><span class="o">.</span><span class="n">file_index_frame</span><span class="o">.</span><span class="n">_parent_canvas</span><span class="o">.</span><span class="n">yview_moveto</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_canvas</span><span class="o">.</span><span class="n">focus_set</span><span class="p">()</span>  <span class="c1"># set focus to the canvas.</span></div>


<div class="viewcode-block" id="App.cache_data">
<a class="viewcode-back" href="../main.html#main.App.cache_data">[docs]</a>
    <span class="k">def</span> <span class="nf">cache_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">protocol</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generates a dictionary from the loaded data.</span>

<span class="sd">        Args:</span>
<span class="sd">            protocol (str): &quot;images&quot; or &quot;project&quot;</span>

<span class="sd">        Returns:</span>
<span class="sd">                None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">create_data_dict</span><span class="p">(</span><span class="n">image_size</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">sequence_code</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">in_queue</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Creates a key with &#39;filename&#39;, &#39;sequence_code&#39; and their &#39;queue&#39; status of the image.</span>

<span class="sd">            Args:</span>
<span class="sd">                file (str):file path of the image.</span>
<span class="sd">                sequence_code : Sequence code extracted from the filename.</span>
<span class="sd">                in_queue (bool): Default True.</span>

<span class="sd">            Returns:</span>
<span class="sd">                dict: A dictionary.</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">entry_dict</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">file</span><span class="p">,</span>
                <span class="s2">&quot;sequence_code&quot;</span><span class="p">:</span> <span class="n">sequence_code</span><span class="p">,</span>
                <span class="s2">&quot;image_size&quot;</span><span class="p">:</span> <span class="n">image_size</span><span class="p">,</span>
                <span class="s2">&quot;in_queue&quot;</span><span class="p">:</span> <span class="n">in_queue</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="n">entry_dict</span>

        <span class="c1"># Getting the sequence search mode from the fileload window.</span>
        <span class="n">sequence_search</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_load_window</span><span class="o">.</span><span class="n">sequence_search_mode</span>

        <span class="k">if</span> <span class="n">protocol</span> <span class="o">==</span> <span class="s2">&quot;images&quot;</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">image_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">available_index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
                <span class="n">current_image_sequence_code</span> <span class="o">=</span> <span class="n">FileHandler</span><span class="o">.</span><span class="n">get_sequence_code</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">images</span><span class="p">[</span><span class="n">image_index</span><span class="p">],</span>
                                                                            <span class="n">sequence_search</span><span class="o">=</span><span class="n">sequence_search</span><span class="p">)</span>

                <span class="n">image_filepath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">images</span><span class="p">[</span><span class="n">image_index</span><span class="p">]</span>

                <span class="c1"># Storing the size to generate placeholder images incase if image is removed.</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="k">with</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">image_filepath</span><span class="p">)</span> <span class="k">as</span> <span class="n">img</span><span class="p">:</span>
                        <span class="n">image_size</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">size</span>
                <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                    <span class="k">raise</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">image_data</span><span class="p">[</span><span class="n">image_index</span><span class="p">]</span> <span class="o">=</span> <span class="n">create_data_dict</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="n">image_filepath</span><span class="p">,</span>
                                                                <span class="n">sequence_code</span><span class="o">=</span><span class="n">current_image_sequence_code</span><span class="p">,</span>
                                                                <span class="n">image_size</span><span class="o">=</span><span class="n">image_size</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">create_settings_dict</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">create_graphics_data_dict</span><span class="p">()</span>

        <span class="k">elif</span> <span class="n">protocol</span> <span class="o">==</span> <span class="s2">&quot;project&quot;</span><span class="p">:</span>
            <span class="n">loaded_data</span> <span class="o">=</span> <span class="n">FileHandler</span><span class="o">.</span><span class="n">load_project_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">loaded_data</span><span class="p">:</span>  <span class="c1"># Fetching the values and assigning them to variables.</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">image_data</span> <span class="o">=</span> <span class="n">loaded_data</span><span class="p">[</span><span class="s2">&quot;image_data&quot;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">settings_data</span> <span class="o">=</span> <span class="n">loaded_data</span><span class="p">[</span><span class="s2">&quot;settings&quot;</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">loaded_graphics_data</span> <span class="o">=</span> <span class="n">loaded_data</span><span class="p">[</span><span class="s2">&quot;graphics_data&quot;</span><span class="p">]</span>
                <span class="c1"># self.graphics_data=loaded_data[&quot;graphics_data&quot;]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">project_data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;settings&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings_data</span><span class="p">,</span> <span class="s2">&quot;image_data&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_data</span><span class="p">,</span>
                                     <span class="s2">&quot;graphics_data&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">graphics_data</span><span class="p">}</span></div>


<div class="viewcode-block" id="App.create_settings_dict">
<a class="viewcode-back" href="../main.html#main.App.create_settings_dict">[docs]</a>
    <span class="k">def</span> <span class="nf">create_settings_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creating a dictionary with the settings values used in the RenderMenu and assigns to self.settings_data.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">settings_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;render_overlay&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">render_overlay</span><span class="p">,</span>
            <span class="s2">&quot;trim_overlay&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">trim_overlay</span><span class="p">,</span>
            <span class="s2">&quot;render_sequence_code&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">render_sequence_code</span><span class="p">,</span>
            <span class="s2">&quot;sequence_code_render_position&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">sequence_code_render_position</span><span class="p">,</span>
            <span class="s2">&quot;anti_alias&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">anti_alias_output</span><span class="p">,</span>
            <span class="s2">&quot;include_blanks&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">include_blanks</span><span class="p">,</span>
            <span class="s2">&quot;jpeg_quality&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">jpeg_quality</span><span class="p">,</span>
            <span class="s2">&quot;png_compression&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">png_compression</span><span class="p">,</span>
            <span class="s2">&quot;output_path&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_path</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">settings_data</span> <span class="o">=</span> <span class="n">settings_dict</span></div>


<div class="viewcode-block" id="App.create_graphics_data_dict">
<a class="viewcode-back" href="../main.html#main.App.create_graphics_data_dict">[docs]</a>
    <span class="k">def</span> <span class="nf">create_graphics_data_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates the graphics_data and proxy_data dictionary with keys starting from index -2 to number of total images and empty dictionary as values.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># -2 because, -2 and -1 are needed for overlay elements..</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">graphics_data</span> <span class="o">=</span> <span class="p">{</span><span class="n">i</span><span class="p">:</span> <span class="p">{}</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">available_index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">proxy_data</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graphics_data</span><span class="p">)</span></div>


<div class="viewcode-block" id="App.save_data">
<a class="viewcode-back" href="../main.html#main.App.save_data">[docs]</a>
    <span class="k">def</span> <span class="nf">save_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">from_exit_prompt</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Saves the current project_data dictionary as a .rvp (pickle) file.</span>

<span class="sd">        Args:</span>
<span class="sd">            from_exit_prompt (bool):Whether the method is being called from the exit_prompt. (to set parent for the asksaveasfilename).Default False.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool|None: True if saved, False if failed. None, if operation cancelled.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Updates the settings dictionary</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_settings_dict</span><span class="p">()</span>

        <span class="c1"># Making a copy because graphics data has image_objects which will result in high file saving,</span>
        <span class="c1"># The image_objects are needed for image transformations within the current session.but not for saving.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_graphics_data</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graphics_data</span><span class="p">)</span>

        <span class="c1"># clearing Irrelevant image_object PIL files.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flush_image_objects_from_overlaycache</span><span class="p">()</span>

        <span class="c1"># updated the project_data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">project_data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;settings&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings_data</span><span class="p">,</span>
                             <span class="s2">&quot;image_data&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_data</span><span class="p">,</span>
                             <span class="s2">&quot;graphics_data&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">save_graphics_data</span><span class="p">}</span>

        <span class="k">if</span> <span class="n">from_exit_prompt</span><span class="p">:</span>  <span class="c1"># Parent is the exit_prompt toplevel window.</span>
            <span class="n">project_save_path</span> <span class="o">=</span> <span class="n">filedialog</span><span class="o">.</span><span class="n">asksaveasfilename</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">exit_prompt</span><span class="p">,</span> <span class="n">defaultextension</span><span class="o">=</span><span class="s2">&quot;.rvp&quot;</span><span class="p">,</span>
                                                             <span class="n">filetypes</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;RView&quot;</span><span class="p">,</span> <span class="s2">&quot;*.rvp&quot;</span><span class="p">)])</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># parent is the main app</span>
            <span class="n">project_save_path</span> <span class="o">=</span> <span class="n">filedialog</span><span class="o">.</span><span class="n">asksaveasfilename</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">defaultextension</span><span class="o">=</span><span class="s2">&quot;.rvp&quot;</span><span class="p">,</span>
                                                             <span class="n">filetypes</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;RView&quot;</span><span class="p">,</span> <span class="s2">&quot;*.rvp&quot;</span><span class="p">)])</span>

        <span class="k">if</span> <span class="n">project_save_path</span><span class="p">:</span>
            <span class="n">project_saved</span> <span class="o">=</span> <span class="n">FileHandler</span><span class="o">.</span><span class="n">save_project_file</span><span class="p">(</span><span class="n">project_data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">project_data</span><span class="p">,</span>
                                                          <span class="n">output_path</span><span class="o">=</span><span class="n">project_save_path</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">project_saved</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">True</span>

            <span class="k">else</span><span class="p">:</span>  <span class="c1"># Display an error prompt if project failed to save.</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">error_prompt</span><span class="o">.</span><span class="n">display_error_prompt</span><span class="p">(</span><span class="n">error_msg</span><span class="o">=</span><span class="s2">&quot;Project failed to save.&quot;</span><span class="p">,</span> <span class="n">priority</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="k">return</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="App.flush_image_objects_from_overlaycache">
<a class="viewcode-back" href="../main.html#main.App.flush_image_objects_from_overlaycache">[docs]</a>
    <span class="k">def</span> <span class="nf">flush_image_objects_from_overlaycache</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Removes the PIL.IMAGE objects from the overlaycache dictionary.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">OVERLAY_IMAGES_INDEX</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span>
        <span class="c1"># Image Objects are not needed for loading and saving, so removing them to reduce the save file size.</span>
        <span class="k">for</span> <span class="n">item_id</span><span class="p">,</span> <span class="n">image_element</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">save_graphics_data</span><span class="p">[</span><span class="n">OVERLAY_IMAGES_INDEX</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">del</span> <span class="n">image_element</span><span class="o">.</span><span class="n">image_object</span></div>


<div class="viewcode-block" id="App.close_all">
<a class="viewcode-back" href="../main.html#main.App.close_all">[docs]</a>
    <span class="k">def</span> <span class="nf">close_all</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Opens the exit prompt window.</span>

<span class="sd">        Returns:</span>
<span class="sd">                None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">exit_prompt</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">exit_prompt</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">exit_prompt</span> <span class="o">=</span> <span class="n">ExitPrompt</span><span class="p">(</span><span class="n">app</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
        <span class="c1"># self.exit_prompt.withdraw()</span>
        <span class="c1"># self.after(100,self.exit_prompt.deiconify)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">exit_prompt</span><span class="o">.</span><span class="n">attributes</span><span class="p">(</span><span class="s2">&quot;-topmost&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">exit_prompt</span><span class="o">.</span><span class="n">wait_visibility</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">exit_prompt</span><span class="o">.</span><span class="n">grab_set</span><span class="p">()</span></div>


<div class="viewcode-block" id="App.kill_app">
<a class="viewcode-back" href="../main.html#main.App.kill_app">[docs]</a>
    <span class="k">def</span> <span class="nf">kill_app</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Kills the main app</span>

<span class="sd">        Returns:</span>
<span class="sd">                None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span></div>


    <span class="c1"># ----Relative Maths---------------</span>
<div class="viewcode-block" id="App.get_rel_height">
<a class="viewcode-back" href="../main.html#main.App.get_rel_height">[docs]</a>
    <span class="k">def</span> <span class="nf">get_rel_height</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">times</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the relative height value proportional to the screen height.</span>

<span class="sd">        Args:</span>
<span class="sd">            times(float): A float value that multiplies the screen height.</span>

<span class="sd">        Returns:</span>
<span class="sd">            int: The relative height as an integer.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">height</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">winfo_screenwidth</span><span class="p">()</span> <span class="o">*</span> <span class="mf">0.5625</span><span class="p">)</span> <span class="o">*</span> <span class="n">times</span><span class="p">)</span>
        <span class="c1"># self.screen_height = self.screen_width * 0.5625</span>
        <span class="k">return</span> <span class="n">height</span></div>


<div class="viewcode-block" id="App.get_rel_width">
<a class="viewcode-back" href="../main.html#main.App.get_rel_width">[docs]</a>
    <span class="k">def</span> <span class="nf">get_rel_width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">times</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">         Gets the relative width value proportional to the screen width.</span>

<span class="sd">         Args:</span>
<span class="sd">             times(float): A float value that multiplies the screen width.</span>

<span class="sd">         Returns:</span>
<span class="sd">            int: The relative width as an integer.</span>

<span class="sd">         &quot;&quot;&quot;</span>
        <span class="n">width</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">winfo_screenwidth</span><span class="p">()</span> <span class="o">*</span> <span class="n">times</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">width</span></div>
</div>



<span class="c1"># --------UI tweaks-----------------</span>

<span class="k">try</span><span class="p">:</span>  <span class="c1"># Setting the DPI settings.</span>
    <span class="n">ctypes</span><span class="o">.</span><span class="n">windll</span><span class="o">.</span><span class="n">shcore</span><span class="o">.</span><span class="n">SetProcessDpiAwareness</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="k">except</span><span class="p">:</span>
    <span class="k">pass</span>

<span class="n">ctk</span><span class="o">.</span><span class="n">deactivate_automatic_dpi_awareness</span><span class="p">()</span>


<span class="c1"># --------RUN-----------------</span>
<div class="viewcode-block" id="main">
<a class="viewcode-back" href="../main.html#main.main">[docs]</a>
<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    main</span>
<span class="sd">    Returns:</span>
<span class="sd">        None</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="n">className</span><span class="o">=</span><span class="s2">&quot;R-View Tool&quot;</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span></div>



<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Agnivesh S P.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>